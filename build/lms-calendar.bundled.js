function t(t,e,i,n){var r,s=arguments.length,o=s<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(r=t[a])&&(o=(s<3?r(o):s>3?r(e,i,o):r(e,i))||o);return s>3&&o&&Object.defineProperty(e,i,o),o}"function"==typeof SuppressedError&&SuppressedError;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const e=window,i=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),r=new WeakMap;let s=class{constructor(t,e,i){if(this._$cssResult$=!0,i!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(i&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=r.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&r.set(e,t))}return t}toString(){return this.cssText}};const o=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[n+1]),t[0]);return new s(i,t,n)},a=i?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new s("string"==typeof t?t:t+"",void 0,n))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */;var d;const h=window,l=h.trustedTypes,c=l?l.emptyScript:"",p=h.reactiveElementPolyfillSupport,u={toAttribute(t,e){switch(e){case Boolean:t=t?c:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},v=(t,e)=>e!==t&&(e==e||t==t),g={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:v},f="finalized";let m=class extends HTMLElement{constructor(){super(),this._$Ei=new Map,this.isUpdatePending=!1,this.hasUpdated=!1,this._$El=null,this._$Eu()}static addInitializer(t){var e;this.finalize(),(null!==(e=this.h)&&void 0!==e?e:this.h=[]).push(t)}static get observedAttributes(){this.finalize();const t=[];return this.elementProperties.forEach(((e,i)=>{const n=this._$Ep(i,e);void 0!==n&&(this._$Ev.set(n,i),t.push(n))})),t}static createProperty(t,e=g){if(e.state&&(e.attribute=!1),this.finalize(),this.elementProperties.set(t,e),!e.noAccessor&&!this.prototype.hasOwnProperty(t)){const i="symbol"==typeof t?Symbol():"__"+t,n=this.getPropertyDescriptor(t,i,e);void 0!==n&&Object.defineProperty(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){return{get(){return this[e]},set(n){const r=this[t];this[e]=n,this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)||g}static finalize(){if(this.hasOwnProperty(f))return!1;this[f]=!0;const t=Object.getPrototypeOf(this);if(t.finalize(),void 0!==t.h&&(this.h=[...t.h]),this.elementProperties=new Map(t.elementProperties),this._$Ev=new Map,this.hasOwnProperty("properties")){const t=this.properties,e=[...Object.getOwnPropertyNames(t),...Object.getOwnPropertySymbols(t)];for(const i of e)this.createProperty(i,t[i])}return this.elementStyles=this.finalizeStyles(this.styles),!0}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(a(t))}else void 0!==t&&e.push(a(t));return e}static _$Ep(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}_$Eu(){var t;this._$E_=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$Eg(),this.requestUpdate(),null===(t=this.constructor.h)||void 0===t||t.forEach((t=>t(this)))}addController(t){var e,i;(null!==(e=this._$ES)&&void 0!==e?e:this._$ES=[]).push(t),void 0!==this.renderRoot&&this.isConnected&&(null===(i=t.hostConnected)||void 0===i||i.call(t))}removeController(t){var e;null===(e=this._$ES)||void 0===e||e.splice(this._$ES.indexOf(t)>>>0,1)}_$Eg(){this.constructor.elementProperties.forEach(((t,e)=>{this.hasOwnProperty(e)&&(this._$Ei.set(e,this[e]),delete this[e])}))}createRenderRoot(){var t;const n=null!==(t=this.shadowRoot)&&void 0!==t?t:this.attachShadow(this.constructor.shadowRootOptions);return((t,n)=>{i?t.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet)):n.forEach((i=>{const n=document.createElement("style"),r=e.litNonce;void 0!==r&&n.setAttribute("nonce",r),n.textContent=i.cssText,t.appendChild(n)}))})(n,this.constructor.elementStyles),n}connectedCallback(){var t;void 0===this.renderRoot&&(this.renderRoot=this.createRenderRoot()),this.enableUpdating(!0),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostConnected)||void 0===e?void 0:e.call(t)}))}enableUpdating(t){}disconnectedCallback(){var t;null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostDisconnected)||void 0===e?void 0:e.call(t)}))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e,i=g){var n;const r=this.constructor._$Ep(t,i);if(void 0!==r&&!0===i.reflect){const s=(void 0!==(null===(n=i.converter)||void 0===n?void 0:n.toAttribute)?i.converter:u).toAttribute(e,i.type);this._$El=t,null==s?this.removeAttribute(r):this.setAttribute(r,s),this._$El=null}}_$AK(t,e){var i;const n=this.constructor,r=n._$Ev.get(t);if(void 0!==r&&this._$El!==r){const t=n.getPropertyOptions(r),s="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==(null===(i=t.converter)||void 0===i?void 0:i.fromAttribute)?t.converter:u;this._$El=r,this[r]=s.fromAttribute(e,t.type),this._$El=null}}requestUpdate(t,e,i){let n=!0;void 0!==t&&(((i=i||this.constructor.getPropertyOptions(t)).hasChanged||v)(this[t],e)?(this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$El!==t&&(void 0===this._$EC&&(this._$EC=new Map),this._$EC.set(t,i))):n=!1),!this.isUpdatePending&&n&&(this._$E_=this._$Ej())}async _$Ej(){this.isUpdatePending=!0;try{await this._$E_}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){var t;if(!this.isUpdatePending)return;this.hasUpdated,this._$Ei&&(this._$Ei.forEach(((t,e)=>this[e]=t)),this._$Ei=void 0);let e=!1;const i=this._$AL;try{e=this.shouldUpdate(i),e?(this.willUpdate(i),null===(t=this._$ES)||void 0===t||t.forEach((t=>{var e;return null===(e=t.hostUpdate)||void 0===e?void 0:e.call(t)})),this.update(i)):this._$Ek()}catch(t){throw e=!1,this._$Ek(),t}e&&this._$AE(i)}willUpdate(t){}_$AE(t){var e;null===(e=this._$ES)||void 0===e||e.forEach((t=>{var e;return null===(e=t.hostUpdated)||void 0===e?void 0:e.call(t)})),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ek(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$E_}shouldUpdate(t){return!0}update(t){void 0!==this._$EC&&(this._$EC.forEach(((t,e)=>this._$EO(e,this[e],t))),this._$EC=void 0),this._$Ek()}updated(t){}firstUpdated(t){}};
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var y;m[f]=!0,m.elementProperties=new Map,m.elementStyles=[],m.shadowRootOptions={mode:"open"},null==p||p({ReactiveElement:m}),(null!==(d=h.reactiveElementVersions)&&void 0!==d?d:h.reactiveElementVersions=[]).push("1.6.3");const $=window,_=$.trustedTypes,b=_?_.createPolicy("lit-html",{createHTML:t=>t}):void 0,x="$lit$",w=`lit$${(Math.random()+"").slice(9)}$`,E="?"+w,A=`<${E}>`,S=document,D=()=>S.createComment(""),T=t=>null===t||"object"!=typeof t&&"function"!=typeof t,C=Array.isArray,O="[ \t\n\f\r]",k=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,M=/-->/g,B=/>/g,z=RegExp(`>|${O}(?:([^\\s"'>=/]+)(${O}*=${O}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),R=/'/g,P=/"/g,N=/^(?:script|style|textarea|title)$/i,I=(t=>(e,...i)=>({_$litType$:t,strings:e,values:i}))(1),U=Symbol.for("lit-noChange"),H=Symbol.for("lit-nothing"),j=new WeakMap,L=S.createTreeWalker(S,129,null,!1);function W(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==b?b.createHTML(e):e}const F=(t,e)=>{const i=t.length-1,n=[];let r,s=2===e?"<svg>":"",o=k;for(let e=0;e<i;e++){const i=t[e];let a,d,h=-1,l=0;for(;l<i.length&&(o.lastIndex=l,d=o.exec(i),null!==d);)l=o.lastIndex,o===k?"!--"===d[1]?o=M:void 0!==d[1]?o=B:void 0!==d[2]?(N.test(d[2])&&(r=RegExp("</"+d[2],"g")),o=z):void 0!==d[3]&&(o=z):o===z?">"===d[0]?(o=null!=r?r:k,h=-1):void 0===d[1]?h=-2:(h=o.lastIndex-d[2].length,a=d[1],o=void 0===d[3]?z:'"'===d[3]?P:R):o===P||o===R?o=z:o===M||o===B?o=k:(o=z,r=void 0);const c=o===z&&t[e+1].startsWith("/>")?" ":"";s+=o===k?i+A:h>=0?(n.push(a),i.slice(0,h)+x+i.slice(h)+w+c):i+w+(-2===h?(n.push(void 0),e):c)}return[W(t,s+(t[i]||"<?>")+(2===e?"</svg>":"")),n]};class V{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let r=0,s=0;const o=t.length-1,a=this.parts,[d,h]=F(t,e);if(this.el=V.createElement(d,i),L.currentNode=this.el.content,2===e){const t=this.el.content,e=t.firstChild;e.remove(),t.append(...e.childNodes)}for(;null!==(n=L.nextNode())&&a.length<o;){if(1===n.nodeType){if(n.hasAttributes()){const t=[];for(const e of n.getAttributeNames())if(e.endsWith(x)||e.startsWith(w)){const i=h[s++];if(t.push(e),void 0!==i){const t=n.getAttribute(i.toLowerCase()+x).split(w),e=/([.?@])?(.*)/.exec(i);a.push({type:1,index:r,name:e[2],strings:t,ctor:"."===e[1]?Y:"?"===e[1]?Z:"@"===e[1]?Q:J})}else a.push({type:6,index:r})}for(const e of t)n.removeAttribute(e)}if(N.test(n.tagName)){const t=n.textContent.split(w),e=t.length-1;if(e>0){n.textContent=_?_.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],D()),L.nextNode(),a.push({type:2,index:++r});n.append(t[e],D())}}}else if(8===n.nodeType)if(n.data===E)a.push({type:2,index:r});else{let t=-1;for(;-1!==(t=n.data.indexOf(w,t+1));)a.push({type:7,index:r}),t+=w.length-1}r++}}static createElement(t,e){const i=S.createElement("template");return i.innerHTML=t,i}}function G(t,e,i=t,n){var r,s,o,a;if(e===U)return e;let d=void 0!==n?null===(r=i._$Co)||void 0===r?void 0:r[n]:i._$Cl;const h=T(e)?void 0:e._$litDirective$;return(null==d?void 0:d.constructor)!==h&&(null===(s=null==d?void 0:d._$AO)||void 0===s||s.call(d,!1),void 0===h?d=void 0:(d=new h(t),d._$AT(t,i,n)),void 0!==n?(null!==(o=(a=i)._$Co)&&void 0!==o?o:a._$Co=[])[n]=d:i._$Cl=d),void 0!==d&&(e=G(t,d._$AS(t,e.values),d,n)),e}class X{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){var e;const{el:{content:i},parts:n}=this._$AD,r=(null!==(e=null==t?void 0:t.creationScope)&&void 0!==e?e:S).importNode(i,!0);L.currentNode=r;let s=L.nextNode(),o=0,a=0,d=n[0];for(;void 0!==d;){if(o===d.index){let e;2===d.type?e=new q(s,s.nextSibling,this,t):1===d.type?e=new d.ctor(s,d.name,d.strings,this,t):6===d.type&&(e=new tt(s,this,t)),this._$AV.push(e),d=n[++a]}o!==(null==d?void 0:d.index)&&(s=L.nextNode(),o++)}return L.currentNode=S,r}v(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class q{constructor(t,e,i,n){var r;this.type=2,this._$AH=H,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=n,this._$Cp=null===(r=null==n?void 0:n.isConnected)||void 0===r||r}get _$AU(){var t,e;return null!==(e=null===(t=this._$AM)||void 0===t?void 0:t._$AU)&&void 0!==e?e:this._$Cp}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===(null==t?void 0:t.nodeType)&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=G(this,t,e),T(t)?t===H||null==t||""===t?(this._$AH!==H&&this._$AR(),this._$AH=H):t!==this._$AH&&t!==U&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>C(t)||"function"==typeof(null==t?void 0:t[Symbol.iterator]))(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==H&&T(this._$AH)?this._$AA.nextSibling.data=t:this.$(S.createTextNode(t)),this._$AH=t}g(t){var e;const{values:i,_$litType$:n}=t,r="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=V.createElement(W(n.h,n.h[0]),this.options)),n);if((null===(e=this._$AH)||void 0===e?void 0:e._$AD)===r)this._$AH.v(i);else{const t=new X(r,this),e=t.u(this.options);t.v(i),this.$(e),this._$AH=t}}_$AC(t){let e=j.get(t.strings);return void 0===e&&j.set(t.strings,e=new V(t)),e}T(t){C(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,n=0;for(const r of t)n===e.length?e.push(i=new q(this.k(D()),this.k(D()),this,this.options)):i=e[n],i._$AI(r),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){var i;for(null===(i=this._$AP)||void 0===i||i.call(this,!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){var e;void 0===this._$AM&&(this._$Cp=t,null===(e=this._$AP)||void 0===e||e.call(this,t))}}class J{constructor(t,e,i,n,r){this.type=1,this._$AH=H,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=r,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=H}get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}_$AI(t,e=this,i,n){const r=this.strings;let s=!1;if(void 0===r)t=G(this,t,e,0),s=!T(t)||t!==this._$AH&&t!==U,s&&(this._$AH=t);else{const n=t;let o,a;for(t=r[0],o=0;o<r.length-1;o++)a=G(this,n[i+o],e,o),a===U&&(a=this._$AH[o]),s||(s=!T(a)||a!==this._$AH[o]),a===H?t=H:t!==H&&(t+=(null!=a?a:"")+r[o+1]),this._$AH[o]=a}s&&!n&&this.j(t)}j(t){t===H?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,null!=t?t:"")}}class Y extends J{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===H?void 0:t}}const K=_?_.emptyScript:"";class Z extends J{constructor(){super(...arguments),this.type=4}j(t){t&&t!==H?this.element.setAttribute(this.name,K):this.element.removeAttribute(this.name)}}class Q extends J{constructor(t,e,i,n,r){super(t,e,i,n,r),this.type=5}_$AI(t,e=this){var i;if((t=null!==(i=G(this,t,e,0))&&void 0!==i?i:H)===U)return;const n=this._$AH,r=t===H&&n!==H||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,s=t!==H&&(n===H||r);r&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){var e,i;"function"==typeof this._$AH?this._$AH.call(null!==(i=null===(e=this.options)||void 0===e?void 0:e.host)&&void 0!==i?i:this.element,t):this._$AH.handleEvent(t)}}class tt{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){G(this,t)}}const et=$.litHtmlPolyfillSupport;null==et||et(V,q),(null!==(y=$.litHtmlVersions)&&void 0!==y?y:$.litHtmlVersions=[]).push("2.8.0");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
var it,nt;class rt extends m{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){var t,e;const i=super.createRenderRoot();return null!==(t=(e=this.renderOptions).renderBefore)&&void 0!==t||(e.renderBefore=i.firstChild),i}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{var n,r;const s=null!==(n=null==i?void 0:i.renderBefore)&&void 0!==n?n:e;let o=s._$litPart$;if(void 0===o){const t=null!==(r=null==i?void 0:i.renderBefore)&&void 0!==r?r:null;s._$litPart$=o=new q(e.insertBefore(D(),t),t,void 0,null!=i?i:{})}return o._$AI(t),o})(e,this.renderRoot,this.renderOptions)}connectedCallback(){var t;super.connectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!0)}disconnectedCallback(){var t;super.disconnectedCallback(),null===(t=this._$Do)||void 0===t||t.setConnected(!1)}render(){return U}}rt.finalized=!0,rt._$litElement$=!0,null===(it=globalThis.litElementHydrateSupport)||void 0===it||it.call(globalThis,{LitElement:rt});const st=globalThis.litElementPolyfillSupport;null==st||st({LitElement:rt}),(null!==(nt=globalThis.litElementVersions)&&void 0!==nt?nt:globalThis.litElementVersions=[]).push("3.3.3");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ot=t=>e=>"function"==typeof e?((t,e)=>(customElements.define(t,e),e))(t,e):((t,e)=>{const{kind:i,elements:n}=e;return{kind:i,elements:n,finisher(e){customElements.define(t,e)}}})(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,at=(t,e)=>"method"===e.kind&&e.descriptor&&!("value"in e.descriptor)?{...e,finisher(i){i.createProperty(e.key,t)}}:{kind:"field",key:Symbol(),placement:"own",descriptor:{},originalKey:e.key,initializer(){"function"==typeof e.initializer&&(this[e.key]=e.initializer.call(this))},finisher(i){i.createProperty(e.key,t)}},dt=(t,e,i)=>{e.constructor.createProperty(i,t)};function ht(t){return(e,i)=>void 0!==i?dt(t,e,i):at(t,e)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function lt(t){return ht({...t,state:!0})}
/**
 * @license
 * Copyright 2021 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */var ct;null===(ct=window.HTMLSlotElement)||void 0===ct||ct.prototype.assignedElements;var pt,ut=[],vt="ResizeObserver loop completed with undelivered notifications.";!function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(pt||(pt={}));var gt,ft=function(t){return Object.freeze(t)},mt=function(t,e){this.inlineSize=t,this.blockSize=e,ft(this)},yt=function(){function t(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ft(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),$t=function(t){return t instanceof SVGElement&&"getBBox"in t},_t=function(t){if($t(t)){var e=t.getBBox(),i=e.width,n=e.height;return!i&&!n}var r=t,s=r.offsetWidth,o=r.offsetHeight;return!(s||o||t.getClientRects().length)},bt=function(t){var e;if(t instanceof Element)return!0;var i=null===(e=null==t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView;return!!(i&&t instanceof i.Element)},xt="undefined"!=typeof window?window:{},wt=new WeakMap,Et=/auto|scroll/,At=/^tb|vertical/,St=/msie|trident/i.test(xt.navigator&&xt.navigator.userAgent),Dt=function(t){return parseFloat(t||"0")},Tt=function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!1),new mt((i?e:t)||0,(i?t:e)||0)},Ct=ft({devicePixelContentBoxSize:Tt(),borderBoxSize:Tt(),contentBoxSize:Tt(),contentRect:new yt(0,0,0,0)}),Ot=function(t,e){if(void 0===e&&(e=!1),wt.has(t)&&!e)return wt.get(t);if(_t(t))return wt.set(t,Ct),Ct;var i=getComputedStyle(t),n=$t(t)&&t.ownerSVGElement&&t.getBBox(),r=!St&&"border-box"===i.boxSizing,s=At.test(i.writingMode||""),o=!n&&Et.test(i.overflowY||""),a=!n&&Et.test(i.overflowX||""),d=n?0:Dt(i.paddingTop),h=n?0:Dt(i.paddingRight),l=n?0:Dt(i.paddingBottom),c=n?0:Dt(i.paddingLeft),p=n?0:Dt(i.borderTopWidth),u=n?0:Dt(i.borderRightWidth),v=n?0:Dt(i.borderBottomWidth),g=c+h,f=d+l,m=(n?0:Dt(i.borderLeftWidth))+u,y=p+v,$=a?t.offsetHeight-y-t.clientHeight:0,_=o?t.offsetWidth-m-t.clientWidth:0,b=r?g+m:0,x=r?f+y:0,w=n?n.width:Dt(i.width)-b-_,E=n?n.height:Dt(i.height)-x-$,A=w+g+_+m,S=E+f+$+y,D=ft({devicePixelContentBoxSize:Tt(Math.round(w*devicePixelRatio),Math.round(E*devicePixelRatio),s),borderBoxSize:Tt(A,S,s),contentBoxSize:Tt(w,E,s),contentRect:new yt(c,d,w,E)});return wt.set(t,D),D},kt=function(t,e,i){var n=Ot(t,i),r=n.borderBoxSize,s=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(e){case pt.DEVICE_PIXEL_CONTENT_BOX:return o;case pt.BORDER_BOX:return r;default:return s}},Mt=function(t){var e=Ot(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=ft([e.borderBoxSize]),this.contentBoxSize=ft([e.contentBoxSize]),this.devicePixelContentBoxSize=ft([e.devicePixelContentBoxSize])},Bt=function(t){if(_t(t))return 1/0;for(var e=0,i=t.parentNode;i;)e+=1,i=i.parentNode;return e},zt=function(){var t=1/0,e=[];ut.forEach((function(i){if(0!==i.activeTargets.length){var n=[];i.activeTargets.forEach((function(e){var i=new Mt(e.target),r=Bt(e.target);n.push(i),e.lastReportedSize=kt(e.target,e.observedBox),r<t&&(t=r)})),e.push((function(){i.callback.call(i.observer,n,i.observer)})),i.activeTargets.splice(0,i.activeTargets.length)}}));for(var i=0,n=e;i<n.length;i++){(0,n[i])()}return t},Rt=function(t){ut.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(i){i.isActive()&&(Bt(i.target)>t?e.activeTargets.push(i):e.skippedTargets.push(i))}))}))},Pt=function(){var t,e=0;for(Rt(e);ut.some((function(t){return t.activeTargets.length>0}));)e=zt(),Rt(e);return ut.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:vt}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=vt),window.dispatchEvent(t)),e>0},Nt=[],It=function(t){if(!gt){var e=0,i=document.createTextNode("");new MutationObserver((function(){return Nt.splice(0).forEach((function(t){return t()}))})).observe(i,{characterData:!0}),gt=function(){i.textContent="".concat(e?e--:e++)}}Nt.push(t),gt()},Ut=0,Ht={attributes:!0,characterData:!0,childList:!0,subtree:!0},jt=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Lt=function(t){return void 0===t&&(t=0),Date.now()+t},Wt=!1,Ft=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!Wt){Wt=!0;var i,n=Lt(t);i=function(){var i=!1;try{i=Pt()}finally{if(Wt=!1,t=n-Lt(),!Ut)return;i?e.run(1e3):t>0?e.run(t):e.start()}},It((function(){requestAnimationFrame(i)}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,Ht)};document.body?e():xt.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),jt.forEach((function(e){return xt.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),jt.forEach((function(e){return xt.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}()),Vt=function(t){!Ut&&t>0&&Ft.start(),!(Ut+=t)&&Ft.stop()},Gt=function(){function t(t,e){this.target=t,this.observedBox=e||pt.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=kt(this.target,this.observedBox,!0);return t=this.target,$t(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),Xt=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},qt=new WeakMap,Jt=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i].target===e)return i;return-1},Yt=function(){function t(){}return t.connect=function(t,e){var i=new Xt(t,e);qt.set(t,i)},t.observe=function(t,e,i){var n=qt.get(t),r=0===n.observationTargets.length;Jt(n.observationTargets,e)<0&&(r&&ut.push(n),n.observationTargets.push(new Gt(e,i&&i.box)),Vt(1),Ft.schedule())},t.unobserve=function(t,e){var i=qt.get(t),n=Jt(i.observationTargets,e),r=1===i.observationTargets.length;n>=0&&(r&&ut.splice(ut.indexOf(i),1),i.observationTargets.splice(n,1),Vt(-1))},t.disconnect=function(t){var e=this,i=qt.get(t);i.observationTargets.slice().forEach((function(i){return e.unobserve(t,i.target)})),i.activeTargets.splice(0,i.activeTargets.length)},t}(),Kt=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Yt.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!bt(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Yt.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!bt(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Yt.unobserve(this,t)},t.prototype.disconnect=function(){Yt.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function Zt(t){return!t||0===Object.keys(t).length}class Qt{constructor(){this._lang=document.documentElement.lang.slice(0,2),this._locales={de:{Mon:"Mo",Tues:"Di",Wed:"Mi",Thurs:"Do",Fri:"Fr",Sat:"Sa",Sun:"So",1:"Jan",2:"Feb",3:"Mär",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez",Day:"Tag",Month:"Monat","Current Month":"Aktueller Monat"}}}get lang(){return this._lang}set lang(t){this._lang=t}getTranslation(t){if(!t)return t;const e=this._locales[this.lang];return e&&e[t]||t}}let te=class extends rt{constructor(){super(...arguments),this.translations=new Qt}render(){var t,e,i,n,r;return I`<div class="controls"><div class="info"><span><strong>${this.heading||this.translations.getTranslation("Current Month")}</strong></span><div ?hidden="${Zt(this.expandedDate)}"><span class="day">${null===(t=this.expandedDate)||void 0===t?void 0:t.day}</span> <span class="month">${this.translations.getTranslation(null===(e=this.expandedDate)||void 0===e?void 0:e.month)}</span> <span class="year">${null===(i=this.expandedDate)||void 0===i?void 0:i.year}</span></div><div ?hidden="${!Zt(this.expandedDate)}"><span class="month">${this.translations.getTranslation(null===(n=this.activeDate)||void 0===n?void 0:n.month)}</span> <span class="year">${null===(r=this.activeDate)||void 0===r?void 0:r.year}</span></div></div><div class="context" @click="${this._dispatchSwitchView}"><span ?data-active="${!Zt(this.expandedDate)}" data-context="day">${this.translations.getTranslation("Day")}</span> <span ?data-active="${Zt(this.expandedDate)}" data-context="month">${this.translations.getTranslation("Month")}</span></div><div class="buttons" @click="${this._dispatchSwitchDate}"><button name="previous">«</button> <button name="next">»</button></div></div>`}_dispatchSwitchDate(t){const e=t.target,i=t.target===t.currentTarget?"container":e.name,n=new CustomEvent("switchdate",{detail:{direction:i},bubbles:!0,composed:!0});this.dispatchEvent(n)}_dispatchSwitchView(t){const e=t.target,i=t.target===t.currentTarget?"container":e.dataset.context,n=new CustomEvent("switchview",{detail:{view:i},bubbles:!0,composed:!0});this.dispatchEvent(n)}};te.styles=o`.controls{height:3.5em;width:100%;display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:space-between;align-items:center;border-bottom:1px solid var(--separator-light)}@media (max-width:375px){.controls{font-size:small;height:4.5em}}.info{padding-left:1em;text-align:right}.day,.month,.year{color:rgba(0,0,0,.6)}.context{display:flex}.context>*{padding:.25em .5em;border:1px solid var(--separator-light)}.context>:first-child{border-radius:var(--border-radius-sm) 0 0 var(--border-radius-sm);border-right:none}.context>:last-child{border-radius:0 var(--border-radius-sm) var(--border-radius-sm) 0;border-left:none}.buttons{padding-right:1em}button{padding:.75em;margin:0;border-radius:50%;line-height:.5em;border:1px solid transparent}span[data-active]{background-color:var(--separator-light)}`,t([ht({type:String})],te.prototype,"heading",void 0),t([ht({type:Object})],te.prototype,"activeDate",void 0),t([ht({type:Object})],te.prototype,"expandedDate",void 0),te=t([ot("lms-calendar-header")],te);class ee{constructor({date:t,direction:e}){this.date=t,this.direction=e}set _date(t){this.date=t}set _direction(t){this.direction=t}getDateByDayInDirection(){if(!this.date)throw Error("Date is not defined.");if(!this.direction)throw Error("Direction is not defined.");if("previous"===this.direction){const t=new Date(this.date.year,this.date.month-1,this.date.day-1);return{day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()}}if("next"===this.direction){const t=new Date(this.date.year,this.date.month-1,this.date.day+1);return{day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()}}return this.date}getDateByMonthInDirection(){if(!this.date)throw Error("Date is not defined.");if(!this.direction)throw Error("Direction is not defined.");return"previous"===this.direction?this.date.month-1==0?{...this.date,year:this.date.year-1,month:12}:{...this.date,month:this.date.month-1}:"next"===this.direction?this.date.month+1===13?{...this.date,year:this.date.year+1,month:1}:{...this.date,month:this.date.month+1}:this.date}}let ie=class extends rt{constructor(){super(...arguments),this.translations=new Qt}render(){var t;return 0!==Object.keys(this.activeDate||{day:1,month:1,year:2022}).length?I`<div class="month">${null===(t=this._getCalendarArray())||void 0===t?void 0:t.map((({year:t,month:e,day:i})=>I`<div class="day" data-date="${t}-${e}-${i}" @click="${this._handleExpand}"><div class="indicator">${1===i?`${i}. ${this.translations.getTranslation(e)}`:i}</div><slot name="${t}-${e}-${i}"></slot></div>`))}</div>`:I``}_handleExpand(t){if(null===t.target)return;const e=t.target,{date:i}=e.dataset;if(!i)return;const[n,r,s]=i.split("-").map((t=>parseInt(t,10))),o=new CustomEvent("expand",{detail:{date:{day:s,month:r,year:n}},bubbles:!0,composed:!0});this.dispatchEvent(o)}_getDaysInMonth(t){return new Date(t.year,t.month,0).getDate()}_getOffsetOfFirstDayInMonth(t){const e=new Date(`${t.year}-${t.month}-01`).getDay()-1;return-1===e?6:e}_getDatesInMonthAsArray(t,e){return[...Array.from(Array(this._getDaysInMonth(t)).keys(),((e,i)=>({year:t.year,month:t.month,day:i+1}))).slice(...e)]}_getCalendarArray(){if(!this.activeDate)return;const t=new ee({date:this.activeDate||{day:1,month:1,year:2022}});t._direction="previous";const e=this._getDatesInMonthAsArray(t.getDateByMonthInDirection(),this._getOffsetOfFirstDayInMonth(this.activeDate)?[-1*this._getOffsetOfFirstDayInMonth(this.activeDate)]:[-0,-0]),i=this._getDatesInMonthAsArray(this.activeDate,[]);t._direction="next";const n=this._getDatesInMonthAsArray(t.getDateByMonthInDirection(),[0,42-(e.length+i.length)]);return e.concat(i,n)}};ie.styles=o`.month{height:calc(100% - 5.5em + 2px);display:grid;grid-template-columns:repeat(7,1fr);border-top:1px solid var(--separator-light)}.month>div{border-bottom:1px solid var(--separator-light);border-right:1px solid var(--separator-light)}.month>div:nth-child(7n + 7){border-right:none}.month>div:nth-last-child(-n + 7){border-bottom:none}.day{width:100%;position:relative;display:flex;flex-direction:column;overflow-x:hidden;gap:1px}.indicator{position:sticky;top:.25em;text-align:right;padding:0 .25em;margin-bottom:.25em;text-align:left}`,t([ht({attribute:!1})],ie.prototype,"activeDate",void 0),ie=t([ot("lms-calendar-month")],ie);let ne=class extends rt{constructor(){super(...arguments),this._hours=[...Array(25).keys()],this._hasActiveSidebar=!1}render(){return I`<div class="container"><div class="main w-${this._hasActiveSidebar?"70":"100"}">${this._hours.map(((t,e)=>I`<div class="hour" style="${this._getHourIndicator(t)}"><span class="indicator">${t<10?`0${t}:00`:`${t}:00`}</span></div>${e?I`<div class="separator" style="grid-row:${60*t}"></div>`:I``}<slot name="${t}" class="entry"></slot>`))}</div><div class="sidebar w-${this._hasActiveSidebar?"30":"0"}" ?hidden="${!this._hasActiveSidebar}"></div></div>`}_getHourIndicator(t){return 24!==t?`grid-row: ${60*(t+1)-59}/${60*(t+1)}`:"grid-row: 1440"}};ne.styles=o`.container{display:flex;height:calc(100% - 3.5em);width:100%}.main{display:grid;grid-template-columns:4em 1fr;grid-template-rows:repeat(1440,1fr);height:calc(100% - 1em);gap:1px;overflow-y:scroll;text-align:center;padding:.5em;position:relative}.hour{text-align:center}.indicator{position:relative;top:-.6em}.separator{grid-column:2/3;border-top:1px solid var(--separator-light);position:absolute;width:100%;z-index:0}.sidebar{height:100%;border-left:1px solid var(--separator-light)}.w-100{width:100%}.w-70{width:70%}.w-30{width:30%}.w-0{width:0}`,t([lt()],ne.prototype,"_hours",void 0),t([lt()],ne.prototype,"_hasActiveSidebar",void 0),ne=t([ot("lms-calendar-day")],ne);let re=class extends rt{constructor(){super(...arguments),this.translations=new Qt}render(){return I`<div><span>${this.translations.getTranslation("Mon")}</span> <span>${this.translations.getTranslation("Tues")}</span> <span>${this.translations.getTranslation("Wed")}</span> <span>${this.translations.getTranslation("Thurs")}</span> <span>${this.translations.getTranslation("Fri")}</span> <span>${this.translations.getTranslation("Sat")}</span> <span>${this.translations.getTranslation("Sun")}</span></div>`}};re.styles=o`div{height:1.75em;display:grid;grid-template-columns:repeat(7,1fr)}span{padding:.25em;text-align:left}`,re=t([ot("lms-calendar-context")],re);let se=class extends rt{constructor(){super(...arguments),this.heading="",this.isContinuation=!1}render(){return I`<div class="main" ?data-highlighted="${this._highlighted}" ?data-extended="${this._extended}"><span @click="${this._handleClick}"><span>${this.heading} </span><span ?hidden="${Zt(this.content)}">· ${this.content}</span> </span>${this.isContinuation?"...":I`<span>${this._displayStartTime(this.time)}</span>`}</div>`}_displayStartTime(t){if(!t)return H;const e=t.start.hours;let i=t.start.minutes;return i<10&&(i=`0${i}`),`${e}:${i}`}_handleClick(){this._highlighted=!this._highlighted,this._extended=!this._extended}};function oe(t){let e=0,i=0,n=0;if(t){const r=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,i,n)=>`#${e}${e}${i}${i}${n}${n}`)).substring(1).match(/.{2}/g);if(!r)return["rgb(255,255,255)","rgb(0,0,0)"];[e,i,n]=r.map((t=>parseInt(t,16)))}const r=(299*e+587*i+114*n)/1e3;return[`rgb(${e},${i},${n})`,Math.abs(r-255)>Math.abs(r-0)?"rgb(255, 255, 255)":"rgb(0, 0, 0)"]}function ae(t){const e=t.map((t=>t.end)).sort(((t,e)=>t-e));t.sort(((t,e)=>t.start-e.start));let i=0,n=0,r=0;const s=[];let o=[];for(;i<t.length&&n<e.length;)t[i].start<e[n]?(o.push(t[i++]),++r):(++n,0==--r&&(s.push(o),o=[]));return o.length>0&&s.push(o),s}se.styles=o`:host{font-size:small;grid-column:2;border-radius:var(--entry-br);grid-row:var(--start-slot);width:var(--entry-w);margin:var(--entry-m);background-color:var(--entry-bc);color:var(--entry-c);z-index:1}.main{display:flex;justify-content:space-between;padding:.25em;border-radius:var(--border-radius-sm);background-color:inherit}.main>span:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div[data-highlighted]{background:var(--separator-light)}`,t([ht({attribute:!1})],se.prototype,"time",void 0),t([ht()],se.prototype,"heading",void 0),t([ht()],se.prototype,"content",void 0),t([ht()],se.prototype,"isContinuation",void 0),t([lt()],se.prototype,"_highlighted",void 0),t([lt()],se.prototype,"_extended",void 0),se=t([ot("lms-calendar-entry")],se);class de{constructor(t,e,i){this.entry=t,this.startDate=e,this.index=i,this.entry=t,this.startDate=e,this.currentStartDate=new Date(this.startDate.getTime()+864e5*this.index),this.currentEndDate=new Date(this.currentStartDate.getTime()+864e5-1)}getEntry(){return{...this.entry,date:{start:{day:this.currentStartDate.getDate(),month:this.currentStartDate.getMonth()+1,year:this.currentStartDate.getFullYear()},end:{day:this.currentEndDate.getDate(),month:this.currentEndDate.getMonth()+1,year:this.currentEndDate.getFullYear()}}}}}let he=class extends rt{constructor(){super(...arguments),this.heading="",this.activeDate={day:1,month:1,year:2022},this.entries=[],this.color="#000000",this._viewportWidth=window.innerWidth,this.resizeObserver=new Kt((t=>{this._viewportWidth=t[0].contentRect.width}))}render(){return I`
      <div>
        <lms-calendar-header
          @switchdate=${this._handleSwitchDate}
          @switchview=${this._handleSwitchView}
          .heading=${this.heading}
          .activeDate=${this.activeDate}
          .expandedDate=${this._expandedDate}
        >
        </lms-calendar-header>

        <lms-calendar-context
          ?hidden=${!Zt(this._expandedDate)}
        >
        </lms-calendar-context>

        <lms-calendar-month
          @expand=${this._handleExpand}
          .activeDate=${this.activeDate}
          ?hidden=${!Zt(this._expandedDate)}
        >
          ${this._viewportWidth<768?this._getEntriesSumByDay():this._getEntries()}
        </lms-calendar-month>

        <lms-calendar-day
          ?hidden=${Zt(this._expandedDate)}
        >
          ${this._getEntriesByDate()}
        </lms-calendar-day>
      </div>
    `}connectedCallback(){super.connectedCallback(),this.resizeObserver.observe(this)}resizedCallback(t){t.width!==this._viewportWidth&&(this._viewportWidth=t.width)}disconnectedCallback(){super.disconnectedCallback()}_handleSwitchDate(t){const e=new ee({});if(e._direction=t.detail.direction,this._expandedDate){e._date=this._expandedDate;const t=e.getDateByDayInDirection();return this._expandedDate=t,void(this.activeDate=t)}e._date=this.activeDate,this.activeDate=e.getDateByMonthInDirection()}_handleSwitchView(t){var e;"day"===t.detail.view&&(this._expandedDate=Zt(this._expandedDate)?this.activeDate:this._expandedDate),"month"===t.detail.view&&(this.activeDate=null!==(e=this._expandedDate)&&void 0!==e?e:this.activeDate,this._expandedDate=void 0)}_handleExpand(t){this._expandedDate=t.detail.date}_getEntries(){if(this.entries.length){const t=this.entries.sort(((t,e)=>t.time.start.hours-e.time.start.hours||t.time.start.minutes-e.time.start.minutes)),e=t.map((({date:t,time:e,heading:i,color:n},r)=>{const[s,o]=oe(n),[a,,d]=this._getDaysRange(t),h=[];for(let l=0;l<d;l++){const c=new de({date:t,time:e,heading:i,color:n,content:""},a,l).getEntry(),p=l>0&&d>1,u=I`
              <style>
                lms-calendar-entry.${`_${r}`} {
                  --entry-br: ${d>1?0:"var(--border-radius-sm)"};
                  --entry-m: 0 ${0!==l?0:"0.25em"} 0
                    ${0!==l?0:"1.5em"};
                  --entry-bc: ${s};
                  --entry-c: ${o};
                }
              </style>
              <lms-calendar-entry
                class=${`_${r}`}
                slot="${c.date.start.year}-${c.date.start.month}-${c.date.start.day}"
                .time=${c.time}
                .heading=${p?"":c.heading}
                .isContinuation=${p}
              >
              </lms-calendar-entry>
            `;h.push(u)}return h}));return e.flat()}return H}_getEntriesByDate(){if(Zt(this._expandedDate))return;const t=this.entries.filter((t=>{const e=t.time.start,i=t.time.end,n=function(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.entries(t).every((([i,n])=>i in t&&i in e&&typeof t[i]==typeof e[i]&&n===e[i]))}(t.date.start,this._expandedDate||{});return n&&(e.hours<i.hours||e.hours===i.hours&&e.minutes<i.minutes)})),e=function(t){const e=new Map;t.forEach((t=>{e.has(t.group)||e.set(t.group,[]),e.get(t.group).push({index:t.index,depth:t.depth,group:t.group})}));const i=[];return e.forEach((t=>{t.sort(((t,e)=>t.index-e.index)),t.forEach(((t,e)=>{i.push({index:t.index,depth:e,group:t.group})}))})),i.sort(((t,e)=>t.index-e.index)),i}(Zt(t)?[]:function(t){const e=t.reduce(((e,i,n)=>1===i.length?[...e,{index:[t.slice(0,n)].flatMap((t=>t.flat().length))[0],depth:0,group:n}]:[...e]),[]),i=t.map(((e,i)=>e.map(((e,n)=>({...e,index:[t.slice(0,i)].flatMap((t=>t.flat().length))[0]+n,group:i}))))).filter((t=>t.length>1));let n=0,r=Math.min(...i.map((t=>t[0].group)));return function t({partitions:i,isNested:s=!1}){n=s?n+=1:0,i.forEach((i=>{const{group:s}=i[0];r!==s&&(n=0),r=s;const o=[...i.map((({start:t,end:e})=>e-t))],a=Math.max(...o),d=o.indexOf(a);e.push({index:i[d].index,depth:n,group:i[d].group}),i.splice(o.indexOf(a),1),t({partitions:ae(i),isNested:!0})}))}({partitions:i}),e.sort(((t,e)=>t.index-e.index))}(this._getPartitionedSlottedItems(t)));return t.map((({time:t,heading:i,content:n,color:r},s)=>{const[o,a]=oe(r);return I`
        <style>
          lms-calendar-entry.${`_${s}`} {
            --start-slot: ${this._getGridSlotByTime(t)};
            --entry-w: ${this._getWidthByGroupSize({grading:e,index:s})}%;
            --entry-m: 0 1.5em 0 ${this._getOffsetByDepth({grading:e,index:s})}%;
            --entry-bc: ${o};
            --entry-c: ${a};
          }
        </style>
        <lms-calendar-entry
          class=${`_${s}`}
          slot=${t.start.hours}
          .time=${t}
          .heading=${i}
          .content=${n}
        >
        </lms-calendar-entry>
      `}))}_getEntriesSumByDay(){const t=this.entries.reduce(((t,e)=>{const{day:i,month:n,year:r}=e.date.start,s=`${i}-${n}-${r}`;return t[s]=t[s]?t[s]+1:1,t}),{});return Object.keys(t).map(((e,i)=>{const[n,r,s]=e.split("-");return I`
        <style>
          lms-calendar-entry.${`_${i}`} {
            --entry-br: var(--border-radius-sm);
            --entry-m: 0 auto;
            --entry-bc: whitesmoke;
            --entry-c: black;
          }
        </style>
        <lms-calendar-entry
          class=${`_${i}`}
          slot="${+s}-${+r}-${+n}"
          .time=${void 0}
          .heading="[ ${t[e].toString()} ]"
        ></lms-calendar-entry>
      `}))}_getGridSlotByTime({start:t,end:e}){const i=60*t.hours+(t.minutes+1);return`${i}/${i+(60*e.hours+e.minutes-i)}`}_getWidthByGroupSize({grading:t,index:e}){return 100/t.filter((i=>i.group===t[e].group)).length}_getOffsetByDepth({grading:t,index:e}){return 0===t[e].depth?0:t[e].depth*(100/t.filter((i=>i.group===t[e].group)).length)}_getPartitionedSlottedItems(t){return ae(t.map((t=>this._getGridSlotByTime(t.time).replace(/[^0-9/]+/g,"").split("/"))).map((([t,e])=>[parseInt(t,10),parseInt(e,10)])).map((([t,e])=>({start:t,end:e}))))}_getDaysRange(t){const{start:e,end:i}=t,n=new Date(e.year,e.month-1,e.day),r=new Date(i.year,i.month-1,i.day);return[n,r,(r.getTime()-n.getTime())/864e5+1]}};he.styles=o`
    :host {
      --shadow-sm: rgba(0, 0, 0, 0.18) 0px 2px 4px;
      --shadow-md: rgba(0, 0, 0, 0.15) 0px 3px 3px 0px;
      --shadow-lg: rgba(0, 0, 0, 0.15) 0px 2px 8px;
      --shadow-hv: rgba(0, 0, 0, 0.08) 0px 4px 12px;

      --breakpoint-xs: 425px;
      --breakpoint-sm: 768px;
      --breakpoint-md: 1024px;

      --separator-light: rgba(0, 0, 0, 0.1);
      --separator-mid: rgba(0, 0, 0, 0.4);
      --separator-dark: rgba(0, 0, 0, 0.7);

      --system-ui: system, -apple-system, '.SFNSText-Regular', 'San Francisco',
        'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', sans-serif;

      --border-radius-sm: 5px;
      --border-radius-md: 7px;
      --border-radius-lg: 12px;
    }
    div {
      height: 100%;
      width: 100%;
      background-color: #fff;
      border-radius: var(--border-radius-lg);
      border: 1px solid var(--separator-light);
      font-family: var(--system-ui);
      color: var(--separator-dark);
      box-shadow: var(--shadow-md);
    }
  `,t([ht({type:String})],he.prototype,"heading",void 0),t([ht({type:Object})],he.prototype,"activeDate",void 0),t([ht({type:Array})],he.prototype,"entries",void 0),t([ht({type:String})],he.prototype,"color",void 0),t([lt()],he.prototype,"_expandedDate",void 0),t([lt()],he.prototype,"_viewportWidth",void 0),t([lt()],he.prototype,"resizeObserver",void 0),he=t([ot("lms-calendar")],he);var le=he;export{le as default};
//# sourceMappingURL=lms-calendar.bundled.js.map
