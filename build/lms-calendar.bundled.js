function t(t,e,i,n){var s,r=arguments.length,o=r<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(t,e,i,n);else for(var a=t.length-1;a>=0;a--)(s=t[a])&&(o=(r<3?s(o):r>3?s(e,i,o):s(e,i))||o);return r>3&&o&&Object.defineProperty(e,i,o),o}"function"==typeof SuppressedError&&SuppressedError;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const e=globalThis,i=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,n=Symbol(),s=new WeakMap;class r{constructor(t,e,i){if(this._$cssResult$=!0,i!==n)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(i&&void 0===t){const i=void 0!==e&&1===e.length;i&&(t=s.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),i&&s.set(e,t))}return t}toString(){return this.cssText}}const o=(t,...e)=>{const i=1===t.length?t[0]:e.reduce(((e,i,n)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[n+1]),t[0]);return new r(i,t,n)},a=i?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const i of t.cssRules)e+=i.cssText;return(t=>new r("string"==typeof t?t:t+"",void 0,n))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:h,defineProperty:d,getOwnPropertyDescriptor:c,getOwnPropertyNames:l,getOwnPropertySymbols:p,getPrototypeOf:u}=Object,g=globalThis,v=g.trustedTypes,f=v?v.emptyScript:"",m=g.reactiveElementPolyfillSupport,y=(t,e)=>t,$={toAttribute(t,e){switch(e){case Boolean:t=t?f:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let i=t;switch(e){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},_=(t,e)=>!h(t,e),b={attribute:!0,type:String,converter:$,reflect:!1,hasChanged:_};Symbol.metadata??=Symbol("metadata"),g.litPropertyMetadata??=new WeakMap;class x extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=b){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const i=Symbol(),n=this.getPropertyDescriptor(t,i,e);void 0!==n&&d(this.prototype,t,n)}}static getPropertyDescriptor(t,e,i){const{get:n,set:s}=c(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return n?.call(this)},set(e){const r=n?.call(this);s.call(this,e),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??b}static _$Ei(){if(this.hasOwnProperty(y("elementProperties")))return;const t=u(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(y("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(y("properties"))){const t=this.properties,e=[...l(t),...p(t)];for(const i of e)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,i]of e)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const i=this._$Eu(t,e);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const i=new Set(t.flat(1/0).reverse());for(const t of i)e.unshift(a(t))}else void 0!==t&&e.push(a(t));return e}static _$Eu(t,e){const i=e.attribute;return!1===i?void 0:"string"==typeof i?i:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$Eg=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$ES(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$E_??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$E_?.delete(t)}_$ES(){const t=new Map,e=this.constructor.elementProperties;for(const i of e.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((t,n)=>{if(i)t.adoptedStyleSheets=n.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const i of n){const n=document.createElement("style"),s=e.litNonce;void 0!==s&&n.setAttribute("nonce",s),n.textContent=i.cssText,t.appendChild(n)}})(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$E_?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$E_?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,i){this._$AK(t,i)}_$EO(t,e){const i=this.constructor.elementProperties.get(t),n=this.constructor._$Eu(t,i);if(void 0!==n&&!0===i.reflect){const s=(void 0!==i.converter?.toAttribute?i.converter:$).toAttribute(e,i.type);this._$Em=t,null==s?this.removeAttribute(n):this.setAttribute(n,s),this._$Em=null}}_$AK(t,e){const i=this.constructor,n=i._$Eh.get(t);if(void 0!==n&&this._$Em!==n){const t=i.getPropertyOptions(n),s="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:$;this._$Em=n,this[n]=s.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??_)(this[t],e))return;this.C(t,e,i)}!1===this.isUpdatePending&&(this._$Eg=this._$EP())}C(t,e,i){this._$AL.has(t)||this._$AL.set(t,e),!0===i.reflect&&this._$Em!==t&&(this._$ET??=new Set).add(t)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,i]of t)!0!==i.wrapped||this._$AL.has(e)||void 0===this[e]||this.C(e,this[e],i)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$E_?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$Ej()}catch(e){throw t=!1,this._$Ej(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$E_?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ej(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(t){return!0}update(t){this._$ET&&=this._$ET.forEach((t=>this._$EO(t,this[t]))),this._$Ej()}updated(t){}firstUpdated(t){}}x.elementStyles=[],x.shadowRootOptions={mode:"open"},x[y("elementProperties")]=new Map,x[y("finalized")]=new Map,m?.({ReactiveElement:x}),(g.reactiveElementVersions??=[]).push("2.0.3");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const w=globalThis,A=w.trustedTypes,E=A?A.createPolicy("lit-html",{createHTML:t=>t}):void 0,S="$lit$",D=`lit$${(Math.random()+"").slice(9)}$`,T="?"+D,C=`<${T}>`,O=document,M=()=>O.createComment(""),k=t=>null===t||"object"!=typeof t&&"function"!=typeof t,z=Array.isArray,R="[ \t\n\f\r]",P=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,B=/-->/g,N=/>/g,I=RegExp(`>|${R}(?:([^\\s"'>=/]+)(${R}*=${R}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),U=/'/g,H=/"/g,j=/^(?:script|style|textarea|title)$/i,W=(t=>(e,...i)=>({_$litType$:t,strings:e,values:i}))(1),L=Symbol.for("lit-noChange"),F=Symbol.for("lit-nothing"),V=new WeakMap,q=O.createTreeWalker(O,129);function G(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==E?E.createHTML(e):e}const X=(t,e)=>{const i=t.length-1,n=[];let s,r=2===e?"<svg>":"",o=P;for(let e=0;e<i;e++){const i=t[e];let a,h,d=-1,c=0;for(;c<i.length&&(o.lastIndex=c,h=o.exec(i),null!==h);)c=o.lastIndex,o===P?"!--"===h[1]?o=B:void 0!==h[1]?o=N:void 0!==h[2]?(j.test(h[2])&&(s=RegExp("</"+h[2],"g")),o=I):void 0!==h[3]&&(o=I):o===I?">"===h[0]?(o=s??P,d=-1):void 0===h[1]?d=-2:(d=o.lastIndex-h[2].length,a=h[1],o=void 0===h[3]?I:'"'===h[3]?H:U):o===H||o===U?o=I:o===B||o===N?o=P:(o=I,s=void 0);const l=o===I&&t[e+1].startsWith("/>")?" ":"";r+=o===P?i+C:d>=0?(n.push(a),i.slice(0,d)+S+i.slice(d)+D+l):i+D+(-2===d?e:l)}return[G(t,r+(t[i]||"<?>")+(2===e?"</svg>":"")),n]};class J{constructor({strings:t,_$litType$:e},i){let n;this.parts=[];let s=0,r=0;const o=t.length-1,a=this.parts,[h,d]=X(t,e);if(this.el=J.createElement(h,i),q.currentNode=this.el.content,2===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(n=q.nextNode())&&a.length<o;){if(1===n.nodeType){if(n.hasAttributes())for(const t of n.getAttributeNames())if(t.endsWith(S)){const e=d[r++],i=n.getAttribute(t).split(D),o=/([.?@])?(.*)/.exec(e);a.push({type:1,index:s,name:o[2],strings:i,ctor:"."===o[1]?tt:"?"===o[1]?et:"@"===o[1]?it:Q}),n.removeAttribute(t)}else t.startsWith(D)&&(a.push({type:6,index:s}),n.removeAttribute(t));if(j.test(n.tagName)){const t=n.textContent.split(D),e=t.length-1;if(e>0){n.textContent=A?A.emptyScript:"";for(let i=0;i<e;i++)n.append(t[i],M()),q.nextNode(),a.push({type:2,index:++s});n.append(t[e],M())}}}else if(8===n.nodeType)if(n.data===T)a.push({type:2,index:s});else{let t=-1;for(;-1!==(t=n.data.indexOf(D,t+1));)a.push({type:7,index:s}),t+=D.length-1}s++}}static createElement(t,e){const i=O.createElement("template");return i.innerHTML=t,i}}function Y(t,e,i=t,n){if(e===L)return e;let s=void 0!==n?i._$Co?.[n]:i._$Cl;const r=k(e)?void 0:e._$litDirective$;return s?.constructor!==r&&(s?._$AO?.(!1),void 0===r?s=void 0:(s=new r(t),s._$AT(t,i,n)),void 0!==n?(i._$Co??=[])[n]=s:i._$Cl=s),void 0!==s&&(e=Y(t,s._$AS(t,e.values),s,n)),e}class K{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:i}=this._$AD,n=(t?.creationScope??O).importNode(e,!0);q.currentNode=n;let s=q.nextNode(),r=0,o=0,a=i[0];for(;void 0!==a;){if(r===a.index){let e;2===a.type?e=new Z(s,s.nextSibling,this,t):1===a.type?e=new a.ctor(s,a.name,a.strings,this,t):6===a.type&&(e=new nt(s,this,t)),this._$AV.push(e),a=i[++o]}r!==a?.index&&(s=q.nextNode(),r++)}return q.currentNode=O,n}p(t){let e=0;for(const i of this._$AV)void 0!==i&&(void 0!==i.strings?(i._$AI(t,i,e),e+=i.strings.length-2):i._$AI(t[e])),e++}}class Z{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,i,n){this.type=2,this._$AH=F,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=i,this.options=n,this._$Cv=n?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=Y(this,t,e),k(t)?t===F||null==t||""===t?(this._$AH!==F&&this._$AR(),this._$AH=F):t!==this._$AH&&t!==L&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):(t=>z(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==F&&k(this._$AH)?this._$AA.nextSibling.data=t:this.$(O.createTextNode(t)),this._$AH=t}g(t){const{values:e,_$litType$:i}=t,n="number"==typeof i?this._$AC(t):(void 0===i.el&&(i.el=J.createElement(G(i.h,i.h[0]),this.options)),i);if(this._$AH?._$AD===n)this._$AH.p(e);else{const t=new K(n,this),i=t.u(this.options);t.p(e),this.$(i),this._$AH=t}}_$AC(t){let e=V.get(t.strings);return void 0===e&&V.set(t.strings,e=new J(t)),e}T(t){z(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let i,n=0;for(const s of t)n===e.length?e.push(i=new Z(this.k(M()),this.k(M()),this,this.options)):i=e[n],i._$AI(s),n++;n<e.length&&(this._$AR(i&&i._$AB.nextSibling,n),e.length=n)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class Q{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,i,n,s){this.type=1,this._$AH=F,this._$AN=void 0,this.element=t,this.name=e,this._$AM=n,this.options=s,i.length>2||""!==i[0]||""!==i[1]?(this._$AH=Array(i.length-1).fill(new String),this.strings=i):this._$AH=F}_$AI(t,e=this,i,n){const s=this.strings;let r=!1;if(void 0===s)t=Y(this,t,e,0),r=!k(t)||t!==this._$AH&&t!==L,r&&(this._$AH=t);else{const n=t;let o,a;for(t=s[0],o=0;o<s.length-1;o++)a=Y(this,n[i+o],e,o),a===L&&(a=this._$AH[o]),r||=!k(a)||a!==this._$AH[o],a===F?t=F:t!==F&&(t+=(a??"")+s[o+1]),this._$AH[o]=a}r&&!n&&this.O(t)}O(t){t===F?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class tt extends Q{constructor(){super(...arguments),this.type=3}O(t){this.element[this.name]=t===F?void 0:t}}class et extends Q{constructor(){super(...arguments),this.type=4}O(t){this.element.toggleAttribute(this.name,!!t&&t!==F)}}class it extends Q{constructor(t,e,i,n,s){super(t,e,i,n,s),this.type=5}_$AI(t,e=this){if((t=Y(this,t,e,0)??F)===L)return;const i=this._$AH,n=t===F&&i!==F||t.capture!==i.capture||t.once!==i.once||t.passive!==i.passive,s=t!==F&&(i===F||n);n&&this.element.removeEventListener(this.name,this,i),s&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class nt{constructor(t,e,i){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=i}get _$AU(){return this._$AM._$AU}_$AI(t){Y(this,t)}}const st=w.litHtmlPolyfillSupport;st?.(J,Z),(w.litHtmlVersions??=[]).push("3.1.1");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
class rt extends x{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,i)=>{const n=i?.renderBefore??e;let s=n._$litPart$;if(void 0===s){const t=i?.renderBefore??null;n._$litPart$=s=new Z(e.insertBefore(M(),t),t,void 0,i??{})}return s._$AI(t),s})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return L}}rt._$litElement$=!0,rt.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:rt});const ot=globalThis.litElementPolyfillSupport;ot?.({LitElement:rt}),(globalThis.litElementVersions??=[]).push("4.0.3");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const at=t=>(e,i)=>{void 0!==i?i.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,ht={attribute:!0,type:String,converter:$,reflect:!1,hasChanged:_},dt=(t=ht,e,i)=>{const{kind:n,metadata:s}=i;let r=globalThis.litPropertyMetadata.get(s);if(void 0===r&&globalThis.litPropertyMetadata.set(s,r=new Map),r.set(i.name,t),"accessor"===n){const{name:n}=i;return{set(i){const s=e.get.call(this);e.set.call(this,i),this.requestUpdate(n,s,t)},init(e){return void 0!==e&&this.C(n,void 0,t),e}}}if("setter"===n){const{name:n}=i;return function(i){const s=this[n];e.call(this,i),this.requestUpdate(n,s,t)}}throw Error("Unsupported decorator location: "+n)};function ct(t){return(e,i)=>"object"==typeof i?dt(t,e,i):((t,e,i)=>{const n=e.hasOwnProperty(i);return e.constructor.createProperty(i,n?{...t,wrapped:!0}:t),n?Object.getOwnPropertyDescriptor(e,i):void 0})(t,e,i)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function lt(t){return ct({...t,state:!0,attribute:!1})}var pt,ut=[],gt="ResizeObserver loop completed with undelivered notifications.";!function(t){t.BORDER_BOX="border-box",t.CONTENT_BOX="content-box",t.DEVICE_PIXEL_CONTENT_BOX="device-pixel-content-box"}(pt||(pt={}));var vt,ft=function(t){return Object.freeze(t)},mt=function(t,e){this.inlineSize=t,this.blockSize=e,ft(this)},yt=function(){function t(t,e,i,n){return this.x=t,this.y=e,this.width=i,this.height=n,this.top=this.y,this.left=this.x,this.bottom=this.top+this.height,this.right=this.left+this.width,ft(this)}return t.prototype.toJSON=function(){var t=this;return{x:t.x,y:t.y,top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}},t.fromRect=function(e){return new t(e.x,e.y,e.width,e.height)},t}(),$t=function(t){return t instanceof SVGElement&&"getBBox"in t},_t=function(t){if($t(t)){var e=t.getBBox(),i=e.width,n=e.height;return!i&&!n}var s=t,r=s.offsetWidth,o=s.offsetHeight;return!(r||o||t.getClientRects().length)},bt=function(t){var e;if(t instanceof Element)return!0;var i=null===(e=null==t?void 0:t.ownerDocument)||void 0===e?void 0:e.defaultView;return!!(i&&t instanceof i.Element)},xt="undefined"!=typeof window?window:{},wt=new WeakMap,At=/auto|scroll/,Et=/^tb|vertical/,St=/msie|trident/i.test(xt.navigator&&xt.navigator.userAgent),Dt=function(t){return parseFloat(t||"0")},Tt=function(t,e,i){return void 0===t&&(t=0),void 0===e&&(e=0),void 0===i&&(i=!1),new mt((i?e:t)||0,(i?t:e)||0)},Ct=ft({devicePixelContentBoxSize:Tt(),borderBoxSize:Tt(),contentBoxSize:Tt(),contentRect:new yt(0,0,0,0)}),Ot=function(t,e){if(void 0===e&&(e=!1),wt.has(t)&&!e)return wt.get(t);if(_t(t))return wt.set(t,Ct),Ct;var i=getComputedStyle(t),n=$t(t)&&t.ownerSVGElement&&t.getBBox(),s=!St&&"border-box"===i.boxSizing,r=Et.test(i.writingMode||""),o=!n&&At.test(i.overflowY||""),a=!n&&At.test(i.overflowX||""),h=n?0:Dt(i.paddingTop),d=n?0:Dt(i.paddingRight),c=n?0:Dt(i.paddingBottom),l=n?0:Dt(i.paddingLeft),p=n?0:Dt(i.borderTopWidth),u=n?0:Dt(i.borderRightWidth),g=n?0:Dt(i.borderBottomWidth),v=l+d,f=h+c,m=(n?0:Dt(i.borderLeftWidth))+u,y=p+g,$=a?t.offsetHeight-y-t.clientHeight:0,_=o?t.offsetWidth-m-t.clientWidth:0,b=s?v+m:0,x=s?f+y:0,w=n?n.width:Dt(i.width)-b-_,A=n?n.height:Dt(i.height)-x-$,E=w+v+_+m,S=A+f+$+y,D=ft({devicePixelContentBoxSize:Tt(Math.round(w*devicePixelRatio),Math.round(A*devicePixelRatio),r),borderBoxSize:Tt(E,S,r),contentBoxSize:Tt(w,A,r),contentRect:new yt(l,h,w,A)});return wt.set(t,D),D},Mt=function(t,e,i){var n=Ot(t,i),s=n.borderBoxSize,r=n.contentBoxSize,o=n.devicePixelContentBoxSize;switch(e){case pt.DEVICE_PIXEL_CONTENT_BOX:return o;case pt.BORDER_BOX:return s;default:return r}},kt=function(t){var e=Ot(t);this.target=t,this.contentRect=e.contentRect,this.borderBoxSize=ft([e.borderBoxSize]),this.contentBoxSize=ft([e.contentBoxSize]),this.devicePixelContentBoxSize=ft([e.devicePixelContentBoxSize])},zt=function(t){if(_t(t))return 1/0;for(var e=0,i=t.parentNode;i;)e+=1,i=i.parentNode;return e},Rt=function(){var t=1/0,e=[];ut.forEach((function(i){if(0!==i.activeTargets.length){var n=[];i.activeTargets.forEach((function(e){var i=new kt(e.target),s=zt(e.target);n.push(i),e.lastReportedSize=Mt(e.target,e.observedBox),s<t&&(t=s)})),e.push((function(){i.callback.call(i.observer,n,i.observer)})),i.activeTargets.splice(0,i.activeTargets.length)}}));for(var i=0,n=e;i<n.length;i++){(0,n[i])()}return t},Pt=function(t){ut.forEach((function(e){e.activeTargets.splice(0,e.activeTargets.length),e.skippedTargets.splice(0,e.skippedTargets.length),e.observationTargets.forEach((function(i){i.isActive()&&(zt(i.target)>t?e.activeTargets.push(i):e.skippedTargets.push(i))}))}))},Bt=function(){var t,e=0;for(Pt(e);ut.some((function(t){return t.activeTargets.length>0}));)e=Rt(),Pt(e);return ut.some((function(t){return t.skippedTargets.length>0}))&&("function"==typeof ErrorEvent?t=new ErrorEvent("error",{message:gt}):((t=document.createEvent("Event")).initEvent("error",!1,!1),t.message=gt),window.dispatchEvent(t)),e>0},Nt=[],It=function(t){if(!vt){var e=0,i=document.createTextNode("");new MutationObserver((function(){return Nt.splice(0).forEach((function(t){return t()}))})).observe(i,{characterData:!0}),vt=function(){i.textContent="".concat(e?e--:e++)}}Nt.push(t),vt()},Ut=0,Ht={attributes:!0,characterData:!0,childList:!0,subtree:!0},jt=["resize","load","transitionend","animationend","animationstart","animationiteration","keyup","keydown","mouseup","mousedown","mouseover","mouseout","blur","focus"],Wt=function(t){return void 0===t&&(t=0),Date.now()+t},Lt=!1,Ft=new(function(){function t(){var t=this;this.stopped=!0,this.listener=function(){return t.schedule()}}return t.prototype.run=function(t){var e=this;if(void 0===t&&(t=250),!Lt){Lt=!0;var i,n=Wt(t);i=function(){var i=!1;try{i=Bt()}finally{if(Lt=!1,t=n-Wt(),!Ut)return;i?e.run(1e3):t>0?e.run(t):e.start()}},It((function(){requestAnimationFrame(i)}))}},t.prototype.schedule=function(){this.stop(),this.run()},t.prototype.observe=function(){var t=this,e=function(){return t.observer&&t.observer.observe(document.body,Ht)};document.body?e():xt.addEventListener("DOMContentLoaded",e)},t.prototype.start=function(){var t=this;this.stopped&&(this.stopped=!1,this.observer=new MutationObserver(this.listener),this.observe(),jt.forEach((function(e){return xt.addEventListener(e,t.listener,!0)})))},t.prototype.stop=function(){var t=this;this.stopped||(this.observer&&this.observer.disconnect(),jt.forEach((function(e){return xt.removeEventListener(e,t.listener,!0)})),this.stopped=!0)},t}()),Vt=function(t){!Ut&&t>0&&Ft.start(),!(Ut+=t)&&Ft.stop()},qt=function(){function t(t,e){this.target=t,this.observedBox=e||pt.CONTENT_BOX,this.lastReportedSize={inlineSize:0,blockSize:0}}return t.prototype.isActive=function(){var t,e=Mt(this.target,this.observedBox,!0);return t=this.target,$t(t)||function(t){switch(t.tagName){case"INPUT":if("image"!==t.type)break;case"VIDEO":case"AUDIO":case"EMBED":case"OBJECT":case"CANVAS":case"IFRAME":case"IMG":return!0}return!1}(t)||"inline"!==getComputedStyle(t).display||(this.lastReportedSize=e),this.lastReportedSize.inlineSize!==e.inlineSize||this.lastReportedSize.blockSize!==e.blockSize},t}(),Gt=function(t,e){this.activeTargets=[],this.skippedTargets=[],this.observationTargets=[],this.observer=t,this.callback=e},Xt=new WeakMap,Jt=function(t,e){for(var i=0;i<t.length;i+=1)if(t[i].target===e)return i;return-1},Yt=function(){function t(){}return t.connect=function(t,e){var i=new Gt(t,e);Xt.set(t,i)},t.observe=function(t,e,i){var n=Xt.get(t),s=0===n.observationTargets.length;Jt(n.observationTargets,e)<0&&(s&&ut.push(n),n.observationTargets.push(new qt(e,i&&i.box)),Vt(1),Ft.schedule())},t.unobserve=function(t,e){var i=Xt.get(t),n=Jt(i.observationTargets,e),s=1===i.observationTargets.length;n>=0&&(s&&ut.splice(ut.indexOf(i),1),i.observationTargets.splice(n,1),Vt(-1))},t.disconnect=function(t){var e=this,i=Xt.get(t);i.observationTargets.slice().forEach((function(i){return e.unobserve(t,i.target)})),i.activeTargets.splice(0,i.activeTargets.length)},t}(),Kt=function(){function t(t){if(0===arguments.length)throw new TypeError("Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.");if("function"!=typeof t)throw new TypeError("Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.");Yt.connect(this,t)}return t.prototype.observe=function(t,e){if(0===arguments.length)throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!bt(t))throw new TypeError("Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element");Yt.observe(this,t,e)},t.prototype.unobserve=function(t){if(0===arguments.length)throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.");if(!bt(t))throw new TypeError("Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element");Yt.unobserve(this,t)},t.prototype.disconnect=function(){Yt.disconnect(this)},t.toString=function(){return"function ResizeObserver () { [polyfill code] }"},t}();function Zt(t){return!t||0===Object.keys(t).length}class Qt{constructor(){this._lang=document.documentElement.lang.slice(0,2),this._locales={de:{Mon:"Mo",Tues:"Di",Wed:"Mi",Thurs:"Do",Fri:"Fr",Sat:"Sa",Sun:"So",1:"Jan",2:"Feb",3:"Mär",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez",Day:"Tag",Month:"Monat","Current Month":"Aktueller Monat","all day":"ganztägig"}}}get lang(){return this._lang}set lang(t){this._lang=t}getTranslation(t){if(!t)return t;const e=this._locales[this.lang];return e&&e[t]||t}}let te=class extends rt{constructor(){super(...arguments),this.translations=new Qt}render(){var t,e,i,n,s;return W`<div class="controls"><div class="info"><span><strong>${this.heading||this.translations.getTranslation("Current Month")}</strong></span><div ?hidden="${Zt(this.expandedDate)}"><span class="day">${null===(t=this.expandedDate)||void 0===t?void 0:t.day}</span> <span class="month">${this.translations.getTranslation(null===(e=this.expandedDate)||void 0===e?void 0:e.month)}</span> <span class="year">${null===(i=this.expandedDate)||void 0===i?void 0:i.year}</span></div><div ?hidden="${!Zt(this.expandedDate)}"><span class="month">${this.translations.getTranslation(null===(n=this.activeDate)||void 0===n?void 0:n.month)}</span> <span class="year">${null===(s=this.activeDate)||void 0===s?void 0:s.year}</span></div></div><div class="context" @click="${this._dispatchSwitchView}"><span ?data-active="${!Zt(this.expandedDate)}" data-context="day">${this.translations.getTranslation("Day")}</span> <span ?data-active="${Zt(this.expandedDate)}" data-context="month">${this.translations.getTranslation("Month")}</span></div><div class="buttons" @click="${this._dispatchSwitchDate}"><button name="previous">«</button> <button name="next">»</button></div></div>`}_dispatchSwitchDate(t){const e=t.target,i=t.target===t.currentTarget?"container":e.name,n=new CustomEvent("switchdate",{detail:{direction:i},bubbles:!0,composed:!0});this.dispatchEvent(n)}_dispatchSwitchView(t){const e=t.target,i=t.target===t.currentTarget?"container":e.dataset.context,n=new CustomEvent("switchview",{detail:{view:i},bubbles:!0,composed:!0});this.dispatchEvent(n)}};te.styles=o`.controls{height:3.5em;width:100%;display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:space-between;align-items:center;border-bottom:1px solid var(--separator-light)}@media (max-width:375px){.controls{font-size:small;height:4.5em}}.info{padding-left:1em;text-align:right}.day,.month,.year{color:rgba(0,0,0,.6)}.context{display:flex}.context>*{padding:.25em .5em;border:1px solid var(--separator-light)}.context>:first-child{border-radius:var(--border-radius-sm) 0 0 var(--border-radius-sm);border-right:none}.context>:last-child{border-radius:0 var(--border-radius-sm) var(--border-radius-sm) 0;border-left:none}.buttons{padding-right:1em}button{padding:.75em;margin:0;border-radius:50%;line-height:.5em;border:1px solid transparent}span[data-active]{background-color:var(--separator-light)}`,t([ct({type:String})],te.prototype,"heading",void 0),t([ct({type:Object})],te.prototype,"activeDate",void 0),t([ct({type:Object})],te.prototype,"expandedDate",void 0),te=t([at("lms-calendar-header")],te);class ee{constructor({date:t,direction:e}){this.date=t,this.direction=e}set _date(t){this.date=t}set _direction(t){this.direction=t}getDateByDayInDirection(){if(!this.date)throw Error("Date is not defined.");if(!this.direction)throw Error("Direction is not defined.");if("previous"===this.direction){const t=new Date(this.date.year,this.date.month-1,this.date.day-1);return{day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()}}if("next"===this.direction){const t=new Date(this.date.year,this.date.month-1,this.date.day+1);return{day:t.getDate(),month:t.getMonth()+1,year:t.getFullYear()}}return this.date}getDateByMonthInDirection(){if(!this.date)throw Error("Date is not defined.");if(!this.direction)throw Error("Direction is not defined.");return"previous"===this.direction?this.date.month-1==0?{...this.date,year:this.date.year-1,month:12}:{...this.date,month:this.date.month-1}:"next"===this.direction?this.date.month+1===13?{...this.date,year:this.date.year+1,month:1}:{...this.date,month:this.date.month+1}:this.date}}let ie=class extends rt{constructor(){super(...arguments),this.translations=new Qt}render(){var t;return 0!==Object.keys(this.activeDate||{day:1,month:1,year:2022}).length?W`<div class="month">${null===(t=this._getCalendarArray())||void 0===t?void 0:t.map((({year:t,month:e,day:i})=>W`<div class="day" data-date="${t}-${e}-${i}" @click="${this._handleExpand}"><div class="indicator">${1===i?`${i}. ${this.translations.getTranslation(e)}`:i}</div><slot name="${t}-${e}-${i}"></slot></div>`))}</div>`:W``}_handleExpand(t){if(null===t.target)return;const e=t.target,{date:i}=e.dataset;if(!i)return;const[n,s,r]=i.split("-").map((t=>parseInt(t,10))),o=new CustomEvent("expand",{detail:{date:{day:r,month:s,year:n}},bubbles:!0,composed:!0});this.dispatchEvent(o)}_getDaysInMonth(t){return new Date(t.year,t.month,0).getDate()}_getOffsetOfFirstDayInMonth(t){const e=new Date(`${t.year}/${t.month}/01`).getDay();return 0===e?6:e-1}_getDatesInMonthAsArray(t,e){return[...Array.from(Array(this._getDaysInMonth(t)).keys(),((e,i)=>({year:t.year,month:t.month,day:i+1}))).slice(...e)]}_getCalendarArray(){if(!this.activeDate)return;const t=new ee({date:this.activeDate||{day:1,month:1,year:2022}});t._direction="previous";const e=this._getDatesInMonthAsArray(t.getDateByMonthInDirection(),this._getOffsetOfFirstDayInMonth(this.activeDate)?[-1*this._getOffsetOfFirstDayInMonth(this.activeDate)]:[-0,-0]),i=this._getDatesInMonthAsArray(this.activeDate,[]);t._direction="next";const n=this._getDatesInMonthAsArray(t.getDateByMonthInDirection(),[0,42-(e.length+i.length)]);return e.concat(i,n)}};ie.styles=o`.month{height:calc(100% - 5.5em + 2px);display:grid;grid-template-columns:repeat(7,1fr);border-top:1px solid var(--separator-light)}.month>div{border-bottom:1px solid var(--separator-light);border-right:1px solid var(--separator-light)}.month>div:nth-child(7n + 7){border-right:none}.month>div:nth-last-child(-n + 7){border-bottom:none}.day{width:100%;position:relative;display:flex;flex-direction:column;overflow-x:hidden;gap:1px}.indicator{position:sticky;top:.25em;text-align:right;padding:0 .25em;margin-bottom:.25em;text-align:left}`,t([ct({attribute:!1})],ie.prototype,"activeDate",void 0),ie=t([at("lms-calendar-month")],ie);let ne=class extends rt{constructor(){super(...arguments),this._hours=[...Array(25).keys()],this._hasActiveSidebar=!1}render(){return W`<div class="container"><div class="main w-${this._hasActiveSidebar?"70":"100"}">${this._hours.map(((t,e)=>W`<div class="hour" style="${this._getHourIndicator(t)}"><span class="indicator">${t<10?`0${t}:00`:`${t}:00`}</span></div>${e?W`<div class="separator" style="grid-row:${60*t}"></div>`:W``}<slot name="${t}" class="entry"></slot>`))}</div><div class="sidebar w-${this._hasActiveSidebar?"30":"0"}" ?hidden="${!this._hasActiveSidebar}"></div></div>`}_getHourIndicator(t){return 24!==t?`grid-row: ${60*(t+1)-59}/${60*(t+1)}`:"grid-row: 1440"}};ne.styles=o`.container{display:flex;height:calc(100% - 3.5em);width:100%}.main{display:grid;grid-template-columns:4em 1fr;grid-template-rows:repeat(1440,1fr);height:calc(100% - 1em);gap:1px;overflow-y:scroll;text-align:center;padding:.5em;position:relative}.hour{text-align:center}.indicator{position:relative;top:-.6em}.separator{grid-column:2/3;border-top:1px solid var(--separator-light);position:absolute;width:100%;z-index:0}.sidebar{height:100%;border-left:1px solid var(--separator-light)}.w-100{width:100%}.w-70{width:70%}.w-30{width:30%}.w-0{width:0}`,t([lt()],ne.prototype,"_hours",void 0),t([lt()],ne.prototype,"_hasActiveSidebar",void 0),ne=t([at("lms-calendar-day")],ne);let se=class extends rt{constructor(){super(...arguments),this.translations=new Qt}render(){return W`<div><span>${this.translations.getTranslation("Mon")}</span> <span>${this.translations.getTranslation("Tues")}</span> <span>${this.translations.getTranslation("Wed")}</span> <span>${this.translations.getTranslation("Thurs")}</span> <span>${this.translations.getTranslation("Fri")}</span> <span>${this.translations.getTranslation("Sat")}</span> <span>${this.translations.getTranslation("Sun")}</span></div>`}};se.styles=o`div{height:1.75em;display:grid;grid-template-columns:repeat(7,1fr)}span{padding:.25em;text-align:left}`,se=t([at("lms-calendar-context")],se);let re=class extends rt{constructor(){super(...arguments),this.translations=new Qt,this.heading="",this.isContinuation=!1,this._sumReducer=(t,e)=>t+e}render(){const t=Zt(this.content);return W`<div class="main" ?data-highlighted="${this._highlighted}" ?data-extended="${this._extended}"><span @click="${this._handleClick}" title="${this.heading}${t?"&zwnj;":`&middot; ${this.content}`}"><span>${this.heading} </span><span ?hidden="${t}">· ${this.content}</span> </span>${this.isContinuation?this.translations.getTranslation("all day"):W`<span class="nowrap">${this._displayInterval(this.time)}</span>`}</div>`}_displayInterval(t){if(!t)return F;const e=[t.start.hours,t.start.minutes,t.end.hours,t.end.minutes];if(24===e[2]&&e.reduce(this._sumReducer,0)%24==0)return this.translations.getTranslation("all day");const[i,n,s,r]=e.map((t=>t<10?`0${t}`:t));return`${i}:${n} - ${s}:${r}`}_handleClick(){this._highlighted=!this._highlighted,this._extended=!this._extended}};function oe(t){let e=0,i=0,n=0;if(t){const s=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,i,n)=>`#${e}${e}${i}${i}${n}${n}`)).substring(1).match(/.{2}/g);if(!s)return["rgb(255,255,255)","rgb(0,0,0)"];[e,i,n]=s.map((t=>parseInt(t,16)))}const s=(299*e+587*i+114*n)/1e3;return[`rgb(${e},${i},${n})`,Math.abs(s-255)>Math.abs(s-0)?"rgb(255, 255, 255)":"rgb(0, 0, 0)"]}function ae(t){const e=t.map((t=>t.end)).sort(((t,e)=>t-e));t.sort(((t,e)=>t.start-e.start));let i=0,n=0,s=0;const r=[];let o=[];for(;i<t.length&&n<e.length;)t[i].start<e[n]?(o.push(t[i++]),++s):(++n,0==--s&&(r.push(o),o=[]));return o.length>0&&r.push(o),r}re.styles=o`:host{font-size:small;grid-column:2;border-radius:var(--entry-br);grid-row:var(--start-slot);width:var(--entry-w);margin:var(--entry-m);background-color:var(--entry-bc);color:var(--entry-c);z-index:1}.main{display:flex;justify-content:space-between;padding:.25em;border-radius:var(--border-radius-sm);background-color:inherit}.main>span:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div[data-highlighted]{background:var(--separator-light)}.nowrap{white-space:nowrap}`,t([ct({attribute:!1})],re.prototype,"time",void 0),t([ct()],re.prototype,"heading",void 0),t([ct()],re.prototype,"content",void 0),t([ct({type:Boolean})],re.prototype,"isContinuation",void 0),t([lt()],re.prototype,"_highlighted",void 0),t([lt()],re.prototype,"_extended",void 0),re=t([at("lms-calendar-entry")],re);class he{constructor(t,e,i){this.entry=t,this.startDate=e,this.index=i,this.entry=t,this.startDate=e,this.currentStartDate=new Date(this.startDate.getTime()+864e5*this.index),this.currentEndDate=new Date(this.currentStartDate.getTime()+864e5-1)}getEntry(){return{...this.entry,date:{start:{day:this.currentStartDate.getDate(),month:this.currentStartDate.getMonth()+1,year:this.currentStartDate.getFullYear()},end:{day:this.currentEndDate.getDate(),month:this.currentEndDate.getMonth()+1,year:this.currentEndDate.getFullYear()}}}}}let de=class extends rt{constructor(){super(...arguments),this.currentDate=new Date,this.heading="&zwnj;",this.activeDate={day:this.currentDate.getDate(),month:this.currentDate.getMonth()+1,year:this.currentDate.getFullYear()},this.entries=[],this.color="#000000",this._viewportWidth=window.innerWidth,this.resizeObserver=new Kt((t=>{this._viewportWidth=t[0].contentRect.width}))}render(){return W`
      <div>
        <lms-calendar-header
          @switchdate=${this._handleSwitchDate}
          @switchview=${this._handleSwitchView}
          .heading=${this.heading}
          .activeDate=${this.activeDate}
          .expandedDate=${this._expandedDate}
        >
        </lms-calendar-header>

        <lms-calendar-context
          ?hidden=${!Zt(this._expandedDate)}
        >
        </lms-calendar-context>

        <lms-calendar-month
          @expand=${this._handleExpand}
          .activeDate=${this.activeDate}
          ?hidden=${!Zt(this._expandedDate)}
        >
          ${this._viewportWidth<768?this._getEntriesSumByDay():this._getEntries()}
        </lms-calendar-month>

        <lms-calendar-day
          ?hidden=${Zt(this._expandedDate)}
        >
          ${this._getEntriesByDate()}
        </lms-calendar-day>
      </div>
    `}connectedCallback(){super.connectedCallback(),this.resizeObserver.observe(this)}resizedCallback(t){t.width!==this._viewportWidth&&(this._viewportWidth=t.width)}disconnectedCallback(){super.disconnectedCallback()}_handleSwitchDate(t){const e=new ee({});if(e._direction=t.detail.direction,this._expandedDate){e._date=this._expandedDate;const t=e.getDateByDayInDirection();return this._expandedDate=t,void(this.activeDate=t)}e._date=this.activeDate,this.activeDate=e.getDateByMonthInDirection()}_handleSwitchView(t){var e;"day"===t.detail.view&&(this._expandedDate=Zt(this._expandedDate)?this.activeDate:this._expandedDate),"month"===t.detail.view&&(this.activeDate=null!==(e=this._expandedDate)&&void 0!==e?e:this.activeDate,this._expandedDate=void 0)}_handleExpand(t){this._expandedDate=t.detail.date}_getEntries(){if(this.entries.length){const t=this.entries.sort(((t,e)=>t.time.start.hours-e.time.start.hours||t.time.start.minutes-e.time.start.minutes)),e=t.map((({date:t,time:e,heading:i,color:n},s)=>{const[r,o]=oe(n),[a,,h]=this._getDaysRange(t),d=[];for(let c=0;c<h;c++){const l=new he({date:t,time:e,heading:i,color:n,content:""},a,c).getEntry(),p=c>0&&h>1,u=W`
              <style>
                lms-calendar-entry.${`_${s}`} {
                  --entry-br: ${h>1?0:"var(--border-radius-sm)"};
                  --entry-m: 0 ${0!==c?0:"0.25em"} 0
                    ${0!==c?0:"1.5em"};
                  --entry-bc: ${r};
                  --entry-c: ${o};
                }
              </style>
              <lms-calendar-entry
                class=${`_${s}`}
                slot="${l.date.start.year}-${l.date.start.month}-${l.date.start.day}"
                .time=${l.time}
                .heading=${p?"":l.heading}
                .isContinuation=${p}
              >
              </lms-calendar-entry>
            `;d.push(u)}return d}));return e.flat()}return F}_getEntriesByDate(){if(Zt(this._expandedDate))return;const t=this.entries.filter((t=>{const e=t.time.start,i=t.time.end,n=function(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.entries(t).every((([i,n])=>i in t&&i in e&&typeof t[i]==typeof e[i]&&n===e[i]))}(t.date.start,this._expandedDate||{});return n&&(e.hours<i.hours||e.hours===i.hours&&e.minutes<i.minutes)})),e=function(t){const e=new Map;t.forEach((t=>{e.has(t.group)||e.set(t.group,[]),e.get(t.group).push({index:t.index,depth:t.depth,group:t.group})}));const i=[];return e.forEach((t=>{t.sort(((t,e)=>t.index-e.index)),t.forEach(((t,e)=>{i.push({index:t.index,depth:e,group:t.group})}))})),i.sort(((t,e)=>t.index-e.index)),i}(Zt(t)?[]:function(t){const e=t.reduce(((e,i,n)=>1===i.length?[...e,{index:[t.slice(0,n)].flatMap((t=>t.flat().length))[0],depth:0,group:n}]:[...e]),[]),i=t.map(((e,i)=>e.map(((e,n)=>({...e,index:[t.slice(0,i)].flatMap((t=>t.flat().length))[0]+n,group:i}))))).filter((t=>t.length>1));let n=0,s=Math.min(...i.map((t=>t[0].group)));return function t({partitions:i,isNested:r=!1}){n=r?n+=1:0,i.forEach((i=>{const{group:r}=i[0];s!==r&&(n=0),s=r;const o=[...i.map((({start:t,end:e})=>e-t))],a=Math.max(...o),h=o.indexOf(a);e.push({index:i[h].index,depth:n,group:i[h].group}),i.splice(o.indexOf(a),1),t({partitions:ae(i),isNested:!0})}))}({partitions:i}),e.sort(((t,e)=>t.index-e.index))}(this._getPartitionedSlottedItems(t)));return t.map((({time:t,heading:i,content:n,color:s},r)=>{const[o,a]=oe(s);return W`
        <style>
          lms-calendar-entry.${`_${r}`} {
            --start-slot: ${this._getGridSlotByTime(t)};
            --entry-w: ${this._getWidthByGroupSize({grading:e,index:r})}%;
            --entry-m: 0 1.5em 0 ${this._getOffsetByDepth({grading:e,index:r})}%;
            --entry-bc: ${o};
            --entry-c: ${a};
          }
        </style>
        <lms-calendar-entry
          class=${`_${r}`}
          slot=${t.start.hours}
          .time=${t}
          .heading=${i}
          .content=${n}
        >
        </lms-calendar-entry>
      `}))}_getEntriesSumByDay(){const t=this.entries.reduce(((t,e)=>{const{day:i,month:n,year:s}=e.date.start,r=`${i}-${n}-${s}`;return t[r]=t[r]?t[r]+1:1,t}),{});return Object.keys(t).map(((e,i)=>{const[n,s,r]=e.split("-");return W`
        <style>
          lms-calendar-entry.${`_${i}`} {
            --entry-br: var(--border-radius-sm);
            --entry-m: 0 auto;
            --entry-bc: whitesmoke;
            --entry-c: black;
          }
        </style>
        <lms-calendar-entry
          class=${`_${i}`}
          slot="${+r}-${+s}-${+n}"
          .time=${void 0}
          .heading="[ ${t[e].toString()} ]"
        ></lms-calendar-entry>
      `}))}_getGridSlotByTime({start:t,end:e}){const i=60*t.hours+(t.minutes+1);return`${i}/${i+(60*e.hours+e.minutes-i)}`}_getWidthByGroupSize({grading:t,index:e}){return 100/t.filter((i=>i.group===t[e].group)).length}_getOffsetByDepth({grading:t,index:e}){return t[e]?0===t[e].depth?0:t[e].depth*(100/t.filter((i=>i.group===t[e].group)).length):0}_getPartitionedSlottedItems(t){return ae(t.map((t=>this._getGridSlotByTime(t.time).replace(/[^0-9/]+/g,"").split("/"))).map((([t,e])=>[parseInt(t,10),parseInt(e,10)])).map((([t,e])=>({start:t,end:e}))))}_getDaysRange(t){const{start:e,end:i}=t,n=new Date(e.year,e.month-1,e.day),s=new Date(i.year,i.month-1,i.day);return[n,s,(s.getTime()-n.getTime())/864e5+1]}};de.styles=o`
    :host {
      --shadow-sm: rgba(0, 0, 0, 0.18) 0px 2px 4px;
      --shadow-md: rgba(0, 0, 0, 0.15) 0px 3px 3px 0px;
      --shadow-lg: rgba(0, 0, 0, 0.15) 0px 2px 8px;
      --shadow-hv: rgba(0, 0, 0, 0.08) 0px 4px 12px;

      --breakpoint-xs: 425px;
      --breakpoint-sm: 768px;
      --breakpoint-md: 1024px;

      --separator-light: rgba(0, 0, 0, 0.1);
      --separator-mid: rgba(0, 0, 0, 0.4);
      --separator-dark: rgba(0, 0, 0, 0.7);

      --system-ui: system, -apple-system, '.SFNSText-Regular', 'San Francisco',
        'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', sans-serif;

      --border-radius-sm: 5px;
      --border-radius-md: 7px;
      --border-radius-lg: 12px;
    }
    div {
      height: 100%;
      width: 100%;
      background-color: #fff;
      border-radius: var(--border-radius-lg);
      border: 1px solid var(--separator-light);
      font-family: var(--system-ui);
      color: var(--separator-dark);
      box-shadow: var(--shadow-md);
    }
  `,t([ct({type:String})],de.prototype,"heading",void 0),t([ct({type:Object})],de.prototype,"activeDate",void 0),t([ct({type:Array})],de.prototype,"entries",void 0),t([ct({type:String})],de.prototype,"color",void 0),t([lt()],de.prototype,"_expandedDate",void 0),t([lt()],de.prototype,"_viewportWidth",void 0),t([lt()],de.prototype,"resizeObserver",void 0),de=t([at("lms-calendar")],de);var ce=de;export{ce as default};
//# sourceMappingURL=lms-calendar.bundled.js.map
