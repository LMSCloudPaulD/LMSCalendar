function t(t,e,n,s){var r,i=arguments.length,a=i<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,n):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,s);else for(var o=t.length-1;o>=0;o--)(r=t[o])&&(a=(i<3?r(a):i>3?r(e,n,a):r(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}"function"==typeof SuppressedError&&SuppressedError;
/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const e=globalThis,n=e.ShadowRoot&&(void 0===e.ShadyCSS||e.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,s=Symbol(),r=new WeakMap;let i=class{constructor(t,e,n){if(this._$cssResult$=!0,n!==s)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const e=this.t;if(n&&void 0===t){const n=void 0!==e&&1===e.length;n&&(t=r.get(e)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),n&&r.set(e,t))}return t}toString(){return this.cssText}};const a=(t,...e)=>{const n=1===t.length?t[0]:e.reduce(((e,n,s)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if("number"==typeof t)return t;throw Error("Value passed to 'css' function must be a 'css' function result: "+t+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(n)+t[s+1]),t[0]);return new i(n,t,s)},o=n?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e="";for(const n of t.cssRules)e+=n.cssText;return(t=>new i("string"==typeof t?t:t+"",void 0,s))(e)})(t):t
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,{is:l,defineProperty:u,getOwnPropertyDescriptor:c,getOwnPropertyNames:h,getOwnPropertySymbols:d,getPrototypeOf:m}=Object,f=globalThis,y=f.trustedTypes,p=y?y.emptyScript:"",g=f.reactiveElementPolyfillSupport,v=(t,e)=>t,w={toAttribute(t,e){switch(e){case Boolean:t=t?p:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,e){let n=t;switch(e){case Boolean:n=null!==t;break;case Number:n=null===t?null:Number(t);break;case Object:case Array:try{n=JSON.parse(t)}catch(t){n=null}}return n}},b=(t,e)=>!l(t,e),$={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:b};Symbol.metadata??=Symbol("metadata"),f.litPropertyMetadata??=new WeakMap;let S=class extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,e=$){if(e.state&&(e.attribute=!1),this._$Ei(),this.elementProperties.set(t,e),!e.noAccessor){const n=Symbol(),s=this.getPropertyDescriptor(t,n,e);void 0!==s&&u(this.prototype,t,s)}}static getPropertyDescriptor(t,e,n){const{get:s,set:r}=c(this.prototype,t)??{get(){return this[e]},set(t){this[e]=t}};return{get(){return s?.call(this)},set(e){const i=s?.call(this);r.call(this,e),this.requestUpdate(t,i,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??$}static _$Ei(){if(this.hasOwnProperty(v("elementProperties")))return;const t=m(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(v("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(v("properties"))){const t=this.properties,e=[...h(t),...d(t)];for(const n of e)this.createProperty(n,t[n])}const t=this[Symbol.metadata];if(null!==t){const e=litPropertyMetadata.get(t);if(void 0!==e)for(const[t,n]of e)this.elementProperties.set(t,n)}this._$Eh=new Map;for(const[t,e]of this.elementProperties){const n=this._$Eu(t,e);void 0!==n&&this._$Eh.set(n,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(t){const e=[];if(Array.isArray(t)){const n=new Set(t.flat(1/0).reverse());for(const t of n)e.unshift(o(t))}else void 0!==t&&e.push(o(t));return e}static _$Eu(t,e){const n=e.attribute;return!1===n?void 0:"string"==typeof n?n:"string"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$EO??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$EO?.delete(t)}_$E_(){const t=new Map,e=this.constructor.elementProperties;for(const n of e.keys())this.hasOwnProperty(n)&&(t.set(n,this[n]),delete this[n]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return((t,s)=>{if(n)t.adoptedStyleSheets=s.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const n of s){const s=document.createElement("style"),r=e.litNonce;void 0!==r&&s.setAttribute("nonce",r),s.textContent=n.cssText,t.appendChild(s)}})(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$EO?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,e,n){this._$AK(t,n)}_$EC(t,e){const n=this.constructor.elementProperties.get(t),s=this.constructor._$Eu(t,n);if(void 0!==s&&!0===n.reflect){const r=(void 0!==n.converter?.toAttribute?n.converter:w).toAttribute(e,n.type);this._$Em=t,null==r?this.removeAttribute(s):this.setAttribute(s,r),this._$Em=null}}_$AK(t,e){const n=this.constructor,s=n._$Eh.get(t);if(void 0!==s&&this._$Em!==s){const t=n.getPropertyOptions(s),r="function"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:w;this._$Em=s,this[s]=r.fromAttribute(e,t.type),this._$Em=null}}requestUpdate(t,e,n){if(void 0!==t){if(n??=this.constructor.getPropertyOptions(t),!(n.hasChanged??b)(this[t],e))return;this.P(t,e,n)}!1===this.isUpdatePending&&(this._$ES=this._$ET())}P(t,e,n){this._$AL.has(t)||this._$AL.set(t,e),!0===n.reflect&&this._$Em!==t&&(this._$Ej??=new Set).add(t)}async _$ET(){this.isUpdatePending=!0;try{await this._$ES}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,e]of this._$Ep)this[t]=e;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[e,n]of t)!0!==n.wrapped||this._$AL.has(e)||void 0===this[e]||this.P(e,this[e],n)}let t=!1;const e=this._$AL;try{t=this.shouldUpdate(e),t?(this.willUpdate(e),this._$EO?.forEach((t=>t.hostUpdate?.())),this.update(e)):this._$EU()}catch(e){throw t=!1,this._$EU(),e}t&&this._$AE(e)}willUpdate(t){}_$AE(t){this._$EO?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$EU(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(t){return!0}update(t){this._$Ej&&=this._$Ej.forEach((t=>this._$EC(t,this[t]))),this._$EU()}updated(t){}firstUpdated(t){}};S.elementStyles=[],S.shadowRootOptions={mode:"open"},S[v("elementProperties")]=new Map,S[v("finalized")]=new Map,g?.({ReactiveElement:S}),(f.reactiveElementVersions??=[]).push("2.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const k=globalThis,_=k.trustedTypes,x=_?_.createPolicy("lit-html",{createHTML:t=>t}):void 0,D="$lit$",T=`lit$${(Math.random()+"").slice(9)}$`,O="?"+T,E=`<${O}>`,M=document,N=()=>M.createComment(""),A=t=>null===t||"object"!=typeof t&&"function"!=typeof t,I=Array.isArray,C="[ \t\n\f\r]",V=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,W=/-->/g,F=/>/g,L=RegExp(`>|${C}(?:([^\\s"'>=/]+)(${C}*=${C}*(?:[^ \t\n\f\r"'\`<>=]|("|')|))|$)`,"g"),j=/'/g,z=/"/g,U=/^(?:script|style|textarea|title)$/i,Z=(t=>(e,...n)=>({_$litType$:t,strings:e,values:n}))(1),P=Symbol.for("lit-noChange"),R=Symbol.for("lit-nothing"),H=new WeakMap,q=M.createTreeWalker(M,129);function Y(t,e){if(!Array.isArray(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return void 0!==x?x.createHTML(e):e}const B=(t,e)=>{const n=t.length-1,s=[];let r,i=2===e?"<svg>":"",a=V;for(let e=0;e<n;e++){const n=t[e];let o,l,u=-1,c=0;for(;c<n.length&&(a.lastIndex=c,l=a.exec(n),null!==l);)c=a.lastIndex,a===V?"!--"===l[1]?a=W:void 0!==l[1]?a=F:void 0!==l[2]?(U.test(l[2])&&(r=RegExp("</"+l[2],"g")),a=L):void 0!==l[3]&&(a=L):a===L?">"===l[0]?(a=r??V,u=-1):void 0===l[1]?u=-2:(u=a.lastIndex-l[2].length,o=l[1],a=void 0===l[3]?L:'"'===l[3]?z:j):a===z||a===j?a=L:a===W||a===F?a=V:(a=L,r=void 0);const h=a===L&&t[e+1].startsWith("/>")?" ":"";i+=a===V?n+E:u>=0?(s.push(o),n.slice(0,u)+D+n.slice(u)+T+h):n+T+(-2===u?e:h)}return[Y(t,i+(t[n]||"<?>")+(2===e?"</svg>":"")),s]};class J{constructor({strings:t,_$litType$:e},n){let s;this.parts=[];let r=0,i=0;const a=t.length-1,o=this.parts,[l,u]=B(t,e);if(this.el=J.createElement(l,n),q.currentNode=this.el.content,2===e){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(s=q.nextNode())&&o.length<a;){if(1===s.nodeType){if(s.hasAttributes())for(const t of s.getAttributeNames())if(t.endsWith(D)){const e=u[i++],n=s.getAttribute(t).split(T),a=/([.?@])?(.*)/.exec(e);o.push({type:1,index:r,name:a[2],strings:n,ctor:"."===a[1]?tt:"?"===a[1]?et:"@"===a[1]?nt:X}),s.removeAttribute(t)}else t.startsWith(T)&&(o.push({type:6,index:r}),s.removeAttribute(t));if(U.test(s.tagName)){const t=s.textContent.split(T),e=t.length-1;if(e>0){s.textContent=_?_.emptyScript:"";for(let n=0;n<e;n++)s.append(t[n],N()),q.nextNode(),o.push({type:2,index:++r});s.append(t[e],N())}}}else if(8===s.nodeType)if(s.data===O)o.push({type:2,index:r});else{let t=-1;for(;-1!==(t=s.data.indexOf(T,t+1));)o.push({type:7,index:r}),t+=T.length-1}r++}}static createElement(t,e){const n=M.createElement("template");return n.innerHTML=t,n}}function G(t,e,n=t,s){if(e===P)return e;let r=void 0!==s?n._$Co?.[s]:n._$Cl;const i=A(e)?void 0:e._$litDirective$;return r?.constructor!==i&&(r?._$AO?.(!1),void 0===i?r=void 0:(r=new i(t),r._$AT(t,n,s)),void 0!==s?(n._$Co??=[])[s]=r:n._$Cl=r),void 0!==r&&(e=G(t,r._$AS(t,e.values),r,s)),e}class K{constructor(t,e){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=e}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:e},parts:n}=this._$AD,s=(t?.creationScope??M).importNode(e,!0);q.currentNode=s;let r=q.nextNode(),i=0,a=0,o=n[0];for(;void 0!==o;){if(i===o.index){let e;2===o.type?e=new Q(r,r.nextSibling,this,t):1===o.type?e=new o.ctor(r,o.name,o.strings,this,t):6===o.type&&(e=new st(r,this,t)),this._$AV.push(e),o=n[++a]}i!==o?.index&&(r=q.nextNode(),i++)}return q.currentNode=M,s}p(t){let e=0;for(const n of this._$AV)void 0!==n&&(void 0!==n.strings?(n._$AI(t,n,e),e+=n.strings.length-2):n._$AI(t[e])),e++}}class Q{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,e,n,s){this.type=2,this._$AH=R,this._$AN=void 0,this._$AA=t,this._$AB=e,this._$AM=n,this.options=s,this._$Cv=s?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const e=this._$AM;return void 0!==e&&11===t?.nodeType&&(t=e.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,e=this){t=G(this,t,e),A(t)?t===R||null==t||""===t?(this._$AH!==R&&this._$AR(),this._$AH=R):t!==this._$AH&&t!==P&&this._(t):void 0!==t._$litType$?this.$(t):void 0!==t.nodeType?this.T(t):(t=>I(t)||"function"==typeof t?.[Symbol.iterator])(t)?this.k(t):this._(t)}S(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}T(t){this._$AH!==t&&(this._$AR(),this._$AH=this.S(t))}_(t){this._$AH!==R&&A(this._$AH)?this._$AA.nextSibling.data=t:this.T(M.createTextNode(t)),this._$AH=t}$(t){const{values:e,_$litType$:n}=t,s="number"==typeof n?this._$AC(t):(void 0===n.el&&(n.el=J.createElement(Y(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===s)this._$AH.p(e);else{const t=new K(s,this),n=t.u(this.options);t.p(e),this.T(n),this._$AH=t}}_$AC(t){let e=H.get(t.strings);return void 0===e&&H.set(t.strings,e=new J(t)),e}k(t){I(this._$AH)||(this._$AH=[],this._$AR());const e=this._$AH;let n,s=0;for(const r of t)s===e.length?e.push(n=new Q(this.S(N()),this.S(N()),this,this.options)):n=e[s],n._$AI(r),s++;s<e.length&&(this._$AR(n&&n._$AB.nextSibling,s),e.length=s)}_$AR(t=this._$AA.nextSibling,e){for(this._$AP?.(!1,!0,e);t&&t!==this._$AB;){const e=t.nextSibling;t.remove(),t=e}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class X{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,e,n,s,r){this.type=1,this._$AH=R,this._$AN=void 0,this.element=t,this.name=e,this._$AM=s,this.options=r,n.length>2||""!==n[0]||""!==n[1]?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=R}_$AI(t,e=this,n,s){const r=this.strings;let i=!1;if(void 0===r)t=G(this,t,e,0),i=!A(t)||t!==this._$AH&&t!==P,i&&(this._$AH=t);else{const s=t;let a,o;for(t=r[0],a=0;a<r.length-1;a++)o=G(this,s[n+a],e,a),o===P&&(o=this._$AH[a]),i||=!A(o)||o!==this._$AH[a],o===R?t=R:t!==R&&(t+=(o??"")+r[a+1]),this._$AH[a]=o}i&&!s&&this.j(t)}j(t){t===R?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??"")}}class tt extends X{constructor(){super(...arguments),this.type=3}j(t){this.element[this.name]=t===R?void 0:t}}class et extends X{constructor(){super(...arguments),this.type=4}j(t){this.element.toggleAttribute(this.name,!!t&&t!==R)}}class nt extends X{constructor(t,e,n,s,r){super(t,e,n,s,r),this.type=5}_$AI(t,e=this){if((t=G(this,t,e,0)??R)===P)return;const n=this._$AH,s=t===R&&n!==R||t.capture!==n.capture||t.once!==n.once||t.passive!==n.passive,r=t!==R&&(n===R||s);s&&this.element.removeEventListener(this.name,this,n),r&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){"function"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class st{constructor(t,e,n){this.element=t,this.type=6,this._$AN=void 0,this._$AM=e,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(t){G(this,t)}}const rt=k.litHtmlPolyfillSupport;rt?.(J,Q),(k.litHtmlVersions??=[]).push("3.1.2");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
let it=class extends S{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const e=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=((t,e,n)=>{const s=n?.renderBefore??e;let r=s._$litPart$;if(void 0===r){const t=n?.renderBefore??null;s._$litPart$=r=new Q(e.insertBefore(N(),t),t,void 0,n??{})}return r._$AI(t),r})(e,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return P}};it._$litElement$=!0,it.finalized=!0,globalThis.litElementHydrateSupport?.({LitElement:it});const at=globalThis.litElementPolyfillSupport;at?.({LitElement:it}),(globalThis.litElementVersions??=[]).push("4.0.4");
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */
const ot=t=>(e,n)=>{void 0!==n?n.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */,lt={attribute:!0,type:String,converter:w,reflect:!1,hasChanged:b},ut=(t=lt,e,n)=>{const{kind:s,metadata:r}=n;let i=globalThis.litPropertyMetadata.get(r);if(void 0===i&&globalThis.litPropertyMetadata.set(r,i=new Map),i.set(n.name,t),"accessor"===s){const{name:s}=n;return{set(n){const r=e.get.call(this);e.set.call(this,n),this.requestUpdate(s,r,t)},init(e){return void 0!==e&&this.P(s,void 0,t),e}}}if("setter"===s){const{name:s}=n;return function(n){const r=this[s];e.call(this,n),this.requestUpdate(s,r,t)}}throw Error("Unsupported decorator location: "+s)};function ct(t){return(e,n)=>"object"==typeof n?ut(t,e,n):((t,e,n)=>{const s=e.hasOwnProperty(n);return e.constructor.createProperty(n,s?{...t,wrapped:!0}:t),s?Object.getOwnPropertyDescriptor(e,n):void 0})(t,e,n)
/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */}function ht(t){return ct({...t,state:!0,attribute:!1})}let dt=class{constructor(t,{target:e,config:n,callback:s,skipInitial:r}){this.t=new Set,this.o=!1,this.i=!1,this.h=t,null!==e&&this.t.add(e??t),this.l=n,this.o=r??this.o,this.callback=s,window.ResizeObserver?(this.u=new ResizeObserver((t=>{this.handleChanges(t),this.h.requestUpdate()})),t.addController(this)):console.warn("ResizeController error: browser does not support ResizeObserver.")}handleChanges(t){this.value=this.callback?.(t,this.u)}hostConnected(){for(const t of this.t)this.observe(t)}hostDisconnected(){this.disconnect()}async hostUpdated(){!this.o&&this.i&&this.handleChanges([]),this.i=!1}observe(t){this.t.add(t),this.u.observe(t,this.l),this.i=!0,this.h.requestUpdate()}unobserve(t){this.t.delete(t),this.u.unobserve(t)}disconnect(){this.u.disconnect()}};function mt(t){return!t||0===Object.keys(t).length}class ft{constructor(){this._lang=document.documentElement.lang.slice(0,2),this._locales={de:{Mon:"Mo",Tues:"Di",Wed:"Mi",Thurs:"Do",Fri:"Fr",Sat:"Sa",Sun:"So",1:"Jan",2:"Feb",3:"Mär",4:"Apr",5:"Mai",6:"Jun",7:"Jul",8:"Aug",9:"Sep",10:"Okt",11:"Nov",12:"Dez",Day:"Tag",Month:"Monat","Current Month":"Aktueller Monat","all day":"ganztägig"}}}get lang(){return this._lang}set lang(t){this._lang=t}getTranslation(t){if(!t)return t;const e=this._locales[this.lang];return e&&e[t]||t}}let yt=class extends it{constructor(){super(...arguments),this.translations=new ft}render(){var t,e,n,s,r;return Z`<div class="controls"><div class="info"><span><strong>${this.heading||this.translations.getTranslation("Current Month")}</strong></span><div ?hidden="${mt(this.expandedDate)}"><span class="day">${null===(t=this.expandedDate)||void 0===t?void 0:t.day}</span> <span class="month">${this.translations.getTranslation(null===(e=this.expandedDate)||void 0===e?void 0:e.month)}</span> <span class="year">${null===(n=this.expandedDate)||void 0===n?void 0:n.year}</span></div><div ?hidden="${!mt(this.expandedDate)}"><span class="month">${this.translations.getTranslation(null===(s=this.activeDate)||void 0===s?void 0:s.month)}</span> <span class="year">${null===(r=this.activeDate)||void 0===r?void 0:r.year}</span></div></div><div class="context" @click="${this._dispatchSwitchView}"><span ?data-active="${!mt(this.expandedDate)}" data-context="day">${this.translations.getTranslation("Day")}</span> <span ?data-active="${mt(this.expandedDate)}" data-context="month">${this.translations.getTranslation("Month")}</span></div><div class="buttons" @click="${this._dispatchSwitchDate}"><button name="previous">«</button> <button name="next">»</button></div></div>`}_dispatchSwitchDate(t){const e=t.target,n=t.target===t.currentTarget?"container":e.name,s=new CustomEvent("switchdate",{detail:{direction:n},bubbles:!0,composed:!0});this.dispatchEvent(s)}_dispatchSwitchView(t){const e=t.target,n=t.target===t.currentTarget?"container":e.dataset.context,s=new CustomEvent("switchview",{detail:{view:n},bubbles:!0,composed:!0});this.dispatchEvent(s)}};yt.styles=a`.controls{height:3.5em;width:100%;display:flex;flex-direction:row;flex-wrap:nowrap;align-content:center;justify-content:space-between;align-items:center;border-bottom:1px solid var(--separator-light)}@media (max-width:375px){.controls{font-size:small;height:4.5em}}.info{padding-left:1em;text-align:right}.day,.month,.year{color:rgba(0,0,0,.6)}.context{display:flex}.context>*{padding:.25em .5em;border:1px solid var(--separator-light)}.context>:first-child{border-radius:var(--border-radius-sm) 0 0 var(--border-radius-sm);border-right:none}.context>:last-child{border-radius:0 var(--border-radius-sm) var(--border-radius-sm) 0;border-left:none}.buttons{padding-right:1em}button{padding:.75em;margin:0;border-radius:50%;line-height:.5em;border:1px solid transparent}span[data-active]{background-color:var(--separator-light)}`,t([ct({type:String})],yt.prototype,"heading",void 0),t([ct({type:Object})],yt.prototype,"activeDate",void 0),t([ct({type:Object})],yt.prototype,"expandedDate",void 0),yt=t([ot("lms-calendar-header")],yt);class pt extends Error{}class gt extends pt{constructor(t){super(`Invalid DateTime: ${t.toMessage()}`)}}class vt extends pt{constructor(t){super(`Invalid Interval: ${t.toMessage()}`)}}class wt extends pt{constructor(t){super(`Invalid Duration: ${t.toMessage()}`)}}class bt extends pt{}class $t extends pt{constructor(t){super(`Invalid unit ${t}`)}}class St extends pt{}class kt extends pt{constructor(){super("Zone is an abstract class")}}const _t="numeric",xt="short",Dt="long",Tt={year:_t,month:_t,day:_t},Ot={year:_t,month:xt,day:_t},Et={year:_t,month:xt,day:_t,weekday:xt},Mt={year:_t,month:Dt,day:_t},Nt={year:_t,month:Dt,day:_t,weekday:Dt},At={hour:_t,minute:_t},It={hour:_t,minute:_t,second:_t},Ct={hour:_t,minute:_t,second:_t,timeZoneName:xt},Vt={hour:_t,minute:_t,second:_t,timeZoneName:Dt},Wt={hour:_t,minute:_t,hourCycle:"h23"},Ft={hour:_t,minute:_t,second:_t,hourCycle:"h23"},Lt={hour:_t,minute:_t,second:_t,hourCycle:"h23",timeZoneName:xt},jt={hour:_t,minute:_t,second:_t,hourCycle:"h23",timeZoneName:Dt},zt={year:_t,month:_t,day:_t,hour:_t,minute:_t},Ut={year:_t,month:_t,day:_t,hour:_t,minute:_t,second:_t},Zt={year:_t,month:xt,day:_t,hour:_t,minute:_t},Pt={year:_t,month:xt,day:_t,hour:_t,minute:_t,second:_t},Rt={year:_t,month:xt,day:_t,weekday:xt,hour:_t,minute:_t},Ht={year:_t,month:Dt,day:_t,hour:_t,minute:_t,timeZoneName:xt},qt={year:_t,month:Dt,day:_t,hour:_t,minute:_t,second:_t,timeZoneName:xt},Yt={year:_t,month:Dt,day:_t,weekday:Dt,hour:_t,minute:_t,timeZoneName:Dt},Bt={year:_t,month:Dt,day:_t,weekday:Dt,hour:_t,minute:_t,second:_t,timeZoneName:Dt};class Jt{get type(){throw new kt}get name(){throw new kt}get ianaName(){return this.name}get isUniversal(){throw new kt}offsetName(t,e){throw new kt}formatOffset(t,e){throw new kt}offset(t){throw new kt}equals(t){throw new kt}get isValid(){throw new kt}}let Gt=null;class Kt extends Jt{static get instance(){return null===Gt&&(Gt=new Kt),Gt}get type(){return"system"}get name(){return(new Intl.DateTimeFormat).resolvedOptions().timeZone}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return hn(t,e,n)}formatOffset(t,e){return yn(this.offset(t),e)}offset(t){return-new Date(t).getTimezoneOffset()}equals(t){return"system"===t.type}get isValid(){return!0}}let Qt={};const Xt={year:0,month:1,day:2,era:3,hour:4,minute:5,second:6};let te={};class ee extends Jt{static create(t){return te[t]||(te[t]=new ee(t)),te[t]}static resetCache(){te={},Qt={}}static isValidSpecifier(t){return this.isValidZone(t)}static isValidZone(t){if(!t)return!1;try{return new Intl.DateTimeFormat("en-US",{timeZone:t}).format(),!0}catch(t){return!1}}constructor(t){super(),this.zoneName=t,this.valid=ee.isValidZone(t)}get type(){return"iana"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(t,{format:e,locale:n}){return hn(t,e,n,this.name)}formatOffset(t,e){return yn(this.offset(t),e)}offset(t){const e=new Date(t);if(isNaN(e))return NaN;const n=(s=this.name,Qt[s]||(Qt[s]=new Intl.DateTimeFormat("en-US",{hour12:!1,timeZone:s,year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",era:"short"})),Qt[s]);var s;let[r,i,a,o,l,u,c]=n.formatToParts?function(t,e){const n=t.formatToParts(e),s=[];for(let t=0;t<n.length;t++){const{type:e,value:r}=n[t],i=Xt[e];"era"===e?s[i]=r:Pe(i)||(s[i]=parseInt(r,10))}return s}(n,e):function(t,e){const n=t.format(e).replace(/\u200E/g,""),s=/(\d+)\/(\d+)\/(\d+) (AD|BC),? (\d+):(\d+):(\d+)/.exec(n),[,r,i,a,o,l,u,c]=s;return[a,r,i,o,l,u,c]}(n,e);"BC"===o&&(r=1-Math.abs(r));let h=+e;const d=h%1e3;return h-=d>=0?d:1e3+d,(on({year:r,month:i,day:a,hour:24===l?0:l,minute:u,second:c,millisecond:0})-h)/6e4}equals(t){return"iana"===t.type&&t.name===this.name}get isValid(){return this.valid}}let ne={};let se={};function re(t,e={}){const n=JSON.stringify([t,e]);let s=se[n];return s||(s=new Intl.DateTimeFormat(t,e),se[n]=s),s}let ie={};let ae={};let oe=null;let le={};function ue(t,e,n,s){const r=t.listingMode();return"error"===r?null:"en"===r?n(e):s(e)}class ce{constructor(t,e,n){this.padTo=n.padTo||0,this.floor=n.floor||!1;const{padTo:s,floor:r,...i}=n;if(!e||Object.keys(i).length>0){const e={useGrouping:!1,...n};n.padTo>0&&(e.minimumIntegerDigits=n.padTo),this.inf=function(t,e={}){const n=JSON.stringify([t,e]);let s=ie[n];return s||(s=new Intl.NumberFormat(t,e),ie[n]=s),s}(t,e)}}format(t){if(this.inf){const e=this.floor?Math.floor(t):t;return this.inf.format(e)}return Qe(this.floor?Math.floor(t):nn(t,3),this.padTo)}}class he{constructor(t,e,n){let s;if(this.opts=n,this.originalZone=void 0,this.opts.timeZone)this.dt=t;else if("fixed"===t.zone.type){const e=t.offset/60*-1,n=e>=0?`Etc/GMT+${e}`:`Etc/GMT${e}`;0!==t.offset&&ee.create(n).valid?(s=n,this.dt=t):(s="UTC",this.dt=0===t.offset?t:t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone)}else"system"===t.zone.type?this.dt=t:"iana"===t.zone.type?(this.dt=t,s=t.zone.name):(s="UTC",this.dt=t.setZone("UTC").plus({minutes:t.offset}),this.originalZone=t.zone);const r={...this.opts};r.timeZone=r.timeZone||s,this.dtf=re(e,r)}format(){return this.originalZone?this.formatToParts().map((({value:t})=>t)).join(""):this.dtf.format(this.dt.toJSDate())}formatToParts(){const t=this.dtf.formatToParts(this.dt.toJSDate());return this.originalZone?t.map((t=>{if("timeZoneName"===t.type){const e=this.originalZone.offsetName(this.dt.ts,{locale:this.dt.locale,format:this.opts.timeZoneName});return{...t,value:e}}return t})):t}resolvedOptions(){return this.dtf.resolvedOptions()}}class de{constructor(t,e,n){this.opts={style:"long",...n},!e&&qe()&&(this.rtf=function(t,e={}){const{base:n,...s}=e,r=JSON.stringify([t,s]);let i=ae[r];return i||(i=new Intl.RelativeTimeFormat(t,e),ae[r]=i),i}(t,n))}format(t,e){return this.rtf?this.rtf.format(t,e):function(t,e,n="always",s=!1){const r={years:["year","yr."],quarters:["quarter","qtr."],months:["month","mo."],weeks:["week","wk."],days:["day","day","days"],hours:["hour","hr."],minutes:["minute","min."],seconds:["second","sec."]},i=-1===["hours","minutes","seconds"].indexOf(t);if("auto"===n&&i){const n="days"===t;switch(e){case 1:return n?"tomorrow":`next ${r[t][0]}`;case-1:return n?"yesterday":`last ${r[t][0]}`;case 0:return n?"today":`this ${r[t][0]}`}}const a=Object.is(e,-0)||e<0,o=Math.abs(e),l=1===o,u=r[t],c=s?l?u[1]:u[2]||u[1]:l?r[t][0]:t;return a?`${o} ${c} ago`:`in ${o} ${c}`}(e,t,this.opts.numeric,"long"!==this.opts.style)}formatToParts(t,e){return this.rtf?this.rtf.formatToParts(t,e):[]}}const me={firstDay:1,minimalDays:4,weekend:[6,7]};class fe{static fromOpts(t){return fe.create(t.locale,t.numberingSystem,t.outputCalendar,t.weekSettings,t.defaultToEN)}static create(t,e,n,s,r=!1){const i=t||Te.defaultLocale,a=i||(r?"en-US":oe||(oe=(new Intl.DateTimeFormat).resolvedOptions().locale,oe)),o=e||Te.defaultNumberingSystem,l=n||Te.defaultOutputCalendar,u=Ge(s)||Te.defaultWeekSettings;return new fe(a,o,l,u,i)}static resetCache(){oe=null,se={},ie={},ae={}}static fromObject({locale:t,numberingSystem:e,outputCalendar:n,weekSettings:s}={}){return fe.create(t,e,n,s)}constructor(t,e,n,s,r){const[i,a,o]=function(t){const e=t.indexOf("-x-");-1!==e&&(t=t.substring(0,e));const n=t.indexOf("-u-");if(-1===n)return[t];{let e,s;try{e=re(t).resolvedOptions(),s=t}catch(r){const i=t.substring(0,n);e=re(i).resolvedOptions(),s=i}const{numberingSystem:r,calendar:i}=e;return[s,r,i]}}(t);this.locale=i,this.numberingSystem=e||a||null,this.outputCalendar=n||o||null,this.weekSettings=s,this.intl=function(t,e,n){return n||e?(t.includes("-u-")||(t+="-u"),n&&(t+=`-ca-${n}`),e&&(t+=`-nu-${e}`),t):t}(this.locale,this.numberingSystem,this.outputCalendar),this.weekdaysCache={format:{},standalone:{}},this.monthsCache={format:{},standalone:{}},this.meridiemCache=null,this.eraCache={},this.specifiedLocale=r,this.fastNumbersCached=null}get fastNumbers(){var t;return null==this.fastNumbersCached&&(this.fastNumbersCached=(!(t=this).numberingSystem||"latn"===t.numberingSystem)&&("latn"===t.numberingSystem||!t.locale||t.locale.startsWith("en")||"latn"===new Intl.DateTimeFormat(t.intl).resolvedOptions().numberingSystem)),this.fastNumbersCached}listingMode(){const t=this.isEnglish(),e=!(null!==this.numberingSystem&&"latn"!==this.numberingSystem||null!==this.outputCalendar&&"gregory"!==this.outputCalendar);return t&&e?"en":"intl"}clone(t){return t&&0!==Object.getOwnPropertyNames(t).length?fe.create(t.locale||this.specifiedLocale,t.numberingSystem||this.numberingSystem,t.outputCalendar||this.outputCalendar,Ge(t.weekSettings)||this.weekSettings,t.defaultToEN||!1):this}redefaultToEN(t={}){return this.clone({...t,defaultToEN:!0})}redefaultToSystem(t={}){return this.clone({...t,defaultToEN:!1})}months(t,e=!1){return ue(this,t,bn,(()=>{const n=e?{month:t,day:"numeric"}:{month:t},s=e?"format":"standalone";return this.monthsCache[s][t]||(this.monthsCache[s][t]=function(t){const e=[];for(let n=1;n<=12;n++){const s=xr.utc(2009,n,1);e.push(t(s))}return e}((t=>this.extract(t,n,"month")))),this.monthsCache[s][t]}))}weekdays(t,e=!1){return ue(this,t,_n,(()=>{const n=e?{weekday:t,year:"numeric",month:"long",day:"numeric"}:{weekday:t},s=e?"format":"standalone";return this.weekdaysCache[s][t]||(this.weekdaysCache[s][t]=function(t){const e=[];for(let n=1;n<=7;n++){const s=xr.utc(2016,11,13+n);e.push(t(s))}return e}((t=>this.extract(t,n,"weekday")))),this.weekdaysCache[s][t]}))}meridiems(){return ue(this,void 0,(()=>xn),(()=>{if(!this.meridiemCache){const t={hour:"numeric",hourCycle:"h12"};this.meridiemCache=[xr.utc(2016,11,13,9),xr.utc(2016,11,13,19)].map((e=>this.extract(e,t,"dayperiod")))}return this.meridiemCache}))}eras(t){return ue(this,t,En,(()=>{const e={era:t};return this.eraCache[t]||(this.eraCache[t]=[xr.utc(-40,1,1),xr.utc(2017,1,1)].map((t=>this.extract(t,e,"era")))),this.eraCache[t]}))}extract(t,e,n){const s=this.dtFormatter(t,e).formatToParts().find((t=>t.type.toLowerCase()===n));return s?s.value:null}numberFormatter(t={}){return new ce(this.intl,t.forceSimple||this.fastNumbers,t)}dtFormatter(t,e={}){return new he(t,this.intl,e)}relFormatter(t={}){return new de(this.intl,this.isEnglish(),t)}listFormatter(t={}){return function(t,e={}){const n=JSON.stringify([t,e]);let s=ne[n];return s||(s=new Intl.ListFormat(t,e),ne[n]=s),s}(this.intl,t)}isEnglish(){return"en"===this.locale||"en-us"===this.locale.toLowerCase()||new Intl.DateTimeFormat(this.intl).resolvedOptions().locale.startsWith("en-us")}getWeekSettings(){return this.weekSettings?this.weekSettings:Ye()?function(t){let e=le[t];if(!e){const n=new Intl.Locale(t);e="getWeekInfo"in n?n.getWeekInfo():n.weekInfo,le[t]=e}return e}(this.locale):me}getStartOfWeek(){return this.getWeekSettings().firstDay}getMinDaysInFirstWeek(){return this.getWeekSettings().minimalDays}getWeekendDays(){return this.getWeekSettings().weekend}equals(t){return this.locale===t.locale&&this.numberingSystem===t.numberingSystem&&this.outputCalendar===t.outputCalendar}}let ye=null;class pe extends Jt{static get utcInstance(){return null===ye&&(ye=new pe(0)),ye}static instance(t){return 0===t?pe.utcInstance:new pe(t)}static parseSpecifier(t){if(t){const e=t.match(/^utc(?:([+-]\d{1,2})(?::(\d{2}))?)?$/i);if(e)return new pe(dn(e[1],e[2]))}return null}constructor(t){super(),this.fixed=t}get type(){return"fixed"}get name(){return 0===this.fixed?"UTC":`UTC${yn(this.fixed,"narrow")}`}get ianaName(){return 0===this.fixed?"Etc/UTC":`Etc/GMT${yn(-this.fixed,"narrow")}`}offsetName(){return this.name}formatOffset(t,e){return yn(this.fixed,e)}get isUniversal(){return!0}offset(){return this.fixed}equals(t){return"fixed"===t.type&&t.fixed===this.fixed}get isValid(){return!0}}class ge extends Jt{constructor(t){super(),this.zoneName=t}get type(){return"invalid"}get name(){return this.zoneName}get isUniversal(){return!1}offsetName(){return null}formatOffset(){return""}offset(){return NaN}equals(){return!1}get isValid(){return!1}}function ve(t,e){if(Pe(t)||null===t)return e;if(t instanceof Jt)return t;if(function(t){return"string"==typeof t}(t)){const n=t.toLowerCase();return"default"===n?e:"local"===n||"system"===n?Kt.instance:"utc"===n||"gmt"===n?pe.utcInstance:pe.parseSpecifier(n)||ee.create(t)}return Re(t)?pe.instance(t):"object"==typeof t&&"offset"in t&&"function"==typeof t.offset?t:new ge(t)}let we,be=()=>Date.now(),$e="system",Se=null,ke=null,_e=null,xe=60,De=null;class Te{static get now(){return be}static set now(t){be=t}static set defaultZone(t){$e=t}static get defaultZone(){return ve($e,Kt.instance)}static get defaultLocale(){return Se}static set defaultLocale(t){Se=t}static get defaultNumberingSystem(){return ke}static set defaultNumberingSystem(t){ke=t}static get defaultOutputCalendar(){return _e}static set defaultOutputCalendar(t){_e=t}static get defaultWeekSettings(){return De}static set defaultWeekSettings(t){De=Ge(t)}static get twoDigitCutoffYear(){return xe}static set twoDigitCutoffYear(t){xe=t%100}static get throwOnInvalid(){return we}static set throwOnInvalid(t){we=t}static resetCaches(){fe.resetCache(),ee.resetCache()}}class Oe{constructor(t,e){this.reason=t,this.explanation=e}toMessage(){return this.explanation?`${this.reason}: ${this.explanation}`:this.reason}}const Ee=[0,31,59,90,120,151,181,212,243,273,304,334],Me=[0,31,60,91,121,152,182,213,244,274,305,335];function Ne(t,e){return new Oe("unit out of range",`you specified ${e} (of type ${typeof e}) as a ${t}, which is invalid`)}function Ae(t,e,n){const s=new Date(Date.UTC(t,e-1,n));t<100&&t>=0&&s.setUTCFullYear(s.getUTCFullYear()-1900);const r=s.getUTCDay();return 0===r?7:r}function Ie(t,e,n){return n+(sn(t)?Me:Ee)[e-1]}function Ce(t,e){const n=sn(t)?Me:Ee,s=n.findIndex((t=>t<e));return{month:s+1,day:e-n[s]}}function Ve(t,e){return(t-e+7)%7+1}function We(t,e=4,n=1){const{year:s,month:r,day:i}=t,a=Ie(s,r,i),o=Ve(Ae(s,r,i),n);let l,u=Math.floor((a-o+14-e)/7);return u<1?(l=s-1,u=un(l,e,n)):u>un(s,e,n)?(l=s+1,u=1):l=s,{weekYear:l,weekNumber:u,weekday:o,...pn(t)}}function Fe(t,e=4,n=1){const{weekYear:s,weekNumber:r,weekday:i}=t,a=Ve(Ae(s,1,e),n),o=rn(s);let l,u=7*r+i-a-7+e;u<1?(l=s-1,u+=rn(l)):u>o?(l=s+1,u-=rn(s)):l=s;const{month:c,day:h}=Ce(l,u);return{year:l,month:c,day:h,...pn(t)}}function Le(t){const{year:e,month:n,day:s}=t;return{year:e,ordinal:Ie(e,n,s),...pn(t)}}function je(t){const{year:e,ordinal:n}=t,{month:s,day:r}=Ce(e,n);return{year:e,month:s,day:r,...pn(t)}}function ze(t,e){if(!Pe(t.localWeekday)||!Pe(t.localWeekNumber)||!Pe(t.localWeekYear)){if(!Pe(t.weekday)||!Pe(t.weekNumber)||!Pe(t.weekYear))throw new bt("Cannot mix locale-based week fields with ISO-based week fields");return Pe(t.localWeekday)||(t.weekday=t.localWeekday),Pe(t.localWeekNumber)||(t.weekNumber=t.localWeekNumber),Pe(t.localWeekYear)||(t.weekYear=t.localWeekYear),delete t.localWeekday,delete t.localWeekNumber,delete t.localWeekYear,{minDaysInFirstWeek:e.getMinDaysInFirstWeek(),startOfWeek:e.getStartOfWeek()}}return{minDaysInFirstWeek:4,startOfWeek:1}}function Ue(t){const e=He(t.year),n=Ke(t.month,1,12),s=Ke(t.day,1,an(t.year,t.month));return e?n?!s&&Ne("day",t.day):Ne("month",t.month):Ne("year",t.year)}function Ze(t){const{hour:e,minute:n,second:s,millisecond:r}=t,i=Ke(e,0,23)||24===e&&0===n&&0===s&&0===r,a=Ke(n,0,59),o=Ke(s,0,59),l=Ke(r,0,999);return i?a?o?!l&&Ne("millisecond",r):Ne("second",s):Ne("minute",n):Ne("hour",e)}function Pe(t){return void 0===t}function Re(t){return"number"==typeof t}function He(t){return"number"==typeof t&&t%1==0}function qe(){try{return"undefined"!=typeof Intl&&!!Intl.RelativeTimeFormat}catch(t){return!1}}function Ye(){try{return"undefined"!=typeof Intl&&!!Intl.Locale&&("weekInfo"in Intl.Locale.prototype||"getWeekInfo"in Intl.Locale.prototype)}catch(t){return!1}}function Be(t,e,n){if(0!==t.length)return t.reduce(((t,s)=>{const r=[e(s),s];return t&&n(t[0],r[0])===t[0]?t:r}),null)[1]}function Je(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ge(t){if(null==t)return null;if("object"!=typeof t)throw new St("Week settings must be an object");if(!Ke(t.firstDay,1,7)||!Ke(t.minimalDays,1,7)||!Array.isArray(t.weekend)||t.weekend.some((t=>!Ke(t,1,7))))throw new St("Invalid week settings");return{firstDay:t.firstDay,minimalDays:t.minimalDays,weekend:Array.from(t.weekend)}}function Ke(t,e,n){return He(t)&&t>=e&&t<=n}function Qe(t,e=2){let n;return n=t<0?"-"+(""+-t).padStart(e,"0"):(""+t).padStart(e,"0"),n}function Xe(t){return Pe(t)||null===t||""===t?void 0:parseInt(t,10)}function tn(t){return Pe(t)||null===t||""===t?void 0:parseFloat(t)}function en(t){if(!Pe(t)&&null!==t&&""!==t){const e=1e3*parseFloat("0."+t);return Math.floor(e)}}function nn(t,e,n=!1){const s=10**e;return(n?Math.trunc:Math.round)(t*s)/s}function sn(t){return t%4==0&&(t%100!=0||t%400==0)}function rn(t){return sn(t)?366:365}function an(t,e){const n=function(t,e){return t-e*Math.floor(t/e)}(e-1,12)+1;return 2===n?sn(t+(e-n)/12)?29:28:[31,null,31,30,31,30,31,31,30,31,30,31][n-1]}function on(t){let e=Date.UTC(t.year,t.month-1,t.day,t.hour,t.minute,t.second,t.millisecond);return t.year<100&&t.year>=0&&(e=new Date(e),e.setUTCFullYear(t.year,t.month-1,t.day)),+e}function ln(t,e,n){return-Ve(Ae(t,1,e),n)+e-1}function un(t,e=4,n=1){const s=ln(t,e,n),r=ln(t+1,e,n);return(rn(t)-s+r)/7}function cn(t){return t>99?t:t>Te.twoDigitCutoffYear?1900+t:2e3+t}function hn(t,e,n,s=null){const r=new Date(t),i={hourCycle:"h23",year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit"};s&&(i.timeZone=s);const a={timeZoneName:e,...i},o=new Intl.DateTimeFormat(n,a).formatToParts(r).find((t=>"timezonename"===t.type.toLowerCase()));return o?o.value:null}function dn(t,e){let n=parseInt(t,10);Number.isNaN(n)&&(n=0);const s=parseInt(e,10)||0;return 60*n+(n<0||Object.is(n,-0)?-s:s)}function mn(t){const e=Number(t);if("boolean"==typeof t||""===t||Number.isNaN(e))throw new St(`Invalid unit value ${t}`);return e}function fn(t,e){const n={};for(const s in t)if(Je(t,s)){const r=t[s];if(null==r)continue;n[e(s)]=mn(r)}return n}function yn(t,e){const n=Math.trunc(Math.abs(t/60)),s=Math.trunc(Math.abs(t%60)),r=t>=0?"+":"-";switch(e){case"short":return`${r}${Qe(n,2)}:${Qe(s,2)}`;case"narrow":return`${r}${n}${s>0?`:${s}`:""}`;case"techie":return`${r}${Qe(n,2)}${Qe(s,2)}`;default:throw new RangeError(`Value format ${e} is out of range for property format`)}}function pn(t){return function(t,e){return e.reduce(((e,n)=>(e[n]=t[n],e)),{})}(t,["hour","minute","second","millisecond"])}const gn=["January","February","March","April","May","June","July","August","September","October","November","December"],vn=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wn=["J","F","M","A","M","J","J","A","S","O","N","D"];function bn(t){switch(t){case"narrow":return[...wn];case"short":return[...vn];case"long":return[...gn];case"numeric":return["1","2","3","4","5","6","7","8","9","10","11","12"];case"2-digit":return["01","02","03","04","05","06","07","08","09","10","11","12"];default:return null}}const $n=["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"],Sn=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],kn=["M","T","W","T","F","S","S"];function _n(t){switch(t){case"narrow":return[...kn];case"short":return[...Sn];case"long":return[...$n];case"numeric":return["1","2","3","4","5","6","7"];default:return null}}const xn=["AM","PM"],Dn=["Before Christ","Anno Domini"],Tn=["BC","AD"],On=["B","A"];function En(t){switch(t){case"narrow":return[...On];case"short":return[...Tn];case"long":return[...Dn];default:return null}}function Mn(t,e){let n="";for(const s of t)s.literal?n+=s.val:n+=e(s.val);return n}const Nn={D:Tt,DD:Ot,DDD:Mt,DDDD:Nt,t:At,tt:It,ttt:Ct,tttt:Vt,T:Wt,TT:Ft,TTT:Lt,TTTT:jt,f:zt,ff:Zt,fff:Ht,ffff:Yt,F:Ut,FF:Pt,FFF:qt,FFFF:Bt};class An{static create(t,e={}){return new An(t,e)}static parseFormat(t){let e=null,n="",s=!1;const r=[];for(let i=0;i<t.length;i++){const a=t.charAt(i);"'"===a?(n.length>0&&r.push({literal:s||/^\s+$/.test(n),val:n}),e=null,n="",s=!s):s||a===e?n+=a:(n.length>0&&r.push({literal:/^\s+$/.test(n),val:n}),n=a,e=a)}return n.length>0&&r.push({literal:s||/^\s+$/.test(n),val:n}),r}static macroTokenToFormatOpts(t){return Nn[t]}constructor(t,e){this.opts=e,this.loc=t,this.systemLoc=null}formatWithSystemDefault(t,e){null===this.systemLoc&&(this.systemLoc=this.loc.redefaultToSystem());return this.systemLoc.dtFormatter(t,{...this.opts,...e}).format()}dtFormatter(t,e={}){return this.loc.dtFormatter(t,{...this.opts,...e})}formatDateTime(t,e){return this.dtFormatter(t,e).format()}formatDateTimeParts(t,e){return this.dtFormatter(t,e).formatToParts()}formatInterval(t,e){return this.dtFormatter(t.start,e).dtf.formatRange(t.start.toJSDate(),t.end.toJSDate())}resolvedOptions(t,e){return this.dtFormatter(t,e).resolvedOptions()}num(t,e=0){if(this.opts.forceSimple)return Qe(t,e);const n={...this.opts};return e>0&&(n.padTo=e),this.loc.numberFormatter(n).format(t)}formatDateTimeFromString(t,e){const n="en"===this.loc.listingMode(),s=this.loc.outputCalendar&&"gregory"!==this.loc.outputCalendar,r=(e,n)=>this.loc.extract(t,e,n),i=e=>t.isOffsetFixed&&0===t.offset&&e.allowZ?"Z":t.isValid?t.zone.formatOffset(t.ts,e.format):"",a=()=>n?function(t){return xn[t.hour<12?0:1]}(t):r({hour:"numeric",hourCycle:"h12"},"dayperiod"),o=(e,s)=>n?function(t,e){return bn(e)[t.month-1]}(t,e):r(s?{month:e}:{month:e,day:"numeric"},"month"),l=(e,s)=>n?function(t,e){return _n(e)[t.weekday-1]}(t,e):r(s?{weekday:e}:{weekday:e,month:"long",day:"numeric"},"weekday"),u=e=>{const n=An.macroTokenToFormatOpts(e);return n?this.formatWithSystemDefault(t,n):e},c=e=>n?function(t,e){return En(e)[t.year<0?0:1]}(t,e):r({era:e},"era");return Mn(An.parseFormat(e),(e=>{switch(e){case"S":return this.num(t.millisecond);case"u":case"SSS":return this.num(t.millisecond,3);case"s":return this.num(t.second);case"ss":return this.num(t.second,2);case"uu":return this.num(Math.floor(t.millisecond/10),2);case"uuu":return this.num(Math.floor(t.millisecond/100));case"m":return this.num(t.minute);case"mm":return this.num(t.minute,2);case"h":return this.num(t.hour%12==0?12:t.hour%12);case"hh":return this.num(t.hour%12==0?12:t.hour%12,2);case"H":return this.num(t.hour);case"HH":return this.num(t.hour,2);case"Z":return i({format:"narrow",allowZ:this.opts.allowZ});case"ZZ":return i({format:"short",allowZ:this.opts.allowZ});case"ZZZ":return i({format:"techie",allowZ:this.opts.allowZ});case"ZZZZ":return t.zone.offsetName(t.ts,{format:"short",locale:this.loc.locale});case"ZZZZZ":return t.zone.offsetName(t.ts,{format:"long",locale:this.loc.locale});case"z":return t.zoneName;case"a":return a();case"d":return s?r({day:"numeric"},"day"):this.num(t.day);case"dd":return s?r({day:"2-digit"},"day"):this.num(t.day,2);case"c":case"E":return this.num(t.weekday);case"ccc":return l("short",!0);case"cccc":return l("long",!0);case"ccccc":return l("narrow",!0);case"EEE":return l("short",!1);case"EEEE":return l("long",!1);case"EEEEE":return l("narrow",!1);case"L":return s?r({month:"numeric",day:"numeric"},"month"):this.num(t.month);case"LL":return s?r({month:"2-digit",day:"numeric"},"month"):this.num(t.month,2);case"LLL":return o("short",!0);case"LLLL":return o("long",!0);case"LLLLL":return o("narrow",!0);case"M":return s?r({month:"numeric"},"month"):this.num(t.month);case"MM":return s?r({month:"2-digit"},"month"):this.num(t.month,2);case"MMM":return o("short",!1);case"MMMM":return o("long",!1);case"MMMMM":return o("narrow",!1);case"y":return s?r({year:"numeric"},"year"):this.num(t.year);case"yy":return s?r({year:"2-digit"},"year"):this.num(t.year.toString().slice(-2),2);case"yyyy":return s?r({year:"numeric"},"year"):this.num(t.year,4);case"yyyyyy":return s?r({year:"numeric"},"year"):this.num(t.year,6);case"G":return c("short");case"GG":return c("long");case"GGGGG":return c("narrow");case"kk":return this.num(t.weekYear.toString().slice(-2),2);case"kkkk":return this.num(t.weekYear,4);case"W":return this.num(t.weekNumber);case"WW":return this.num(t.weekNumber,2);case"n":return this.num(t.localWeekNumber);case"nn":return this.num(t.localWeekNumber,2);case"ii":return this.num(t.localWeekYear.toString().slice(-2),2);case"iiii":return this.num(t.localWeekYear,4);case"o":return this.num(t.ordinal);case"ooo":return this.num(t.ordinal,3);case"q":return this.num(t.quarter);case"qq":return this.num(t.quarter,2);case"X":return this.num(Math.floor(t.ts/1e3));case"x":return this.num(t.ts);default:return u(e)}}))}formatDurationFromString(t,e){const n=t=>{switch(t[0]){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":return"hour";case"d":return"day";case"w":return"week";case"M":return"month";case"y":return"year";default:return null}},s=An.parseFormat(e),r=s.reduce(((t,{literal:e,val:n})=>e?t:t.concat(n)),[]),i=t.shiftTo(...r.map(n).filter((t=>t)));return Mn(s,(t=>e=>{const s=n(e);return s?this.num(t.get(s),e.length):e})(i))}}const In=/[A-Za-z_+-]{1,256}(?::?\/[A-Za-z0-9_+-]{1,256}(?:\/[A-Za-z0-9_+-]{1,256})?)?/;function Cn(...t){const e=t.reduce(((t,e)=>t+e.source),"");return RegExp(`^${e}$`)}function Vn(...t){return e=>t.reduce((([t,n,s],r)=>{const[i,a,o]=r(e,s);return[{...t,...i},a||n,o]}),[{},null,1]).slice(0,2)}function Wn(t,...e){if(null==t)return[null,null];for(const[n,s]of e){const e=n.exec(t);if(e)return s(e)}return[null,null]}function Fn(...t){return(e,n)=>{const s={};let r;for(r=0;r<t.length;r++)s[t[r]]=Xe(e[n+r]);return[s,null,n+r]}}const Ln=/(?:(Z)|([+-]\d\d)(?::?(\d\d))?)/,jn=/(\d\d)(?::?(\d\d)(?::?(\d\d)(?:[.,](\d{1,30}))?)?)?/,zn=RegExp(`${jn.source}${`(?:${Ln.source}?(?:\\[(${In.source})\\])?)?`}`),Un=RegExp(`(?:T${zn.source})?`),Zn=Fn("weekYear","weekNumber","weekDay"),Pn=Fn("year","ordinal"),Rn=RegExp(`${jn.source} ?(?:${Ln.source}|(${In.source}))?`),Hn=RegExp(`(?: ${Rn.source})?`);function qn(t,e,n){const s=t[e];return Pe(s)?n:Xe(s)}function Yn(t,e){return[{hours:qn(t,e,0),minutes:qn(t,e+1,0),seconds:qn(t,e+2,0),milliseconds:en(t[e+3])},null,e+4]}function Bn(t,e){const n=!t[e]&&!t[e+1],s=dn(t[e+1],t[e+2]);return[{},n?null:pe.instance(s),e+3]}function Jn(t,e){return[{},t[e]?ee.create(t[e]):null,e+1]}const Gn=RegExp(`^T?${jn.source}$`),Kn=/^-?P(?:(?:(-?\d{1,20}(?:\.\d{1,20})?)Y)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20}(?:\.\d{1,20})?)W)?(?:(-?\d{1,20}(?:\.\d{1,20})?)D)?(?:T(?:(-?\d{1,20}(?:\.\d{1,20})?)H)?(?:(-?\d{1,20}(?:\.\d{1,20})?)M)?(?:(-?\d{1,20})(?:[.,](-?\d{1,20}))?S)?)?)$/;function Qn(t){const[e,n,s,r,i,a,o,l,u]=t,c="-"===e[0],h=l&&"-"===l[0],d=(t,e=!1)=>void 0!==t&&(e||t&&c)?-t:t;return[{years:d(tn(n)),months:d(tn(s)),weeks:d(tn(r)),days:d(tn(i)),hours:d(tn(a)),minutes:d(tn(o)),seconds:d(tn(l),"-0"===l),milliseconds:d(en(u),h)}]}const Xn={GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function ts(t,e,n,s,r,i,a){const o={year:2===e.length?cn(Xe(e)):Xe(e),month:vn.indexOf(n)+1,day:Xe(s),hour:Xe(r),minute:Xe(i)};return a&&(o.second=Xe(a)),t&&(o.weekday=t.length>3?$n.indexOf(t)+1:Sn.indexOf(t)+1),o}const es=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|(?:([+-]\d\d)(\d\d)))$/;function ns(t){const[,e,n,s,r,i,a,o,l,u,c,h]=t,d=ts(e,r,s,n,i,a,o);let m;return m=l?Xn[l]:u?0:dn(c,h),[d,new pe(m)]}const ss=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun), (\d\d) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) (\d{4}) (\d\d):(\d\d):(\d\d) GMT$/,rs=/^(Monday|Tuesday|Wednesday|Thursday|Friday|Saturday|Sunday), (\d\d)-(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)-(\d\d) (\d\d):(\d\d):(\d\d) GMT$/,is=/^(Mon|Tue|Wed|Thu|Fri|Sat|Sun) (Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec) ( \d|\d\d) (\d\d):(\d\d):(\d\d) (\d{4})$/;function as(t){const[,e,n,s,r,i,a,o]=t;return[ts(e,r,s,n,i,a,o),pe.utcInstance]}function os(t){const[,e,n,s,r,i,a,o]=t;return[ts(e,o,n,s,r,i,a),pe.utcInstance]}const ls=Cn(/([+-]\d{6}|\d{4})(?:-?(\d\d)(?:-?(\d\d))?)?/,Un),us=Cn(/(\d{4})-?W(\d\d)(?:-?(\d))?/,Un),cs=Cn(/(\d{4})-?(\d{3})/,Un),hs=Cn(zn),ds=Vn((function(t,e){return[{year:qn(t,e),month:qn(t,e+1,1),day:qn(t,e+2,1)},null,e+3]}),Yn,Bn,Jn),ms=Vn(Zn,Yn,Bn,Jn),fs=Vn(Pn,Yn,Bn,Jn),ys=Vn(Yn,Bn,Jn);const ps=Vn(Yn);const gs=Cn(/(\d{4})-(\d\d)-(\d\d)/,Hn),vs=Cn(Rn),ws=Vn(Yn,Bn,Jn);const bs="Invalid Duration",$s={weeks:{days:7,hours:168,minutes:10080,seconds:604800,milliseconds:6048e5},days:{hours:24,minutes:1440,seconds:86400,milliseconds:864e5},hours:{minutes:60,seconds:3600,milliseconds:36e5},minutes:{seconds:60,milliseconds:6e4},seconds:{milliseconds:1e3}},Ss={years:{quarters:4,months:12,weeks:52,days:365,hours:8760,minutes:525600,seconds:31536e3,milliseconds:31536e6},quarters:{months:3,weeks:13,days:91,hours:2184,minutes:131040,seconds:7862400,milliseconds:78624e5},months:{weeks:4,days:30,hours:720,minutes:43200,seconds:2592e3,milliseconds:2592e6},...$s},ks=365.2425,_s=30.436875,xs={years:{quarters:4,months:12,weeks:52.1775,days:ks,hours:8765.82,minutes:525949.2,seconds:525949.2*60,milliseconds:525949.2*60*1e3},quarters:{months:3,weeks:13.044375,days:91.310625,hours:2191.455,minutes:131487.3,seconds:525949.2*60/4,milliseconds:7889237999.999999},months:{weeks:4.3481250000000005,days:_s,hours:730.485,minutes:43829.1,seconds:2629746,milliseconds:2629746e3},...$s},Ds=["years","quarters","months","weeks","days","hours","minutes","seconds","milliseconds"],Ts=Ds.slice(0).reverse();function Os(t,e,n=!1){const s={values:n?e.values:{...t.values,...e.values||{}},loc:t.loc.clone(e.loc),conversionAccuracy:e.conversionAccuracy||t.conversionAccuracy,matrix:e.matrix||t.matrix};return new Ns(s)}function Es(t,e){let n=e.milliseconds??0;for(const s of Ts.slice(1))e[s]&&(n+=e[s]*t[s].milliseconds);return n}function Ms(t,e){const n=Es(t,e)<0?-1:1;Ds.reduceRight(((s,r)=>{if(Pe(e[r]))return s;if(s){const i=e[s]*n,a=t[r][s],o=Math.floor(i/a);e[r]+=o*n,e[s]-=o*a*n}return r}),null),Ds.reduce(((n,s)=>{if(Pe(e[s]))return n;if(n){const r=e[n]%1;e[n]-=r,e[s]+=r*t[n][s]}return s}),null)}class Ns{constructor(t){const e="longterm"===t.conversionAccuracy||!1;let n=e?xs:Ss;t.matrix&&(n=t.matrix),this.values=t.values,this.loc=t.loc||fe.create(),this.conversionAccuracy=e?"longterm":"casual",this.invalid=t.invalid||null,this.matrix=n,this.isLuxonDuration=!0}static fromMillis(t,e){return Ns.fromObject({milliseconds:t},e)}static fromObject(t,e={}){if(null==t||"object"!=typeof t)throw new St("Duration.fromObject: argument expected to be an object, got "+(null===t?"null":typeof t));return new Ns({values:fn(t,Ns.normalizeUnit),loc:fe.fromObject(e),conversionAccuracy:e.conversionAccuracy,matrix:e.matrix})}static fromDurationLike(t){if(Re(t))return Ns.fromMillis(t);if(Ns.isDuration(t))return t;if("object"==typeof t)return Ns.fromObject(t);throw new St(`Unknown duration argument ${t} of type ${typeof t}`)}static fromISO(t,e){const[n]=function(t){return Wn(t,[Kn,Qn])}(t);return n?Ns.fromObject(n,e):Ns.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static fromISOTime(t,e){const[n]=function(t){return Wn(t,[Gn,ps])}(t);return n?Ns.fromObject(n,e):Ns.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static invalid(t,e=null){if(!t)throw new St("need to specify a reason the Duration is invalid");const n=t instanceof Oe?t:new Oe(t,e);if(Te.throwOnInvalid)throw new wt(n);return new Ns({invalid:n})}static normalizeUnit(t){const e={year:"years",years:"years",quarter:"quarters",quarters:"quarters",month:"months",months:"months",week:"weeks",weeks:"weeks",day:"days",days:"days",hour:"hours",hours:"hours",minute:"minutes",minutes:"minutes",second:"seconds",seconds:"seconds",millisecond:"milliseconds",milliseconds:"milliseconds"}[t?t.toLowerCase():t];if(!e)throw new $t(t);return e}static isDuration(t){return t&&t.isLuxonDuration||!1}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}toFormat(t,e={}){const n={...e,floor:!1!==e.round&&!1!==e.floor};return this.isValid?An.create(this.loc,n).formatDurationFromString(this,t):bs}toHuman(t={}){if(!this.isValid)return bs;const e=Ds.map((e=>{const n=this.values[e];return Pe(n)?null:this.loc.numberFormatter({style:"unit",unitDisplay:"long",...t,unit:e.slice(0,-1)}).format(n)})).filter((t=>t));return this.loc.listFormatter({type:"conjunction",style:t.listStyle||"narrow",...t}).format(e)}toObject(){return this.isValid?{...this.values}:{}}toISO(){if(!this.isValid)return null;let t="P";return 0!==this.years&&(t+=this.years+"Y"),0===this.months&&0===this.quarters||(t+=this.months+3*this.quarters+"M"),0!==this.weeks&&(t+=this.weeks+"W"),0!==this.days&&(t+=this.days+"D"),0===this.hours&&0===this.minutes&&0===this.seconds&&0===this.milliseconds||(t+="T"),0!==this.hours&&(t+=this.hours+"H"),0!==this.minutes&&(t+=this.minutes+"M"),0===this.seconds&&0===this.milliseconds||(t+=nn(this.seconds+this.milliseconds/1e3,3)+"S"),"P"===t&&(t+="T0S"),t}toISOTime(t={}){if(!this.isValid)return null;const e=this.toMillis();if(e<0||e>=864e5)return null;t={suppressMilliseconds:!1,suppressSeconds:!1,includePrefix:!1,format:"extended",...t,includeOffset:!1};return xr.fromMillis(e,{zone:"UTC"}).toISOTime(t)}toJSON(){return this.toISO()}toString(){return this.toISO()}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Duration { values: ${JSON.stringify(this.values)} }`:`Duration { Invalid, reason: ${this.invalidReason} }`}toMillis(){return this.isValid?Es(this.matrix,this.values):NaN}valueOf(){return this.toMillis()}plus(t){if(!this.isValid)return this;const e=Ns.fromDurationLike(t),n={};for(const t of Ds)(Je(e.values,t)||Je(this.values,t))&&(n[t]=e.get(t)+this.get(t));return Os(this,{values:n},!0)}minus(t){if(!this.isValid)return this;const e=Ns.fromDurationLike(t);return this.plus(e.negate())}mapUnits(t){if(!this.isValid)return this;const e={};for(const n of Object.keys(this.values))e[n]=mn(t(this.values[n],n));return Os(this,{values:e},!0)}get(t){return this[Ns.normalizeUnit(t)]}set(t){if(!this.isValid)return this;return Os(this,{values:{...this.values,...fn(t,Ns.normalizeUnit)}})}reconfigure({locale:t,numberingSystem:e,conversionAccuracy:n,matrix:s}={}){return Os(this,{loc:this.loc.clone({locale:t,numberingSystem:e}),matrix:s,conversionAccuracy:n})}as(t){return this.isValid?this.shiftTo(t).get(t):NaN}normalize(){if(!this.isValid)return this;const t=this.toObject();return Ms(this.matrix,t),Os(this,{values:t},!0)}rescale(){if(!this.isValid)return this;return Os(this,{values:function(t){const e={};for(const[n,s]of Object.entries(t))0!==s&&(e[n]=s);return e}(this.normalize().shiftToAll().toObject())},!0)}shiftTo(...t){if(!this.isValid)return this;if(0===t.length)return this;t=t.map((t=>Ns.normalizeUnit(t)));const e={},n={},s=this.toObject();let r;for(const i of Ds)if(t.indexOf(i)>=0){r=i;let t=0;for(const e in n)t+=this.matrix[e][i]*n[e],n[e]=0;Re(s[i])&&(t+=s[i]);const a=Math.trunc(t);e[i]=a,n[i]=(1e3*t-1e3*a)/1e3}else Re(s[i])&&(n[i]=s[i]);for(const t in n)0!==n[t]&&(e[r]+=t===r?n[t]:n[t]/this.matrix[r][t]);return Ms(this.matrix,e),Os(this,{values:e},!0)}shiftToAll(){return this.isValid?this.shiftTo("years","months","weeks","days","hours","minutes","seconds","milliseconds"):this}negate(){if(!this.isValid)return this;const t={};for(const e of Object.keys(this.values))t[e]=0===this.values[e]?0:-this.values[e];return Os(this,{values:t},!0)}get years(){return this.isValid?this.values.years||0:NaN}get quarters(){return this.isValid?this.values.quarters||0:NaN}get months(){return this.isValid?this.values.months||0:NaN}get weeks(){return this.isValid?this.values.weeks||0:NaN}get days(){return this.isValid?this.values.days||0:NaN}get hours(){return this.isValid?this.values.hours||0:NaN}get minutes(){return this.isValid?this.values.minutes||0:NaN}get seconds(){return this.isValid?this.values.seconds||0:NaN}get milliseconds(){return this.isValid?this.values.milliseconds||0:NaN}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}equals(t){if(!this.isValid||!t.isValid)return!1;if(!this.loc.equals(t.loc))return!1;for(const s of Ds)if(e=this.values[s],n=t.values[s],!(void 0===e||0===e?void 0===n||0===n:e===n))return!1;var e,n;return!0}}const As="Invalid Interval";class Is{constructor(t){this.s=t.start,this.e=t.end,this.invalid=t.invalid||null,this.isLuxonInterval=!0}static invalid(t,e=null){if(!t)throw new St("need to specify a reason the Interval is invalid");const n=t instanceof Oe?t:new Oe(t,e);if(Te.throwOnInvalid)throw new vt(n);return new Is({invalid:n})}static fromDateTimes(t,e){const n=Dr(t),s=Dr(e),r=function(t,e){return t&&t.isValid?e&&e.isValid?e<t?Is.invalid("end before start",`The end of an interval must be after its start, but you had start=${t.toISO()} and end=${e.toISO()}`):null:Is.invalid("missing or invalid end"):Is.invalid("missing or invalid start")}(n,s);return r??new Is({start:n,end:s})}static after(t,e){const n=Ns.fromDurationLike(e),s=Dr(t);return Is.fromDateTimes(s,s.plus(n))}static before(t,e){const n=Ns.fromDurationLike(e),s=Dr(t);return Is.fromDateTimes(s.minus(n),s)}static fromISO(t,e){const[n,s]=(t||"").split("/",2);if(n&&s){let t,r,i,a;try{t=xr.fromISO(n,e),r=t.isValid}catch(s){r=!1}try{i=xr.fromISO(s,e),a=i.isValid}catch(s){a=!1}if(r&&a)return Is.fromDateTimes(t,i);if(r){const n=Ns.fromISO(s,e);if(n.isValid)return Is.after(t,n)}else if(a){const t=Ns.fromISO(n,e);if(t.isValid)return Is.before(i,t)}}return Is.invalid("unparsable",`the input "${t}" can't be parsed as ISO 8601`)}static isInterval(t){return t&&t.isLuxonInterval||!1}get start(){return this.isValid?this.s:null}get end(){return this.isValid?this.e:null}get isValid(){return null===this.invalidReason}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}length(t="milliseconds"){return this.isValid?this.toDuration(t).get(t):NaN}count(t="milliseconds",e){if(!this.isValid)return NaN;const n=this.start.startOf(t,e);let s;return s=e?.useLocaleWeeks?this.end.reconfigure({locale:n.locale}):this.end,s=s.startOf(t,e),Math.floor(s.diff(n,t).get(t))+(s.valueOf()!==this.end.valueOf())}hasSame(t){return!!this.isValid&&(this.isEmpty()||this.e.minus(1).hasSame(this.s,t))}isEmpty(){return this.s.valueOf()===this.e.valueOf()}isAfter(t){return!!this.isValid&&this.s>t}isBefore(t){return!!this.isValid&&this.e<=t}contains(t){return!!this.isValid&&(this.s<=t&&this.e>t)}set({start:t,end:e}={}){return this.isValid?Is.fromDateTimes(t||this.s,e||this.e):this}splitAt(...t){if(!this.isValid)return[];const e=t.map(Dr).filter((t=>this.contains(t))).sort(((t,e)=>t.toMillis()-e.toMillis())),n=[];let{s}=this,r=0;for(;s<this.e;){const t=e[r]||this.e,i=+t>+this.e?this.e:t;n.push(Is.fromDateTimes(s,i)),s=i,r+=1}return n}splitBy(t){const e=Ns.fromDurationLike(t);if(!this.isValid||!e.isValid||0===e.as("milliseconds"))return[];let n,{s}=this,r=1;const i=[];for(;s<this.e;){const t=this.start.plus(e.mapUnits((t=>t*r)));n=+t>+this.e?this.e:t,i.push(Is.fromDateTimes(s,n)),s=n,r+=1}return i}divideEqually(t){return this.isValid?this.splitBy(this.length()/t).slice(0,t):[]}overlaps(t){return this.e>t.s&&this.s<t.e}abutsStart(t){return!!this.isValid&&+this.e==+t.s}abutsEnd(t){return!!this.isValid&&+t.e==+this.s}engulfs(t){return!!this.isValid&&(this.s<=t.s&&this.e>=t.e)}equals(t){return!(!this.isValid||!t.isValid)&&(this.s.equals(t.s)&&this.e.equals(t.e))}intersection(t){if(!this.isValid)return this;const e=this.s>t.s?this.s:t.s,n=this.e<t.e?this.e:t.e;return e>=n?null:Is.fromDateTimes(e,n)}union(t){if(!this.isValid)return this;const e=this.s<t.s?this.s:t.s,n=this.e>t.e?this.e:t.e;return Is.fromDateTimes(e,n)}static merge(t){const[e,n]=t.sort(((t,e)=>t.s-e.s)).reduce((([t,e],n)=>e?e.overlaps(n)||e.abutsStart(n)?[t,e.union(n)]:[t.concat([e]),n]:[t,n]),[[],null]);return n&&e.push(n),e}static xor(t){let e=null,n=0;const s=[],r=t.map((t=>[{time:t.s,type:"s"},{time:t.e,type:"e"}])),i=Array.prototype.concat(...r).sort(((t,e)=>t.time-e.time));for(const t of i)n+="s"===t.type?1:-1,1===n?e=t.time:(e&&+e!=+t.time&&s.push(Is.fromDateTimes(e,t.time)),e=null);return Is.merge(s)}difference(...t){return Is.xor([this].concat(t)).map((t=>this.intersection(t))).filter((t=>t&&!t.isEmpty()))}toString(){return this.isValid?`[${this.s.toISO()} – ${this.e.toISO()})`:As}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`Interval { start: ${this.s.toISO()}, end: ${this.e.toISO()} }`:`Interval { Invalid, reason: ${this.invalidReason} }`}toLocaleString(t=Tt,e={}){return this.isValid?An.create(this.s.loc.clone(e),t).formatInterval(this):As}toISO(t){return this.isValid?`${this.s.toISO(t)}/${this.e.toISO(t)}`:As}toISODate(){return this.isValid?`${this.s.toISODate()}/${this.e.toISODate()}`:As}toISOTime(t){return this.isValid?`${this.s.toISOTime(t)}/${this.e.toISOTime(t)}`:As}toFormat(t,{separator:e=" – "}={}){return this.isValid?`${this.s.toFormat(t)}${e}${this.e.toFormat(t)}`:As}toDuration(t,e){return this.isValid?this.e.diff(this.s,t,e):Ns.invalid(this.invalidReason)}mapEndpoints(t){return Is.fromDateTimes(t(this.s),t(this.e))}}class Cs{static hasDST(t=Te.defaultZone){const e=xr.now().setZone(t).set({month:12});return!t.isUniversal&&e.offset!==e.set({month:6}).offset}static isValidIANAZone(t){return ee.isValidZone(t)}static normalizeZone(t){return ve(t,Te.defaultZone)}static getStartOfWeek({locale:t=null,locObj:e=null}={}){return(e||fe.create(t)).getStartOfWeek()}static getMinimumDaysInFirstWeek({locale:t=null,locObj:e=null}={}){return(e||fe.create(t)).getMinDaysInFirstWeek()}static getWeekendWeekdays({locale:t=null,locObj:e=null}={}){return(e||fe.create(t)).getWeekendDays().slice()}static months(t="long",{locale:e=null,numberingSystem:n=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||fe.create(e,n,r)).months(t)}static monthsFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:s=null,outputCalendar:r="gregory"}={}){return(s||fe.create(e,n,r)).months(t,!0)}static weekdays(t="long",{locale:e=null,numberingSystem:n=null,locObj:s=null}={}){return(s||fe.create(e,n,null)).weekdays(t)}static weekdaysFormat(t="long",{locale:e=null,numberingSystem:n=null,locObj:s=null}={}){return(s||fe.create(e,n,null)).weekdays(t,!0)}static meridiems({locale:t=null}={}){return fe.create(t).meridiems()}static eras(t="short",{locale:e=null}={}){return fe.create(e,null,"gregory").eras(t)}static features(){return{relative:qe(),localeWeek:Ye()}}}function Vs(t,e){const n=t=>t.toUTC(0,{keepLocalTime:!0}).startOf("day").valueOf(),s=n(e)-n(t);return Math.floor(Ns.fromMillis(s).as("days"))}function Ws(t,e,n,s){let[r,i,a,o]=function(t,e,n){const s=[["years",(t,e)=>e.year-t.year],["quarters",(t,e)=>e.quarter-t.quarter+4*(e.year-t.year)],["months",(t,e)=>e.month-t.month+12*(e.year-t.year)],["weeks",(t,e)=>{const n=Vs(t,e);return(n-n%7)/7}],["days",Vs]],r={},i=t;let a,o;for(const[l,u]of s)n.indexOf(l)>=0&&(a=l,r[l]=u(t,e),o=i.plus(r),o>e?(r[l]--,(t=i.plus(r))>e&&(o=t,r[l]--,t=i.plus(r))):t=o);return[t,r,o,a]}(t,e,n);const l=e-r,u=n.filter((t=>["hours","minutes","seconds","milliseconds"].indexOf(t)>=0));0===u.length&&(a<e&&(a=r.plus({[o]:1})),a!==r&&(i[o]=(i[o]||0)+l/(a-r)));const c=Ns.fromObject(i,s);return u.length>0?Ns.fromMillis(l,s).shiftTo(...u).plus(c):c}const Fs={arab:"[٠-٩]",arabext:"[۰-۹]",bali:"[᭐-᭙]",beng:"[০-৯]",deva:"[०-९]",fullwide:"[０-９]",gujr:"[૦-૯]",hanidec:"[〇|一|二|三|四|五|六|七|八|九]",khmr:"[០-៩]",knda:"[೦-೯]",laoo:"[໐-໙]",limb:"[᥆-᥏]",mlym:"[൦-൯]",mong:"[᠐-᠙]",mymr:"[၀-၉]",orya:"[୦-୯]",tamldec:"[௦-௯]",telu:"[౦-౯]",thai:"[๐-๙]",tibt:"[༠-༩]",latn:"\\d"},Ls={arab:[1632,1641],arabext:[1776,1785],bali:[6992,7001],beng:[2534,2543],deva:[2406,2415],fullwide:[65296,65303],gujr:[2790,2799],khmr:[6112,6121],knda:[3302,3311],laoo:[3792,3801],limb:[6470,6479],mlym:[3430,3439],mong:[6160,6169],mymr:[4160,4169],orya:[2918,2927],tamldec:[3046,3055],telu:[3174,3183],thai:[3664,3673],tibt:[3872,3881]},js=Fs.hanidec.replace(/[\[|\]]/g,"").split("");function zs({numberingSystem:t},e=""){return new RegExp(`${Fs[t||"latn"]}${e}`)}const Us="missing Intl.DateTimeFormat.formatToParts support";function Zs(t,e=(t=>t)){return{regex:t,deser:([t])=>e(function(t){let e=parseInt(t,10);if(isNaN(e)){e="";for(let n=0;n<t.length;n++){const s=t.charCodeAt(n);if(-1!==t[n].search(Fs.hanidec))e+=js.indexOf(t[n]);else for(const t in Ls){const[n,r]=Ls[t];s>=n&&s<=r&&(e+=s-n)}}return parseInt(e,10)}return e}(t))}}const Ps=`[ ${String.fromCharCode(160)}]`,Rs=new RegExp(Ps,"g");function Hs(t){return t.replace(/\./g,"\\.?").replace(Rs,Ps)}function qs(t){return t.replace(/\./g,"").replace(Rs," ").toLowerCase()}function Ys(t,e){return null===t?null:{regex:RegExp(t.map(Hs).join("|")),deser:([n])=>t.findIndex((t=>qs(n)===qs(t)))+e}}function Bs(t,e){return{regex:t,deser:([,t,e])=>dn(t,e),groups:e}}function Js(t){return{regex:t,deser:([t])=>t}}const Gs={year:{"2-digit":"yy",numeric:"yyyyy"},month:{numeric:"M","2-digit":"MM",short:"MMM",long:"MMMM"},day:{numeric:"d","2-digit":"dd"},weekday:{short:"EEE",long:"EEEE"},dayperiod:"a",dayPeriod:"a",hour12:{numeric:"h","2-digit":"hh"},hour24:{numeric:"H","2-digit":"HH"},minute:{numeric:"m","2-digit":"mm"},second:{numeric:"s","2-digit":"ss"},timeZoneName:{long:"ZZZZZ",short:"ZZZ"}};let Ks=null;function Qs(t,e){return Array.prototype.concat(...t.map((t=>function(t,e){if(t.literal)return t;const n=tr(An.macroTokenToFormatOpts(t.val),e);return null==n||n.includes(void 0)?t:n}(t,e))))}function Xs(t,e,n){const s=Qs(An.parseFormat(n),t),r=s.map((e=>function(t,e){const n=zs(e),s=zs(e,"{2}"),r=zs(e,"{3}"),i=zs(e,"{4}"),a=zs(e,"{6}"),o=zs(e,"{1,2}"),l=zs(e,"{1,3}"),u=zs(e,"{1,6}"),c=zs(e,"{1,9}"),h=zs(e,"{2,4}"),d=zs(e,"{4,6}"),m=t=>{return{regex:RegExp((e=t.val,e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"))),deser:([t])=>t,literal:!0};var e},f=(f=>{if(t.literal)return m(f);switch(f.val){case"G":return Ys(e.eras("short"),0);case"GG":return Ys(e.eras("long"),0);case"y":return Zs(u);case"yy":case"kk":return Zs(h,cn);case"yyyy":case"kkkk":return Zs(i);case"yyyyy":return Zs(d);case"yyyyyy":return Zs(a);case"M":case"L":case"d":case"H":case"h":case"m":case"q":case"s":case"W":return Zs(o);case"MM":case"LL":case"dd":case"HH":case"hh":case"mm":case"qq":case"ss":case"WW":return Zs(s);case"MMM":return Ys(e.months("short",!0),1);case"MMMM":return Ys(e.months("long",!0),1);case"LLL":return Ys(e.months("short",!1),1);case"LLLL":return Ys(e.months("long",!1),1);case"o":case"S":return Zs(l);case"ooo":case"SSS":return Zs(r);case"u":return Js(c);case"uu":return Js(o);case"uuu":case"E":case"c":return Zs(n);case"a":return Ys(e.meridiems(),0);case"EEE":return Ys(e.weekdays("short",!1),1);case"EEEE":return Ys(e.weekdays("long",!1),1);case"ccc":return Ys(e.weekdays("short",!0),1);case"cccc":return Ys(e.weekdays("long",!0),1);case"Z":case"ZZ":return Bs(new RegExp(`([+-]${o.source})(?::(${s.source}))?`),2);case"ZZZ":return Bs(new RegExp(`([+-]${o.source})(${s.source})?`),2);case"z":return Js(/[a-z_+-/]{1,256}?/i);case" ":return Js(/[^\S\n\r]/);default:return m(f)}})(t)||{invalidReason:Us};return f.token=t,f}(e,t))),i=r.find((t=>t.invalidReason));if(i)return{input:e,tokens:s,invalidReason:i.invalidReason};{const[t,n]=function(t){const e=t.map((t=>t.regex)).reduce(((t,e)=>`${t}(${e.source})`),"");return[`^${e}$`,t]}(r),i=RegExp(t,"i"),[a,o]=function(t,e,n){const s=t.match(e);if(s){const t={};let e=1;for(const r in n)if(Je(n,r)){const i=n[r],a=i.groups?i.groups+1:1;!i.literal&&i.token&&(t[i.token.val[0]]=i.deser(s.slice(e,e+a))),e+=a}return[s,t]}return[s,{}]}(e,i,n),[l,u,c]=o?function(t){let e,n=null;Pe(t.z)||(n=ee.create(t.z)),Pe(t.Z)||(n||(n=new pe(t.Z)),e=t.Z),Pe(t.q)||(t.M=3*(t.q-1)+1),Pe(t.h)||(t.h<12&&1===t.a?t.h+=12:12===t.h&&0===t.a&&(t.h=0)),0===t.G&&t.y&&(t.y=-t.y),Pe(t.u)||(t.S=en(t.u));const s=Object.keys(t).reduce(((e,n)=>{const s=(t=>{switch(t){case"S":return"millisecond";case"s":return"second";case"m":return"minute";case"h":case"H":return"hour";case"d":return"day";case"o":return"ordinal";case"L":case"M":return"month";case"y":return"year";case"E":case"c":return"weekday";case"W":return"weekNumber";case"k":return"weekYear";case"q":return"quarter";default:return null}})(n);return s&&(e[s]=t[n]),e}),{});return[s,n,e]}(o):[null,null,void 0];if(Je(o,"a")&&Je(o,"H"))throw new bt("Can't include meridiem when specifying 24-hour format");return{input:e,tokens:s,regex:i,rawMatches:a,matches:o,result:l,zone:u,specificOffset:c}}}function tr(t,e){if(!t)return null;const n=An.create(e,t).dtFormatter((Ks||(Ks=xr.fromMillis(1555555555555)),Ks)),s=n.formatToParts(),r=n.resolvedOptions();return s.map((e=>function(t,e,n){const{type:s,value:r}=t;if("literal"===s){const t=/^\s+$/.test(r);return{literal:!t,val:t?" ":r}}const i=e[s];let a=s;"hour"===s&&(a=null!=e.hour12?e.hour12?"hour12":"hour24":null!=e.hourCycle?"h11"===e.hourCycle||"h12"===e.hourCycle?"hour12":"hour24":n.hour12?"hour12":"hour24");let o=Gs[a];if("object"==typeof o&&(o=o[i]),o)return{literal:!1,val:o}}(e,t,r)))}const er="Invalid DateTime",nr=864e13;function sr(t){return new Oe("unsupported zone",`the zone "${t.name}" is not supported`)}function rr(t){return null===t.weekData&&(t.weekData=We(t.c)),t.weekData}function ir(t){return null===t.localWeekData&&(t.localWeekData=We(t.c,t.loc.getMinDaysInFirstWeek(),t.loc.getStartOfWeek())),t.localWeekData}function ar(t,e){const n={ts:t.ts,zone:t.zone,c:t.c,o:t.o,loc:t.loc,invalid:t.invalid};return new xr({...n,...e,old:n})}function or(t,e,n){let s=t-60*e*1e3;const r=n.offset(s);if(e===r)return[s,e];s-=60*(r-e)*1e3;const i=n.offset(s);return r===i?[s,r]:[t-60*Math.min(r,i)*1e3,Math.max(r,i)]}function lr(t,e){const n=new Date(t+=60*e*1e3);return{year:n.getUTCFullYear(),month:n.getUTCMonth()+1,day:n.getUTCDate(),hour:n.getUTCHours(),minute:n.getUTCMinutes(),second:n.getUTCSeconds(),millisecond:n.getUTCMilliseconds()}}function ur(t,e,n){return or(on(t),e,n)}function cr(t,e){const n=t.o,s=t.c.year+Math.trunc(e.years),r=t.c.month+Math.trunc(e.months)+3*Math.trunc(e.quarters),i={...t.c,year:s,month:r,day:Math.min(t.c.day,an(s,r))+Math.trunc(e.days)+7*Math.trunc(e.weeks)},a=Ns.fromObject({years:e.years-Math.trunc(e.years),quarters:e.quarters-Math.trunc(e.quarters),months:e.months-Math.trunc(e.months),weeks:e.weeks-Math.trunc(e.weeks),days:e.days-Math.trunc(e.days),hours:e.hours,minutes:e.minutes,seconds:e.seconds,milliseconds:e.milliseconds}).as("milliseconds"),o=on(i);let[l,u]=or(o,n,t.zone);return 0!==a&&(l+=a,u=t.zone.offset(l)),{ts:l,o:u}}function hr(t,e,n,s,r,i){const{setZone:a,zone:o}=n;if(t&&0!==Object.keys(t).length||e){const s=e||o,r=xr.fromObject(t,{...n,zone:s,specificOffset:i});return a?r:r.setZone(o)}return xr.invalid(new Oe("unparsable",`the input "${r}" can't be parsed as ${s}`))}function dr(t,e,n=!0){return t.isValid?An.create(fe.create("en-US"),{allowZ:n,forceSimple:!0}).formatDateTimeFromString(t,e):null}function mr(t,e){const n=t.c.year>9999||t.c.year<0;let s="";return n&&t.c.year>=0&&(s+="+"),s+=Qe(t.c.year,n?6:4),e?(s+="-",s+=Qe(t.c.month),s+="-",s+=Qe(t.c.day)):(s+=Qe(t.c.month),s+=Qe(t.c.day)),s}function fr(t,e,n,s,r,i){let a=Qe(t.c.hour);return e?(a+=":",a+=Qe(t.c.minute),0===t.c.millisecond&&0===t.c.second&&n||(a+=":")):a+=Qe(t.c.minute),0===t.c.millisecond&&0===t.c.second&&n||(a+=Qe(t.c.second),0===t.c.millisecond&&s||(a+=".",a+=Qe(t.c.millisecond,3))),r&&(t.isOffsetFixed&&0===t.offset&&!i?a+="Z":t.o<0?(a+="-",a+=Qe(Math.trunc(-t.o/60)),a+=":",a+=Qe(Math.trunc(-t.o%60))):(a+="+",a+=Qe(Math.trunc(t.o/60)),a+=":",a+=Qe(Math.trunc(t.o%60)))),i&&(a+="["+t.zone.ianaName+"]"),a}const yr={month:1,day:1,hour:0,minute:0,second:0,millisecond:0},pr={weekNumber:1,weekday:1,hour:0,minute:0,second:0,millisecond:0},gr={ordinal:1,hour:0,minute:0,second:0,millisecond:0},vr=["year","month","day","hour","minute","second","millisecond"],wr=["weekYear","weekNumber","weekday","hour","minute","second","millisecond"],br=["year","ordinal","hour","minute","second","millisecond"];function $r(t){switch(t.toLowerCase()){case"localweekday":case"localweekdays":return"localWeekday";case"localweeknumber":case"localweeknumbers":return"localWeekNumber";case"localweekyear":case"localweekyears":return"localWeekYear";default:return function(t){const e={year:"year",years:"year",month:"month",months:"month",day:"day",days:"day",hour:"hour",hours:"hour",minute:"minute",minutes:"minute",quarter:"quarter",quarters:"quarter",second:"second",seconds:"second",millisecond:"millisecond",milliseconds:"millisecond",weekday:"weekday",weekdays:"weekday",weeknumber:"weekNumber",weeksnumber:"weekNumber",weeknumbers:"weekNumber",weekyear:"weekYear",weekyears:"weekYear",ordinal:"ordinal"}[t.toLowerCase()];if(!e)throw new $t(t);return e}(t)}}function Sr(t,e){const n=ve(e.zone,Te.defaultZone),s=fe.fromObject(e),r=Te.now();let i,a;if(Pe(t.year))i=r;else{for(const e of vr)Pe(t[e])&&(t[e]=yr[e]);const e=Ue(t)||Ze(t);if(e)return xr.invalid(e);const s=n.offset(r);[i,a]=ur(t,s,n)}return new xr({ts:i,zone:n,loc:s,o:a})}function kr(t,e,n){const s=!!Pe(n.round)||n.round,r=(t,r)=>{t=nn(t,s||n.calendary?0:2,!0);return e.loc.clone(n).relFormatter(n).format(t,r)},i=s=>n.calendary?e.hasSame(t,s)?0:e.startOf(s).diff(t.startOf(s),s).get(s):e.diff(t,s).get(s);if(n.unit)return r(i(n.unit),n.unit);for(const t of n.units){const e=i(t);if(Math.abs(e)>=1)return r(e,t)}return r(t>e?-0:0,n.units[n.units.length-1])}function _r(t){let e,n={};return t.length>0&&"object"==typeof t[t.length-1]?(n=t[t.length-1],e=Array.from(t).slice(0,t.length-1)):e=Array.from(t),[n,e]}class xr{constructor(t){const e=t.zone||Te.defaultZone;let n=t.invalid||(Number.isNaN(t.ts)?new Oe("invalid input"):null)||(e.isValid?null:sr(e));this.ts=Pe(t.ts)?Te.now():t.ts;let s=null,r=null;if(!n){if(t.old&&t.old.ts===this.ts&&t.old.zone.equals(e))[s,r]=[t.old.c,t.old.o];else{const t=e.offset(this.ts);s=lr(this.ts,t),n=Number.isNaN(s.year)?new Oe("invalid input"):null,s=n?null:s,r=n?null:t}}this._zone=e,this.loc=t.loc||fe.create(),this.invalid=n,this.weekData=null,this.localWeekData=null,this.c=s,this.o=r,this.isLuxonDateTime=!0}static now(){return new xr({})}static local(){const[t,e]=_r(arguments),[n,s,r,i,a,o,l]=e;return Sr({year:n,month:s,day:r,hour:i,minute:a,second:o,millisecond:l},t)}static utc(){const[t,e]=_r(arguments),[n,s,r,i,a,o,l]=e;return t.zone=pe.utcInstance,Sr({year:n,month:s,day:r,hour:i,minute:a,second:o,millisecond:l},t)}static fromJSDate(t,e={}){const n=function(t){return"[object Date]"===Object.prototype.toString.call(t)}(t)?t.valueOf():NaN;if(Number.isNaN(n))return xr.invalid("invalid input");const s=ve(e.zone,Te.defaultZone);return s.isValid?new xr({ts:n,zone:s,loc:fe.fromObject(e)}):xr.invalid(sr(s))}static fromMillis(t,e={}){if(Re(t))return t<-nr||t>nr?xr.invalid("Timestamp out of range"):new xr({ts:t,zone:ve(e.zone,Te.defaultZone),loc:fe.fromObject(e)});throw new St(`fromMillis requires a numerical input, but received a ${typeof t} with value ${t}`)}static fromSeconds(t,e={}){if(Re(t))return new xr({ts:1e3*t,zone:ve(e.zone,Te.defaultZone),loc:fe.fromObject(e)});throw new St("fromSeconds requires a numerical input")}static fromObject(t,e={}){t=t||{};const n=ve(e.zone,Te.defaultZone);if(!n.isValid)return xr.invalid(sr(n));const s=fe.fromObject(e),r=fn(t,$r),{minDaysInFirstWeek:i,startOfWeek:a}=ze(r,s),o=Te.now(),l=Pe(e.specificOffset)?n.offset(o):e.specificOffset,u=!Pe(r.ordinal),c=!Pe(r.year),h=!Pe(r.month)||!Pe(r.day),d=c||h,m=r.weekYear||r.weekNumber;if((d||u)&&m)throw new bt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(h&&u)throw new bt("Can't mix ordinal dates with month/day");const f=m||r.weekday&&!d;let y,p,g=lr(o,l);f?(y=wr,p=pr,g=We(g,i,a)):u?(y=br,p=gr,g=Le(g)):(y=vr,p=yr);let v=!1;for(const t of y){Pe(r[t])?r[t]=v?p[t]:g[t]:v=!0}const w=f?function(t,e=4,n=1){const s=He(t.weekYear),r=Ke(t.weekNumber,1,un(t.weekYear,e,n)),i=Ke(t.weekday,1,7);return s?r?!i&&Ne("weekday",t.weekday):Ne("week",t.weekNumber):Ne("weekYear",t.weekYear)}(r,i,a):u?function(t){const e=He(t.year),n=Ke(t.ordinal,1,rn(t.year));return e?!n&&Ne("ordinal",t.ordinal):Ne("year",t.year)}(r):Ue(r),b=w||Ze(r);if(b)return xr.invalid(b);const $=f?Fe(r,i,a):u?je(r):r,[S,k]=ur($,l,n),_=new xr({ts:S,zone:n,o:k,loc:s});return r.weekday&&d&&t.weekday!==_.weekday?xr.invalid("mismatched weekday",`you can't specify both a weekday of ${r.weekday} and a date of ${_.toISO()}`):_}static fromISO(t,e={}){const[n,s]=function(t){return Wn(t,[ls,ds],[us,ms],[cs,fs],[hs,ys])}(t);return hr(n,s,e,"ISO 8601",t)}static fromRFC2822(t,e={}){const[n,s]=function(t){return Wn(function(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(t),[es,ns])}(t);return hr(n,s,e,"RFC 2822",t)}static fromHTTP(t,e={}){const[n,s]=function(t){return Wn(t,[ss,as],[rs,as],[is,os])}(t);return hr(n,s,e,"HTTP",e)}static fromFormat(t,e,n={}){if(Pe(t)||Pe(e))throw new St("fromFormat requires an input string and a format");const{locale:s=null,numberingSystem:r=null}=n,i=fe.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),[a,o,l,u]=function(t,e,n){const{result:s,zone:r,specificOffset:i,invalidReason:a}=Xs(t,e,n);return[s,r,i,a]}(i,t,e);return u?xr.invalid(u):hr(a,o,n,`format ${e}`,t,l)}static fromString(t,e,n={}){return xr.fromFormat(t,e,n)}static fromSQL(t,e={}){const[n,s]=function(t){return Wn(t,[gs,ds],[vs,ws])}(t);return hr(n,s,e,"SQL",t)}static invalid(t,e=null){if(!t)throw new St("need to specify a reason the DateTime is invalid");const n=t instanceof Oe?t:new Oe(t,e);if(Te.throwOnInvalid)throw new gt(n);return new xr({invalid:n})}static isDateTime(t){return t&&t.isLuxonDateTime||!1}static parseFormatForOpts(t,e={}){const n=tr(t,fe.fromObject(e));return n?n.map((t=>t?t.val:null)).join(""):null}static expandFormat(t,e={}){return Qs(An.parseFormat(t),fe.fromObject(e)).map((t=>t.val)).join("")}get(t){return this[t]}get isValid(){return null===this.invalid}get invalidReason(){return this.invalid?this.invalid.reason:null}get invalidExplanation(){return this.invalid?this.invalid.explanation:null}get locale(){return this.isValid?this.loc.locale:null}get numberingSystem(){return this.isValid?this.loc.numberingSystem:null}get outputCalendar(){return this.isValid?this.loc.outputCalendar:null}get zone(){return this._zone}get zoneName(){return this.isValid?this.zone.name:null}get year(){return this.isValid?this.c.year:NaN}get quarter(){return this.isValid?Math.ceil(this.c.month/3):NaN}get month(){return this.isValid?this.c.month:NaN}get day(){return this.isValid?this.c.day:NaN}get hour(){return this.isValid?this.c.hour:NaN}get minute(){return this.isValid?this.c.minute:NaN}get second(){return this.isValid?this.c.second:NaN}get millisecond(){return this.isValid?this.c.millisecond:NaN}get weekYear(){return this.isValid?rr(this).weekYear:NaN}get weekNumber(){return this.isValid?rr(this).weekNumber:NaN}get weekday(){return this.isValid?rr(this).weekday:NaN}get isWeekend(){return this.isValid&&this.loc.getWeekendDays().includes(this.weekday)}get localWeekday(){return this.isValid?ir(this).weekday:NaN}get localWeekNumber(){return this.isValid?ir(this).weekNumber:NaN}get localWeekYear(){return this.isValid?ir(this).weekYear:NaN}get ordinal(){return this.isValid?Le(this.c).ordinal:NaN}get monthShort(){return this.isValid?Cs.months("short",{locObj:this.loc})[this.month-1]:null}get monthLong(){return this.isValid?Cs.months("long",{locObj:this.loc})[this.month-1]:null}get weekdayShort(){return this.isValid?Cs.weekdays("short",{locObj:this.loc})[this.weekday-1]:null}get weekdayLong(){return this.isValid?Cs.weekdays("long",{locObj:this.loc})[this.weekday-1]:null}get offset(){return this.isValid?+this.o:NaN}get offsetNameShort(){return this.isValid?this.zone.offsetName(this.ts,{format:"short",locale:this.locale}):null}get offsetNameLong(){return this.isValid?this.zone.offsetName(this.ts,{format:"long",locale:this.locale}):null}get isOffsetFixed(){return this.isValid?this.zone.isUniversal:null}get isInDST(){return!this.isOffsetFixed&&(this.offset>this.set({month:1,day:1}).offset||this.offset>this.set({month:5}).offset)}getPossibleOffsets(){if(!this.isValid||this.isOffsetFixed)return[this];const t=864e5,e=6e4,n=on(this.c),s=this.zone.offset(n-t),r=this.zone.offset(n+t),i=this.zone.offset(n-s*e),a=this.zone.offset(n-r*e);if(i===a)return[this];const o=n-i*e,l=n-a*e,u=lr(o,i),c=lr(l,a);return u.hour===c.hour&&u.minute===c.minute&&u.second===c.second&&u.millisecond===c.millisecond?[ar(this,{ts:o}),ar(this,{ts:l})]:[this]}get isInLeapYear(){return sn(this.year)}get daysInMonth(){return an(this.year,this.month)}get daysInYear(){return this.isValid?rn(this.year):NaN}get weeksInWeekYear(){return this.isValid?un(this.weekYear):NaN}get weeksInLocalWeekYear(){return this.isValid?un(this.localWeekYear,this.loc.getMinDaysInFirstWeek(),this.loc.getStartOfWeek()):NaN}resolvedLocaleOptions(t={}){const{locale:e,numberingSystem:n,calendar:s}=An.create(this.loc.clone(t),t).resolvedOptions(this);return{locale:e,numberingSystem:n,outputCalendar:s}}toUTC(t=0,e={}){return this.setZone(pe.instance(t),e)}toLocal(){return this.setZone(Te.defaultZone)}setZone(t,{keepLocalTime:e=!1,keepCalendarTime:n=!1}={}){if((t=ve(t,Te.defaultZone)).equals(this.zone))return this;if(t.isValid){let s=this.ts;if(e||n){const e=t.offset(this.ts),n=this.toObject();[s]=ur(n,e,t)}return ar(this,{ts:s,zone:t})}return xr.invalid(sr(t))}reconfigure({locale:t,numberingSystem:e,outputCalendar:n}={}){return ar(this,{loc:this.loc.clone({locale:t,numberingSystem:e,outputCalendar:n})})}setLocale(t){return this.reconfigure({locale:t})}set(t){if(!this.isValid)return this;const e=fn(t,$r),{minDaysInFirstWeek:n,startOfWeek:s}=ze(e,this.loc),r=!Pe(e.weekYear)||!Pe(e.weekNumber)||!Pe(e.weekday),i=!Pe(e.ordinal),a=!Pe(e.year),o=!Pe(e.month)||!Pe(e.day),l=a||o,u=e.weekYear||e.weekNumber;if((l||i)&&u)throw new bt("Can't mix weekYear/weekNumber units with year/month/day or ordinals");if(o&&i)throw new bt("Can't mix ordinal dates with month/day");let c;r?c=Fe({...We(this.c,n,s),...e},n,s):Pe(e.ordinal)?(c={...this.toObject(),...e},Pe(e.day)&&(c.day=Math.min(an(c.year,c.month),c.day))):c=je({...Le(this.c),...e});const[h,d]=ur(c,this.o,this.zone);return ar(this,{ts:h,o:d})}plus(t){if(!this.isValid)return this;return ar(this,cr(this,Ns.fromDurationLike(t)))}minus(t){if(!this.isValid)return this;return ar(this,cr(this,Ns.fromDurationLike(t).negate()))}startOf(t,{useLocaleWeeks:e=!1}={}){if(!this.isValid)return this;const n={},s=Ns.normalizeUnit(t);switch(s){case"years":n.month=1;case"quarters":case"months":n.day=1;case"weeks":case"days":n.hour=0;case"hours":n.minute=0;case"minutes":n.second=0;case"seconds":n.millisecond=0}if("weeks"===s)if(e){const t=this.loc.getStartOfWeek(),{weekday:e}=this;e<t&&(n.weekNumber=this.weekNumber-1),n.weekday=t}else n.weekday=1;if("quarters"===s){const t=Math.ceil(this.month/3);n.month=3*(t-1)+1}return this.set(n)}endOf(t,e){return this.isValid?this.plus({[t]:1}).startOf(t,e).minus(1):this}toFormat(t,e={}){return this.isValid?An.create(this.loc.redefaultToEN(e)).formatDateTimeFromString(this,t):er}toLocaleString(t=Tt,e={}){return this.isValid?An.create(this.loc.clone(e),t).formatDateTime(this):er}toLocaleParts(t={}){return this.isValid?An.create(this.loc.clone(t),t).formatDateTimeParts(this):[]}toISO({format:t="extended",suppressSeconds:e=!1,suppressMilliseconds:n=!1,includeOffset:s=!0,extendedZone:r=!1}={}){if(!this.isValid)return null;const i="extended"===t;let a=mr(this,i);return a+="T",a+=fr(this,i,e,n,s,r),a}toISODate({format:t="extended"}={}){return this.isValid?mr(this,"extended"===t):null}toISOWeekDate(){return dr(this,"kkkk-'W'WW-c")}toISOTime({suppressMilliseconds:t=!1,suppressSeconds:e=!1,includeOffset:n=!0,includePrefix:s=!1,extendedZone:r=!1,format:i="extended"}={}){if(!this.isValid)return null;return(s?"T":"")+fr(this,"extended"===i,e,t,n,r)}toRFC2822(){return dr(this,"EEE, dd LLL yyyy HH:mm:ss ZZZ",!1)}toHTTP(){return dr(this.toUTC(),"EEE, dd LLL yyyy HH:mm:ss 'GMT'")}toSQLDate(){return this.isValid?mr(this,!0):null}toSQLTime({includeOffset:t=!0,includeZone:e=!1,includeOffsetSpace:n=!0}={}){let s="HH:mm:ss.SSS";return(e||t)&&(n&&(s+=" "),e?s+="z":t&&(s+="ZZ")),dr(this,s,!0)}toSQL(t={}){return this.isValid?`${this.toSQLDate()} ${this.toSQLTime(t)}`:null}toString(){return this.isValid?this.toISO():er}[Symbol.for("nodejs.util.inspect.custom")](){return this.isValid?`DateTime { ts: ${this.toISO()}, zone: ${this.zone.name}, locale: ${this.locale} }`:`DateTime { Invalid, reason: ${this.invalidReason} }`}valueOf(){return this.toMillis()}toMillis(){return this.isValid?this.ts:NaN}toSeconds(){return this.isValid?this.ts/1e3:NaN}toUnixInteger(){return this.isValid?Math.floor(this.ts/1e3):NaN}toJSON(){return this.toISO()}toBSON(){return this.toJSDate()}toObject(t={}){if(!this.isValid)return{};const e={...this.c};return t.includeConfig&&(e.outputCalendar=this.outputCalendar,e.numberingSystem=this.loc.numberingSystem,e.locale=this.loc.locale),e}toJSDate(){return new Date(this.isValid?this.ts:NaN)}diff(t,e="milliseconds",n={}){if(!this.isValid||!t.isValid)return Ns.invalid("created by diffing an invalid DateTime");const s={locale:this.locale,numberingSystem:this.numberingSystem,...n},r=(o=e,Array.isArray(o)?o:[o]).map(Ns.normalizeUnit),i=t.valueOf()>this.valueOf(),a=Ws(i?this:t,i?t:this,r,s);var o;return i?a.negate():a}diffNow(t="milliseconds",e={}){return this.diff(xr.now(),t,e)}until(t){return this.isValid?Is.fromDateTimes(this,t):this}hasSame(t,e,n){if(!this.isValid)return!1;const s=t.valueOf(),r=this.setZone(t.zone,{keepLocalTime:!0});return r.startOf(e,n)<=s&&s<=r.endOf(e,n)}equals(t){return this.isValid&&t.isValid&&this.valueOf()===t.valueOf()&&this.zone.equals(t.zone)&&this.loc.equals(t.loc)}toRelative(t={}){if(!this.isValid)return null;const e=t.base||xr.fromObject({},{zone:this.zone}),n=t.padding?this<e?-t.padding:t.padding:0;let s=["years","months","days","hours","minutes","seconds"],r=t.unit;return Array.isArray(t.unit)&&(s=t.unit,r=void 0),kr(e,this.plus(n),{...t,numeric:"always",units:s,unit:r})}toRelativeCalendar(t={}){return this.isValid?kr(t.base||xr.fromObject({},{zone:this.zone}),this,{...t,numeric:"auto",units:["years","months","days"],calendary:!0}):null}static min(...t){if(!t.every(xr.isDateTime))throw new St("min requires all arguments be DateTimes");return Be(t,(t=>t.valueOf()),Math.min)}static max(...t){if(!t.every(xr.isDateTime))throw new St("max requires all arguments be DateTimes");return Be(t,(t=>t.valueOf()),Math.max)}static fromFormatExplain(t,e,n={}){const{locale:s=null,numberingSystem:r=null}=n;return Xs(fe.fromOpts({locale:s,numberingSystem:r,defaultToEN:!0}),t,e)}static fromStringExplain(t,e,n={}){return xr.fromFormatExplain(t,e,n)}static get DATE_SHORT(){return Tt}static get DATE_MED(){return Ot}static get DATE_MED_WITH_WEEKDAY(){return Et}static get DATE_FULL(){return Mt}static get DATE_HUGE(){return Nt}static get TIME_SIMPLE(){return At}static get TIME_WITH_SECONDS(){return It}static get TIME_WITH_SHORT_OFFSET(){return Ct}static get TIME_WITH_LONG_OFFSET(){return Vt}static get TIME_24_SIMPLE(){return Wt}static get TIME_24_WITH_SECONDS(){return Ft}static get TIME_24_WITH_SHORT_OFFSET(){return Lt}static get TIME_24_WITH_LONG_OFFSET(){return jt}static get DATETIME_SHORT(){return zt}static get DATETIME_SHORT_WITH_SECONDS(){return Ut}static get DATETIME_MED(){return Zt}static get DATETIME_MED_WITH_SECONDS(){return Pt}static get DATETIME_MED_WITH_WEEKDAY(){return Rt}static get DATETIME_FULL(){return Ht}static get DATETIME_FULL_WITH_SECONDS(){return qt}static get DATETIME_HUGE(){return Yt}static get DATETIME_HUGE_WITH_SECONDS(){return Bt}}function Dr(t){if(xr.isDateTime(t))return t;if(t&&t.valueOf&&Re(t.valueOf()))return xr.fromJSDate(t);if(t&&"object"==typeof t)return xr.fromObject(t);throw new St(`Unknown datetime argument: ${t}, of type ${typeof t}`)}class Tr{constructor({date:t,direction:e}){this._date=t?xr.fromObject(t):void 0,this._direction=e}set date(t){const e=xr.fromObject(t);if(!(e instanceof xr))throw new Error("date couldn't be converted to DateTime object");this._date=e}set direction(t){this._direction=t}getDateByDayInDirection(){if(!(this._date instanceof xr&&this._direction))throw new Error("date or direction not defined.");const t=this._date.plus({days:"next"===this._direction?1:-1});return{day:t.day,month:t.month,year:t.year}}getDateByMonthInDirection(){if(!(this._date instanceof xr&&this._direction))throw new Error("date or direction not defined.");let t=this._date.year,e=this._date.month+("next"===this._direction?1:-1);e>12?(e=1,t++):e<1&&(e=12,t--);const n=xr.fromObject({year:t,month:e,day:this._date.day});return{day:n.day,month:n.month,year:n.year}}}let Or=class extends it{constructor(){super(...arguments),this.translations=new ft}render(){var t;return 0!==Object.keys(this.activeDate||{day:1,month:1,year:2022}).length?Z`<div class="month">${null===(t=this._getCalendarArray())||void 0===t?void 0:t.map((({year:t,month:e,day:n})=>Z`<div class="day" data-date="${t}-${e}-${n}" @click="${this._handleExpand}"><div class="indicator">${1===n?`${n}. ${this.translations.getTranslation(e)}`:n}</div><slot name="${t}-${e}-${n}"></slot></div>`))}</div>`:Z``}_handleExpand(t){if(null===t.target)return;const e=t.target,{date:n}=e.dataset;if(!n)return;const[s,r,i]=n.split("-").map((t=>parseInt(t,10))),a=new CustomEvent("expand",{detail:{date:{day:i,month:r,year:s}},bubbles:!0,composed:!0});this.dispatchEvent(a)}_getDaysInMonth(t){return new Date(t.year,t.month,0).getDate()}_getOffsetOfFirstDayInMonth(t){const e=new Date(`${t.year}/${t.month}/01`).getDay();return 0===e?6:e-1}_getDatesInMonthAsArray(t,e){return[...Array.from(Array(this._getDaysInMonth(t)).keys(),((e,n)=>({year:t.year,month:t.month,day:n+1}))).slice(...e)]}_getCalendarArray(){if(!this.activeDate)return;const t=new Tr({date:this.activeDate});t.direction="previous";const e=this._getDatesInMonthAsArray(t.getDateByMonthInDirection(),this._getOffsetOfFirstDayInMonth(this.activeDate)?[-1*this._getOffsetOfFirstDayInMonth(this.activeDate)]:[-0,-0]),n=this._getDatesInMonthAsArray(this.activeDate,[]);t.direction="next";const s=this._getDatesInMonthAsArray(t.getDateByMonthInDirection(),[0,42-(e.length+n.length)]);return e.concat(n,s)}};Or.styles=a`.month{height:calc(100% - 5.5em + 2px);display:grid;grid-template-columns:repeat(7,1fr);border-top:1px solid var(--separator-light)}.month>div{border-bottom:1px solid var(--separator-light);border-right:1px solid var(--separator-light)}.month>div:nth-child(7n + 7){border-right:none}.month>div:nth-last-child(-n + 7){border-bottom:none}.day{width:100%;position:relative;display:flex;flex-direction:column;overflow-x:hidden;gap:1px}.indicator{position:sticky;top:.25em;text-align:right;padding:0 .25em;margin-bottom:.25em;text-align:left}`,t([ct({attribute:!1})],Or.prototype,"activeDate",void 0),Or=t([ot("lms-calendar-month")],Or);let Er=class extends it{constructor(){super(...arguments),this._hours=[...Array(25).keys()],this._hasActiveSidebar=!1}render(){return Z`<div class="container"><div class="main w-${this._hasActiveSidebar?"70":"100"}">${this._hours.map(((t,e)=>Z`<div class="hour" style="${this._getHourIndicator(t)}"><span class="indicator">${t<10?`0${t}:00`:`${t}:00`}</span></div>${e?Z`<div class="separator" style="grid-row:${60*t}"></div>`:Z``}<slot name="${t}" class="entry"></slot>`))}</div><div class="sidebar w-${this._hasActiveSidebar?"30":"0"}" ?hidden="${!this._hasActiveSidebar}"></div></div>`}_getHourIndicator(t){return 24!==t?`grid-row: ${60*(t+1)-59}/${60*(t+1)}`:"grid-row: 1440"}};Er.styles=a`.container{display:flex;height:calc(100% - 3.5em);width:100%}.main{display:grid;grid-template-columns:4em 1fr;grid-template-rows:repeat(1440,1fr);height:calc(100% - 1em);gap:1px;overflow-y:scroll;text-align:center;padding:.5em;position:relative}.hour{text-align:center}.indicator{position:relative;top:-.6em}.separator{grid-column:2/3;border-top:1px solid var(--separator-light);position:absolute;width:100%;z-index:0}.sidebar{height:100%;border-left:1px solid var(--separator-light)}.w-100{width:100%}.w-70{width:70%}.w-30{width:30%}.w-0{width:0}`,t([ht()],Er.prototype,"_hours",void 0),t([ht()],Er.prototype,"_hasActiveSidebar",void 0),Er=t([ot("lms-calendar-day")],Er);let Mr=class extends it{constructor(){super(...arguments),this.translations=new ft}render(){return Z`<div><span>${this.translations.getTranslation("Mon")}</span> <span>${this.translations.getTranslation("Tues")}</span> <span>${this.translations.getTranslation("Wed")}</span> <span>${this.translations.getTranslation("Thurs")}</span> <span>${this.translations.getTranslation("Fri")}</span> <span>${this.translations.getTranslation("Sat")}</span> <span>${this.translations.getTranslation("Sun")}</span></div>`}};Mr.styles=a`div{height:1.75em;display:grid;grid-template-columns:repeat(7,1fr)}span{padding:.25em;text-align:left}`,Mr=t([ot("lms-calendar-context")],Mr);let Nr=class extends it{constructor(){super(...arguments),this.translations=new ft,this.heading="",this.isContinuation=!1,this._sumReducer=(t,e)=>t+e}render(){const t=mt(this.content);return Z`<div class="main" ?data-highlighted="${this._highlighted}" ?data-extended="${this._extended}"><span @click="${this._handleClick}" title="${this.heading}${t?"":` · ${this.content}`}"><span>${this.heading} </span><span ?hidden="${t}">· ${this.content}</span> </span>${this.isContinuation?this.translations.getTranslation("all day"):Z`<span class="nowrap">${this._displayInterval(this.time)}</span>`}</div>`}_displayInterval(t){if(!t)return R;const e=[t.start.hours,t.start.minutes,t.end.hours,t.end.minutes];if(24===e[2]&&e.reduce(this._sumReducer,0)%24==0)return this.translations.getTranslation("all day");const[n,s,r,i]=e.map((t=>t<10?`0${t}`:t));return`${n}:${s} - ${r}:${i}`}_handleClick(){this._highlighted=!this._highlighted,this._extended=!this._extended}};function Ar(t){let e=0,n=0,s=0;if(t){const r=t.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,((t,e,n,s)=>`#${e}${e}${n}${n}${s}${s}`)).substring(1).match(/.{2}/g);if(!r)return["rgb(255,255,255)","rgb(0,0,0)"];[e,n,s]=r.map((t=>parseInt(t,16)))}const r=(299*e+587*n+114*s)/1e3;return[`rgb(${e},${n},${s})`,Math.abs(r-255)>Math.abs(r-0)?"rgb(255, 255, 255)":"rgb(0, 0, 0)"]}function Ir(t){const e=t.map((t=>t.end)).sort(((t,e)=>t-e));t.sort(((t,e)=>t.start-e.start));let n=0,s=0,r=0;const i=[];let a=[];for(;n<t.length&&s<e.length;)t[n].start<e[s]?(a.push(t[n++]),++r):(++s,0==--r&&(i.push(a),a=[]));return a.length>0&&i.push(a),i}Nr.styles=a`:host{font-size:small;grid-column:2;border-radius:var(--entry-br);grid-row:var(--start-slot);width:var(--entry-w);margin:var(--entry-m);background-color:var(--entry-bc);color:var(--entry-c);z-index:1}.main{display:flex;justify-content:space-between;padding:.25em;border-radius:var(--border-radius-sm);background-color:inherit}.main>span:first-child{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}div[data-highlighted]{background:var(--separator-light)}.nowrap{white-space:nowrap}`,t([ct({attribute:!1})],Nr.prototype,"time",void 0),t([ct()],Nr.prototype,"heading",void 0),t([ct()],Nr.prototype,"content",void 0),t([ct({type:Boolean})],Nr.prototype,"isContinuation",void 0),t([ht()],Nr.prototype,"_highlighted",void 0),t([ht()],Nr.prototype,"_extended",void 0),Nr=t([ot("lms-calendar-entry")],Nr);class Cr{constructor(t,e,n){this.entry=t,this.startDate=xr.fromJSDate(e),this.index=n,this.currentStartDate=this.startDate.plus({days:this.index}),this.currentEndDate=this.currentStartDate.plus({days:1}).minus({seconds:1})}getEntry(){return{...this.entry,date:{start:this.currentStartDate.toObject(),end:this.currentEndDate.toObject()}}}}const Vr=Symbol.for("@ts-pattern/matcher"),Wr=Symbol.for("@ts-pattern/isVariadic"),Fr="@ts-pattern/anonymous-select-key",Lr=t=>Boolean(t&&"object"==typeof t),jr=t=>t&&!!t[Vr],zr=(t,e,n)=>{if(jr(t)){const s=t[Vr](),{matched:r,selections:i}=s.match(e);return r&&i&&Object.keys(i).forEach((t=>n(t,i[t]))),r}if(Lr(t)){if(!Lr(e))return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;let s=[],r=[],i=[];for(const e of t.keys()){const n=t[e];jr(n)&&n[Wr]?i.push(n):i.length?r.push(n):s.push(n)}if(i.length){if(i.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<s.length+r.length)return!1;const t=e.slice(0,s.length),a=0===r.length?[]:e.slice(-r.length),o=e.slice(s.length,0===r.length?1/0:-r.length);return s.every(((e,s)=>zr(e,t[s],n)))&&r.every(((t,e)=>zr(t,a[e],n)))&&(0===i.length||zr(i[0],o,n))}return t.length===e.length&&t.every(((t,s)=>zr(t,e[s],n)))}return Object.keys(t).every((s=>{const r=t[s];return(s in e||jr(i=r)&&"optional"===i[Vr]().matcherType)&&zr(r,e[s],n);var i}))}return Object.is(e,t)},Ur=t=>{var e,n,s;return Lr(t)?jr(t)?null!=(e=null==(n=(s=t[Vr]()).getSelectionKeys)?void 0:n.call(s))?e:[]:Array.isArray(t)?Zr(t,Ur):Zr(Object.values(t),Ur):[]},Zr=(t,e)=>t.reduce(((t,n)=>t.concat(e(n))),[]);function Pr(t){return Object.assign(t,{optional:()=>Rr(t),and:e=>Hr(t,e),or:e=>qr(t,e),select:e=>void 0===e?Br(t):Br(e,t)})}function Rr(t){return Pr({[Vr]:()=>({match:e=>{let n={};const s=(t,e)=>{n[t]=e};return void 0===e?(Ur(t).forEach((t=>s(t,void 0))),{matched:!0,selections:n}):{matched:zr(t,e,s),selections:n}},getSelectionKeys:()=>Ur(t),matcherType:"optional"})})}function Hr(...t){return Pr({[Vr]:()=>({match:e=>{let n={};const s=(t,e)=>{n[t]=e};return{matched:t.every((t=>zr(t,e,s))),selections:n}},getSelectionKeys:()=>Zr(t,Ur),matcherType:"and"})})}function qr(...t){return Pr({[Vr]:()=>({match:e=>{let n={};const s=(t,e)=>{n[t]=e};return Zr(t,Ur).forEach((t=>s(t,void 0))),{matched:t.some((t=>zr(t,e,s))),selections:n}},getSelectionKeys:()=>Zr(t,Ur),matcherType:"or"})})}function Yr(t){return{[Vr]:()=>({match:e=>({matched:Boolean(t(e))})})}}function Br(...t){const e="string"==typeof t[0]?t[0]:void 0,n=2===t.length?t[1]:"string"==typeof t[0]?void 0:t[0];return Pr({[Vr]:()=>({match:t=>{let s={[null!=e?e:Fr]:t};return{matched:void 0===n||zr(n,t,((t,e)=>{s[t]=e})),selections:s}},getSelectionKeys:()=>[null!=e?e:Fr].concat(void 0===n?[]:Ur(n))})})}function Jr(t){return"number"==typeof t}function Gr(t){return"string"==typeof t}function Kr(t){return"bigint"==typeof t}Pr(Yr((function(t){return!0})));const Qr=t=>Object.assign(Pr(t),{startsWith:e=>{return Qr(Hr(t,(n=e,Yr((t=>Gr(t)&&t.startsWith(n))))));var n},endsWith:e=>{return Qr(Hr(t,(n=e,Yr((t=>Gr(t)&&t.endsWith(n))))));var n},minLength:e=>Qr(Hr(t,(t=>Yr((e=>Gr(e)&&e.length>=t)))(e))),maxLength:e=>Qr(Hr(t,(t=>Yr((e=>Gr(e)&&e.length<=t)))(e))),includes:e=>{return Qr(Hr(t,(n=e,Yr((t=>Gr(t)&&t.includes(n))))));var n},regex:e=>{return Qr(Hr(t,(n=e,Yr((t=>Gr(t)&&Boolean(t.match(n)))))));var n}});Qr(Yr(Gr));const Xr=t=>Object.assign(Pr(t),{between:(e,n)=>Xr(Hr(t,((t,e)=>Yr((n=>Jr(n)&&t<=n&&e>=n)))(e,n))),lt:e=>Xr(Hr(t,(t=>Yr((e=>Jr(e)&&e<t)))(e))),gt:e=>Xr(Hr(t,(t=>Yr((e=>Jr(e)&&e>t)))(e))),lte:e=>Xr(Hr(t,(t=>Yr((e=>Jr(e)&&e<=t)))(e))),gte:e=>Xr(Hr(t,(t=>Yr((e=>Jr(e)&&e>=t)))(e))),int:()=>Xr(Hr(t,Yr((t=>Jr(t)&&Number.isInteger(t))))),finite:()=>Xr(Hr(t,Yr((t=>Jr(t)&&Number.isFinite(t))))),positive:()=>Xr(Hr(t,Yr((t=>Jr(t)&&t>0)))),negative:()=>Xr(Hr(t,Yr((t=>Jr(t)&&t<0))))});Xr(Yr(Jr));const ti=t=>Object.assign(Pr(t),{between:(e,n)=>ti(Hr(t,((t,e)=>Yr((n=>Kr(n)&&t<=n&&e>=n)))(e,n))),lt:e=>ti(Hr(t,(t=>Yr((e=>Kr(e)&&e<t)))(e))),gt:e=>ti(Hr(t,(t=>Yr((e=>Kr(e)&&e>t)))(e))),lte:e=>ti(Hr(t,(t=>Yr((e=>Kr(e)&&e<=t)))(e))),gte:e=>ti(Hr(t,(t=>Yr((e=>Kr(e)&&e>=t)))(e))),positive:()=>ti(Hr(t,Yr((t=>Kr(t)&&t>0)))),negative:()=>ti(Hr(t,Yr((t=>Kr(t)&&t<0))))});ti(Yr(Kr)),Pr(Yr((function(t){return"boolean"==typeof t}))),Pr(Yr((function(t){return"symbol"==typeof t}))),Pr(Yr((function(t){return null==t})));const ei={matched:!1,value:void 0};class ni{constructor(t,e){this.input=void 0,this.state=void 0,this.input=t,this.state=e}with(...t){if(this.state.matched)return this;const e=t[t.length-1],n=[t[0]];let s;3===t.length&&"function"==typeof t[1]?s=t[1]:t.length>2&&n.push(...t.slice(1,t.length-1));let r=!1,i={};const a=(t,e)=>{r=!0,i[t]=e},o=!n.some((t=>zr(t,this.input,a)))||s&&!Boolean(s(this.input))?ei:{matched:!0,value:e(r?Fr in i?i[Fr]:i:this.input,this.input)};return new ni(this.input,o)}when(t,e){if(this.state.matched)return this;const n=Boolean(t(this.input));return new ni(this.input,n?{matched:!0,value:e(this.input,this.input)}:ei)}otherwise(t){return this.state.matched?this.state.value:t(this.input)}exhaustive(){if(this.state.matched)return this.state.value;let t;try{t=JSON.stringify(this.input)}catch(e){t=this.input}throw new Error(`Pattern matching error: no pattern matches value ${t}`)}run(){return this.exhaustive()}returnType(){return this}}let si=class extends it{constructor(){super(...arguments),this.currentDate=new Date,this.activeDate={day:this.currentDate.getDate(),month:this.currentDate.getMonth()+1,year:this.currentDate.getFullYear()},this.entries=[],this.color="#000000",this._calendarWidth=window.innerWidth,this._handleResize=t=>{const[e]=t;this._calendarWidth=e.contentRect.width||this._calendarWidth},this._resizeController=new dt(this,{target:null,callback:this._handleResize,skipInitial:!0})}firstUpdated(t){var e;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.firstElementChild;n&&this._resizeController.observe(n)}willUpdate(t){this.entries.length&&this.entries.sort(((t,e)=>t.time.start.hours-e.time.start.hours||t.time.start.minutes-e.time.start.minutes))}render(){const t=!mt(this._expandedDate);return Z`
            <div>
                <lms-calendar-header
                    @switchdate=${this._handleSwitchDate}
                    @switchview=${this._handleSwitchView}
                    .heading=${this.heading}
                    .activeDate=${this.activeDate}
                    .expandedDate=${this._expandedDate}
                >
                </lms-calendar-header>

                <lms-calendar-context ?hidden=${t}>
                </lms-calendar-context>

                <lms-calendar-month
                    @expand=${this._handleExpand}
                    .activeDate=${this.activeDate}
                    ?hidden=${t}
                >
                    ${this._calendarWidth<768?this._renderEntriesSumByDay():this._renderEntries()}
                </lms-calendar-month>

                <lms-calendar-day ?hidden=${!t}>
                    ${this._renderEntriesByDate()}
                </lms-calendar-day>
            </div>
        `}_handleSwitchDate(t){const e=new Tr({});if(e.direction=t.detail.direction,this._expandedDate){e.date=this._expandedDate;const t=e.getDateByDayInDirection();return this._expandedDate=t,void(this.activeDate=t)}e.date=this.activeDate,this.activeDate=e.getDateByMonthInDirection()}_handleSwitchView(t){return function(t){return new ni(t,ei)}(t.detail.view).with("day",(()=>{this._expandedDate=mt(this._expandedDate)?this.activeDate:this._expandedDate})).with("month",(()=>{var t;this.activeDate=null!==(t=this._expandedDate)&&void 0!==t?t:this.activeDate,this._expandedDate=void 0})).otherwise((()=>{}))}_handleExpand(t){this._expandedDate=t.detail.date}_composeEntry(t,e,n,s){var r;return Z`
            <style>
                lms-calendar-entry.${`_${t}`} {
                    --start-slot: ${n.startSlot};
                    --entry-w: ${n.w};
                    --entry-br: ${n.br};
                    --entry-m: ${n.m};
                    --entry-bc: ${n.bc};
                    --entry-c: ${n.c};
                }
            </style>
            <lms-calendar-entry
                class=${`_${t}`}
                slot=${e}
                .time=${s.time}
                .heading=${s.heading}
                .content=${s.content}
                .isContinuation=${null!==(r=s.isContinuation)&&void 0!==r&&r}
            >
            </lms-calendar-entry>
        `}_expandEntryMaybe({entry:t,entryIndex:e,startDate:n,rangeDays:s,styles:r}){return Array.from({length:s},((i,a)=>{const o=new Cr(t,n,a).getEntry(),l=`${o.date.start.year}-${o.date.start.month}-${o.date.start.day}`,u=a>0&&s>1;return this._composeEntry(e,l,{br:s>1?"0":"var(--border-radius-sm)",m:`0 ${0!==a?0:"0.25em"} 0 ${0!==a?0:"1.5em"}`,bc:r.background,c:r.text},{time:o.time,heading:u?"":o.heading,isContinuation:u})}))}_renderEntries(){return this.entries.length?this.entries.map(((t,e)=>{const[n,s]=Ar(t.color),[r,,i]=this._getDaysRange(t.date);return this._expandEntryMaybe({entry:t,entryIndex:e,startDate:r,rangeDays:i,styles:{background:n,text:s}})})).flat():R}_renderEntriesByDate(){if(mt(this._expandedDate))return;const t=this.entries.filter((t=>{var e;const n=t.time.start,s=t.time.end,r=function(t,e){return Object.keys(t).length===Object.keys(e).length&&Object.entries(t).every((([n,s])=>n in t&&n in e&&typeof t[n]==typeof e[n]&&s===e[n]))}(t.date.start,null!==(e=this._expandedDate)&&void 0!==e?e:{});return r&&(n.hours<s.hours||n.hours===s.hours&&n.minutes<s.minutes)})),e=function(t){const e=new Map;t.forEach((t=>{e.has(t.group)||e.set(t.group,[]),e.get(t.group).push({index:t.index,depth:t.depth,group:t.group})}));const n=[];return e.forEach((t=>{t.sort(((t,e)=>t.index-e.index)),t.forEach(((t,e)=>{n.push({index:t.index,depth:e,group:t.group})}))})),n.sort(((t,e)=>t.index-e.index)),n}(mt(t)?[]:function(t){const e=t.reduce(((e,n,s)=>1===n.length?[...e,{index:[t.slice(0,s)].flatMap((t=>t.flat().length))[0],depth:0,group:s}]:[...e]),[]),n=t.map(((e,n)=>e.map(((e,s)=>({...e,index:[t.slice(0,n)].flatMap((t=>t.flat().length))[0]+s,group:n}))))).filter((t=>t.length>1));let s=0,r=Math.min(...n.map((t=>t[0].group)));return function t({partitions:n,isNested:i=!1}){s=i?s+=1:0,n.forEach((n=>{const{group:i}=n[0];r!==i&&(s=0),r=i;const a=[...n.map((({start:t,end:e})=>e-t))],o=Math.max(...a),l=a.indexOf(o);e.push({index:n[l].index,depth:s,group:n[l].group}),n.splice(a.indexOf(o),1),t({partitions:Ir(n),isNested:!0})}))}({partitions:n}),e.sort(((t,e)=>t.index-e.index))}(this._getPartitionedSlottedItems(t)));return t.map((({time:t,heading:n,content:s,color:r},i)=>{const[a,o]=Ar(r),l=t.start.hours.toString();return this._composeEntry(i,l,{startSlot:this._getGridSlotByTime(t),w:`${this._getWidthByGroupSize({grading:e,index:i})}%`,m:`0 1.5em 0 ${this._getOffsetByDepth({grading:e,index:i})}%`,bc:a,c:o},{time:t,heading:n,content:s})}))}_renderEntriesSumByDay(){const t=this.entries.reduce(((t,e)=>{const{day:n,month:s,year:r}=e.date.start,i=`${n}-${s}-${r}`;return t[i]=t[i]?t[i]+1:1,t}),{});return Object.keys(t).map(((e,n)=>{const[s,r,i]=e.split("-"),a=`${i}-${r}-${s}`;return this._composeEntry(n,a,{br:"var(--border-radius-sm)",m:"0 auto",bc:"whitesmoke",c:"black"},{heading:`[ ${t[e]} ]`})}))}_getGridSlotByTime({start:t,end:e}){const n=60*t.hours+(t.minutes+1);return`${n}/${n+(60*e.hours+e.minutes-n)}`}_getWidthByGroupSize({grading:t,index:e}){return 100/t.filter((n=>n.group===t[e].group)).length}_getOffsetByDepth({grading:t,index:e}){return t[e]?0===t[e].depth?0:t[e].depth*(100/t.filter((n=>n.group===t[e].group)).length):0}_getPartitionedSlottedItems(t){return Ir(t.map((t=>this._getGridSlotByTime(t.time).replace(/[^0-9/]+/g,"").split("/"))).map((([t,e])=>[parseInt(t,10),parseInt(e,10)])).map((([t,e])=>({start:t,end:e}))))}_getDaysRange(t){const{start:e,end:n}=t,s=new Date(e.year,e.month-1,e.day),r=new Date(n.year,n.month-1,n.day);return[s,r,(r.getTime()-s.getTime())/864e5+1]}};si.styles=a`
        :host {
            --shadow-sm: rgba(0, 0, 0, 0.18) 0px 2px 4px;
            --shadow-md: rgba(0, 0, 0, 0.15) 0px 3px 3px 0px;
            --shadow-lg: rgba(0, 0, 0, 0.15) 0px 2px 8px;
            --shadow-hv: rgba(0, 0, 0, 0.08) 0px 4px 12px;

            --breakpoint-xs: 425px;
            --breakpoint-sm: 768px;
            --breakpoint-md: 1024px;

            --separator-light: rgba(0, 0, 0, 0.1);
            --separator-mid: rgba(0, 0, 0, 0.4);
            --separator-dark: rgba(0, 0, 0, 0.7);

            --system-ui: system-ui, 'Segoe UI', Roboto, Helvetica, Arial,
                sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
                'Segoe UI Symbol';

            --border-radius-sm: 5px;
            --border-radius-md: 7px;
            --border-radius-lg: 12px;

            --background-color: #ffffff;

            --height: 100%;
            --width: 100%;
        }
        div {
            width: var(--width);
            height: var(--height);
            background-color: var(--background-color);
            border-radius: var(--border-radius-lg);
            border: 1px solid var(--separator-light);
            font-family: var(--system-ui);
            color: var(--separator-dark);
            box-shadow: var(--shadow-md);
        }
    `,t([ct({type:String})],si.prototype,"heading",void 0),t([ct({type:Object})],si.prototype,"activeDate",void 0),t([ct({type:Array})],si.prototype,"entries",void 0),t([ct({type:String})],si.prototype,"color",void 0),t([ht()],si.prototype,"_expandedDate",void 0),t([ht()],si.prototype,"_calendarWidth",void 0),si=t([ot("lms-calendar")],si);var ri=si;export{ri as default};
//# sourceMappingURL=lms-calendar.bundled.js.map
