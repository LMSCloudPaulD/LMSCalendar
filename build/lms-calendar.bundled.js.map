{"version":3,"file":"lms-calendar.bundled.js","sources":["../node_modules/.pnpm/tslib@2.6.2/node_modules/tslib/tslib.es6.mjs","../node_modules/.pnpm/@lit+reactive-element@2.0.3/node_modules/@lit/reactive-element/css-tag.js","../node_modules/.pnpm/@lit+reactive-element@2.0.3/node_modules/@lit/reactive-element/reactive-element.js","../node_modules/.pnpm/lit-html@3.1.1/node_modules/lit-html/lit-html.js","../node_modules/.pnpm/lit-element@4.0.3/node_modules/lit-element/lit-element.js","../node_modules/.pnpm/@lit+reactive-element@2.0.3/node_modules/@lit/reactive-element/decorators/custom-element.js","../node_modules/.pnpm/@lit+reactive-element@2.0.3/node_modules/@lit/reactive-element/decorators/property.js","../node_modules/.pnpm/@lit+reactive-element@2.0.3/node_modules/@lit/reactive-element/decorators/state.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/resizeObservers.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverBoxOptions.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/deliverResizeLoopError.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/freeze.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueMicroTask.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverSize.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/DOMRectReadOnly.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/element.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/global.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateBoxSize.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverEntry.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/calculateDepthForNode.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/broadcastActiveObservations.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/gatherActiveObservationsAtDepth.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/process.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasActiveObservations.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/algorithms/hasSkippedObservations.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/scheduler.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/utils/queueResizeObserver.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObservation.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverDetail.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserverController.js","../node_modules/.pnpm/@juggle+resize-observer@3.4.0/node_modules/@juggle/resize-observer/lib/ResizeObserver.js","../src/utils/isEmptyObjectOrUndefined.ts","../src/locales/Translations.ts","../src/components/Header.ts","../src/lib/DateTransformer.ts","../src/components/Month.ts","../src/components/Day.ts","../src/components/Context.ts","../src/components/Entry.ts","../src/utils/getColorTextWithContrast.ts","../src/utils/partitionOverlappingIntervals.ts","../src/lib/EntryTransformer.ts","../src/lms-calendar.ts","../src/utils/haveSameValues.ts","../src/utils/getSortedGradingsByIndex.ts","../src/utils/getOverlappingEntitiesIndices.ts"],"sourcesContent":["/******************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */\n/* global Reflect, Promise, SuppressedError, Symbol */\n\nvar extendStatics = function(d, b) {\n  extendStatics = Object.setPrototypeOf ||\n      ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n      function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n  return extendStatics(d, b);\n};\n\nexport function __extends(d, b) {\n  if (typeof b !== \"function\" && b !== null)\n      throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n  extendStatics(d, b);\n  function __() { this.constructor = d; }\n  d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n}\n\nexport var __assign = function() {\n  __assign = Object.assign || function __assign(t) {\n      for (var s, i = 1, n = arguments.length; i < n; i++) {\n          s = arguments[i];\n          for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n      }\n      return t;\n  }\n  return __assign.apply(this, arguments);\n}\n\nexport function __rest(s, e) {\n  var t = {};\n  for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n      t[p] = s[p];\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\n      for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n          if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n              t[p[i]] = s[p[i]];\n      }\n  return t;\n}\n\nexport function __decorate(decorators, target, key, desc) {\n  var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\n  else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n}\n\nexport function __param(paramIndex, decorator) {\n  return function (target, key) { decorator(target, key, paramIndex); }\n}\n\nexport function __esDecorate(ctor, descriptorIn, decorators, contextIn, initializers, extraInitializers) {\n  function accept(f) { if (f !== void 0 && typeof f !== \"function\") throw new TypeError(\"Function expected\"); return f; }\n  var kind = contextIn.kind, key = kind === \"getter\" ? \"get\" : kind === \"setter\" ? \"set\" : \"value\";\n  var target = !descriptorIn && ctor ? contextIn[\"static\"] ? ctor : ctor.prototype : null;\n  var descriptor = descriptorIn || (target ? Object.getOwnPropertyDescriptor(target, contextIn.name) : {});\n  var _, done = false;\n  for (var i = decorators.length - 1; i >= 0; i--) {\n      var context = {};\n      for (var p in contextIn) context[p] = p === \"access\" ? {} : contextIn[p];\n      for (var p in contextIn.access) context.access[p] = contextIn.access[p];\n      context.addInitializer = function (f) { if (done) throw new TypeError(\"Cannot add initializers after decoration has completed\"); extraInitializers.push(accept(f || null)); };\n      var result = (0, decorators[i])(kind === \"accessor\" ? { get: descriptor.get, set: descriptor.set } : descriptor[key], context);\n      if (kind === \"accessor\") {\n          if (result === void 0) continue;\n          if (result === null || typeof result !== \"object\") throw new TypeError(\"Object expected\");\n          if (_ = accept(result.get)) descriptor.get = _;\n          if (_ = accept(result.set)) descriptor.set = _;\n          if (_ = accept(result.init)) initializers.unshift(_);\n      }\n      else if (_ = accept(result)) {\n          if (kind === \"field\") initializers.unshift(_);\n          else descriptor[key] = _;\n      }\n  }\n  if (target) Object.defineProperty(target, contextIn.name, descriptor);\n  done = true;\n};\n\nexport function __runInitializers(thisArg, initializers, value) {\n  var useValue = arguments.length > 2;\n  for (var i = 0; i < initializers.length; i++) {\n      value = useValue ? initializers[i].call(thisArg, value) : initializers[i].call(thisArg);\n  }\n  return useValue ? value : void 0;\n};\n\nexport function __propKey(x) {\n  return typeof x === \"symbol\" ? x : \"\".concat(x);\n};\n\nexport function __setFunctionName(f, name, prefix) {\n  if (typeof name === \"symbol\") name = name.description ? \"[\".concat(name.description, \"]\") : \"\";\n  return Object.defineProperty(f, \"name\", { configurable: true, value: prefix ? \"\".concat(prefix, \" \", name) : name });\n};\n\nexport function __metadata(metadataKey, metadataValue) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\n}\n\nexport function __awaiter(thisArg, _arguments, P, generator) {\n  function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n  return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n      function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n      function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n  });\n}\n\nexport function __generator(thisArg, body) {\n  var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n  return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n  function verb(n) { return function (v) { return step([n, v]); }; }\n  function step(op) {\n      if (f) throw new TypeError(\"Generator is already executing.\");\n      while (g && (g = 0, op[0] && (_ = 0)), _) try {\n          if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n          if (y = 0, t) op = [op[0] & 2, t.value];\n          switch (op[0]) {\n              case 0: case 1: t = op; break;\n              case 4: _.label++; return { value: op[1], done: false };\n              case 5: _.label++; y = op[1]; op = [0]; continue;\n              case 7: op = _.ops.pop(); _.trys.pop(); continue;\n              default:\n                  if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                  if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                  if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                  if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                  if (t[2]) _.ops.pop();\n                  _.trys.pop(); continue;\n          }\n          op = body.call(thisArg, _);\n      } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n      if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n  }\n}\n\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  var desc = Object.getOwnPropertyDescriptor(m, k);\n  if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n  }\n  Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\n\nexport function __exportStar(m, o) {\n  for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\n}\n\nexport function __values(o) {\n  var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n  if (m) return m.call(o);\n  if (o && typeof o.length === \"number\") return {\n      next: function () {\n          if (o && i >= o.length) o = void 0;\n          return { value: o && o[i++], done: !o };\n      }\n  };\n  throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n}\n\nexport function __read(o, n) {\n  var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n  if (!m) return o;\n  var i = m.call(o), r, ar = [], e;\n  try {\n      while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n  }\n  catch (error) { e = { error: error }; }\n  finally {\n      try {\n          if (r && !r.done && (m = i[\"return\"])) m.call(i);\n      }\n      finally { if (e) throw e.error; }\n  }\n  return ar;\n}\n\n/** @deprecated */\nexport function __spread() {\n  for (var ar = [], i = 0; i < arguments.length; i++)\n      ar = ar.concat(__read(arguments[i]));\n  return ar;\n}\n\n/** @deprecated */\nexport function __spreadArrays() {\n  for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n  for (var r = Array(s), k = 0, i = 0; i < il; i++)\n      for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n          r[k] = a[j];\n  return r;\n}\n\nexport function __spreadArray(to, from, pack) {\n  if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n      if (ar || !(i in from)) {\n          if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n          ar[i] = from[i];\n      }\n  }\n  return to.concat(ar || Array.prototype.slice.call(from));\n}\n\nexport function __await(v) {\n  return this instanceof __await ? (this.v = v, this) : new __await(v);\n}\n\nexport function __asyncGenerator(thisArg, _arguments, generator) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var g = generator.apply(thisArg, _arguments || []), i, q = [];\n  return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\n  function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\n  function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\n  function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\n  function fulfill(value) { resume(\"next\", value); }\n  function reject(value) { resume(\"throw\", value); }\n  function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\n}\n\nexport function __asyncDelegator(o) {\n  var i, p;\n  return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\n  function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: false } : f ? f(v) : v; } : f; }\n}\n\nexport function __asyncValues(o) {\n  if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\n  var m = o[Symbol.asyncIterator], i;\n  return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\n  function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\n  function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\n}\n\nexport function __makeTemplateObject(cooked, raw) {\n  if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\n  return cooked;\n};\n\nvar __setModuleDefault = Object.create ? (function(o, v) {\n  Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n  o[\"default\"] = v;\n};\n\nexport function __importStar(mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n}\n\nexport function __importDefault(mod) {\n  return (mod && mod.__esModule) ? mod : { default: mod };\n}\n\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\n  return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\n}\n\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\n  if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\n  if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\n  if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\n  return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\n}\n\nexport function __classPrivateFieldIn(state, receiver) {\n  if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\n  return typeof state === \"function\" ? receiver === state : state.has(receiver);\n}\n\nexport function __addDisposableResource(env, value, async) {\n  if (value !== null && value !== void 0) {\n    if (typeof value !== \"object\" && typeof value !== \"function\") throw new TypeError(\"Object expected.\");\n    var dispose;\n    if (async) {\n        if (!Symbol.asyncDispose) throw new TypeError(\"Symbol.asyncDispose is not defined.\");\n        dispose = value[Symbol.asyncDispose];\n    }\n    if (dispose === void 0) {\n        if (!Symbol.dispose) throw new TypeError(\"Symbol.dispose is not defined.\");\n        dispose = value[Symbol.dispose];\n    }\n    if (typeof dispose !== \"function\") throw new TypeError(\"Object not disposable.\");\n    env.stack.push({ value: value, dispose: dispose, async: async });\n  }\n  else if (async) {\n    env.stack.push({ async: true });\n  }\n  return value;\n}\n\nvar _SuppressedError = typeof SuppressedError === \"function\" ? SuppressedError : function (error, suppressed, message) {\n  var e = new Error(message);\n  return e.name = \"SuppressedError\", e.error = error, e.suppressed = suppressed, e;\n};\n\nexport function __disposeResources(env) {\n  function fail(e) {\n    env.error = env.hasError ? new _SuppressedError(e, env.error, \"An error was suppressed during disposal.\") : e;\n    env.hasError = true;\n  }\n  function next() {\n    while (env.stack.length) {\n      var rec = env.stack.pop();\n      try {\n        var result = rec.dispose && rec.dispose.call(rec.value);\n        if (rec.async) return Promise.resolve(result).then(next, function(e) { fail(e); return next(); });\n      }\n      catch (e) {\n          fail(e);\n      }\n    }\n    if (env.hasError) throw env.error;\n  }\n  return next();\n}\n\nexport default {\n  __extends,\n  __assign,\n  __rest,\n  __decorate,\n  __param,\n  __metadata,\n  __awaiter,\n  __generator,\n  __createBinding,\n  __exportStar,\n  __values,\n  __read,\n  __spread,\n  __spreadArrays,\n  __spreadArray,\n  __await,\n  __asyncGenerator,\n  __asyncDelegator,\n  __asyncValues,\n  __makeTemplateObject,\n  __importStar,\n  __importDefault,\n  __classPrivateFieldGet,\n  __classPrivateFieldSet,\n  __classPrivateFieldIn,\n  __addDisposableResource,\n  __disposeResources,\n};\n","/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,e=t.ShadowRoot&&(void 0===t.ShadyCSS||t.ShadyCSS.nativeShadow)&&\"adoptedStyleSheets\"in Document.prototype&&\"replace\"in CSSStyleSheet.prototype,s=Symbol(),o=new WeakMap;class n{constructor(t,e,o){if(this._$cssResult$=!0,o!==s)throw Error(\"CSSResult is not constructable. Use `unsafeCSS` or `css` instead.\");this.cssText=t,this.t=e}get styleSheet(){let t=this.o;const s=this.t;if(e&&void 0===t){const e=void 0!==s&&1===s.length;e&&(t=o.get(s)),void 0===t&&((this.o=t=new CSSStyleSheet).replaceSync(this.cssText),e&&o.set(s,t))}return t}toString(){return this.cssText}}const r=t=>new n(\"string\"==typeof t?t:t+\"\",void 0,s),i=(t,...e)=>{const o=1===t.length?t[0]:e.reduce(((e,s,o)=>e+(t=>{if(!0===t._$cssResult$)return t.cssText;if(\"number\"==typeof t)return t;throw Error(\"Value passed to 'css' function must be a 'css' function result: \"+t+\". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.\")})(s)+t[o+1]),t[0]);return new n(o,t,s)},S=(s,o)=>{if(e)s.adoptedStyleSheets=o.map((t=>t instanceof CSSStyleSheet?t:t.styleSheet));else for(const e of o){const o=document.createElement(\"style\"),n=t.litNonce;void 0!==n&&o.setAttribute(\"nonce\",n),o.textContent=e.cssText,s.appendChild(o)}},c=e?t=>t:t=>t instanceof CSSStyleSheet?(t=>{let e=\"\";for(const s of t.cssRules)e+=s.cssText;return r(e)})(t):t;export{n as CSSResult,S as adoptStyles,i as css,c as getCompatibleStyle,e as supportsAdoptingStyleSheets,r as unsafeCSS};\n//# sourceMappingURL=css-tag.js.map\n","import{getCompatibleStyle as t,adoptStyles as s}from\"./css-tag.js\";export{CSSResult,adoptStyles,css,getCompatibleStyle,supportsAdoptingStyleSheets,unsafeCSS}from\"./css-tag.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const{is:i,defineProperty:e,getOwnPropertyDescriptor:r,getOwnPropertyNames:h,getOwnPropertySymbols:o,getPrototypeOf:n}=Object,a=globalThis,c=a.trustedTypes,l=c?c.emptyScript:\"\",p=a.reactiveElementPolyfillSupport,d=(t,s)=>t,u={toAttribute(t,s){switch(s){case Boolean:t=t?l:null;break;case Object:case Array:t=null==t?t:JSON.stringify(t)}return t},fromAttribute(t,s){let i=t;switch(s){case Boolean:i=null!==t;break;case Number:i=null===t?null:Number(t);break;case Object:case Array:try{i=JSON.parse(t)}catch(t){i=null}}return i}},f=(t,s)=>!i(t,s),y={attribute:!0,type:String,converter:u,reflect:!1,hasChanged:f};Symbol.metadata??=Symbol(\"metadata\"),a.litPropertyMetadata??=new WeakMap;class b extends HTMLElement{static addInitializer(t){this._$Ei(),(this.l??=[]).push(t)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(t,s=y){if(s.state&&(s.attribute=!1),this._$Ei(),this.elementProperties.set(t,s),!s.noAccessor){const i=Symbol(),r=this.getPropertyDescriptor(t,i,s);void 0!==r&&e(this.prototype,t,r)}}static getPropertyDescriptor(t,s,i){const{get:e,set:h}=r(this.prototype,t)??{get(){return this[s]},set(t){this[s]=t}};return{get(){return e?.call(this)},set(s){const r=e?.call(this);h.call(this,s),this.requestUpdate(t,r,i)},configurable:!0,enumerable:!0}}static getPropertyOptions(t){return this.elementProperties.get(t)??y}static _$Ei(){if(this.hasOwnProperty(d(\"elementProperties\")))return;const t=n(this);t.finalize(),void 0!==t.l&&(this.l=[...t.l]),this.elementProperties=new Map(t.elementProperties)}static finalize(){if(this.hasOwnProperty(d(\"finalized\")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(d(\"properties\"))){const t=this.properties,s=[...h(t),...o(t)];for(const i of s)this.createProperty(i,t[i])}const t=this[Symbol.metadata];if(null!==t){const s=litPropertyMetadata.get(t);if(void 0!==s)for(const[t,i]of s)this.elementProperties.set(t,i)}this._$Eh=new Map;for(const[t,s]of this.elementProperties){const i=this._$Eu(t,s);void 0!==i&&this._$Eh.set(i,t)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(s){const i=[];if(Array.isArray(s)){const e=new Set(s.flat(1/0).reverse());for(const s of e)i.unshift(t(s))}else void 0!==s&&i.push(t(s));return i}static _$Eu(t,s){const i=s.attribute;return!1===i?void 0:\"string\"==typeof i?i:\"string\"==typeof t?t.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$Eg=new Promise((t=>this.enableUpdating=t)),this._$AL=new Map,this._$ES(),this.requestUpdate(),this.constructor.l?.forEach((t=>t(this)))}addController(t){(this._$E_??=new Set).add(t),void 0!==this.renderRoot&&this.isConnected&&t.hostConnected?.()}removeController(t){this._$E_?.delete(t)}_$ES(){const t=new Map,s=this.constructor.elementProperties;for(const i of s.keys())this.hasOwnProperty(i)&&(t.set(i,this[i]),delete this[i]);t.size>0&&(this._$Ep=t)}createRenderRoot(){const t=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return s(t,this.constructor.elementStyles),t}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$E_?.forEach((t=>t.hostConnected?.()))}enableUpdating(t){}disconnectedCallback(){this._$E_?.forEach((t=>t.hostDisconnected?.()))}attributeChangedCallback(t,s,i){this._$AK(t,i)}_$EO(t,s){const i=this.constructor.elementProperties.get(t),e=this.constructor._$Eu(t,i);if(void 0!==e&&!0===i.reflect){const r=(void 0!==i.converter?.toAttribute?i.converter:u).toAttribute(s,i.type);this._$Em=t,null==r?this.removeAttribute(e):this.setAttribute(e,r),this._$Em=null}}_$AK(t,s){const i=this.constructor,e=i._$Eh.get(t);if(void 0!==e&&this._$Em!==e){const t=i.getPropertyOptions(e),r=\"function\"==typeof t.converter?{fromAttribute:t.converter}:void 0!==t.converter?.fromAttribute?t.converter:u;this._$Em=e,this[e]=r.fromAttribute(s,t.type),this._$Em=null}}requestUpdate(t,s,i){if(void 0!==t){if(i??=this.constructor.getPropertyOptions(t),!(i.hasChanged??f)(this[t],s))return;this.C(t,s,i)}!1===this.isUpdatePending&&(this._$Eg=this._$EP())}C(t,s,i){this._$AL.has(t)||this._$AL.set(t,s),!0===i.reflect&&this._$Em!==t&&(this._$ET??=new Set).add(t)}async _$EP(){this.isUpdatePending=!0;try{await this._$Eg}catch(t){Promise.reject(t)}const t=this.scheduleUpdate();return null!=t&&await t,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[t,s]of this._$Ep)this[t]=s;this._$Ep=void 0}const t=this.constructor.elementProperties;if(t.size>0)for(const[s,i]of t)!0!==i.wrapped||this._$AL.has(s)||void 0===this[s]||this.C(s,this[s],i)}let t=!1;const s=this._$AL;try{t=this.shouldUpdate(s),t?(this.willUpdate(s),this._$E_?.forEach((t=>t.hostUpdate?.())),this.update(s)):this._$Ej()}catch(s){throw t=!1,this._$Ej(),s}t&&this._$AE(s)}willUpdate(t){}_$AE(t){this._$E_?.forEach((t=>t.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(t)),this.updated(t)}_$Ej(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$Eg}shouldUpdate(t){return!0}update(t){this._$ET&&=this._$ET.forEach((t=>this._$EO(t,this[t]))),this._$Ej()}updated(t){}firstUpdated(t){}}b.elementStyles=[],b.shadowRootOptions={mode:\"open\"},b[d(\"elementProperties\")]=new Map,b[d(\"finalized\")]=new Map,p?.({ReactiveElement:b}),(a.reactiveElementVersions??=[]).push(\"2.0.3\");export{b as ReactiveElement,u as defaultConverter,f as notEqual};\n//# sourceMappingURL=reactive-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=globalThis,i=t.trustedTypes,s=i?i.createPolicy(\"lit-html\",{createHTML:t=>t}):void 0,e=\"$lit$\",h=`lit$${(Math.random()+\"\").slice(9)}$`,o=\"?\"+h,n=`<${o}>`,r=document,l=()=>r.createComment(\"\"),c=t=>null===t||\"object\"!=typeof t&&\"function\"!=typeof t,a=Array.isArray,u=t=>a(t)||\"function\"==typeof t?.[Symbol.iterator],d=\"[ \\t\\n\\f\\r]\",f=/<(?:(!--|\\/[^a-zA-Z])|(\\/?[a-zA-Z][^>\\s]*)|(\\/?$))/g,v=/-->/g,_=/>/g,m=RegExp(`>|${d}(?:([^\\\\s\"'>=/]+)(${d}*=${d}*(?:[^ \\t\\n\\f\\r\"'\\`<>=]|(\"|')|))|$)`,\"g\"),p=/'/g,g=/\"/g,$=/^(?:script|style|textarea|title)$/i,y=t=>(i,...s)=>({_$litType$:t,strings:i,values:s}),x=y(1),b=y(2),w=Symbol.for(\"lit-noChange\"),T=Symbol.for(\"lit-nothing\"),A=new WeakMap,E=r.createTreeWalker(r,129);function C(t,i){if(!Array.isArray(t)||!t.hasOwnProperty(\"raw\"))throw Error(\"invalid template strings array\");return void 0!==s?s.createHTML(i):i}const P=(t,i)=>{const s=t.length-1,o=[];let r,l=2===i?\"<svg>\":\"\",c=f;for(let i=0;i<s;i++){const s=t[i];let a,u,d=-1,y=0;for(;y<s.length&&(c.lastIndex=y,u=c.exec(s),null!==u);)y=c.lastIndex,c===f?\"!--\"===u[1]?c=v:void 0!==u[1]?c=_:void 0!==u[2]?($.test(u[2])&&(r=RegExp(\"</\"+u[2],\"g\")),c=m):void 0!==u[3]&&(c=m):c===m?\">\"===u[0]?(c=r??f,d=-1):void 0===u[1]?d=-2:(d=c.lastIndex-u[2].length,a=u[1],c=void 0===u[3]?m:'\"'===u[3]?g:p):c===g||c===p?c=m:c===v||c===_?c=f:(c=m,r=void 0);const x=c===m&&t[i+1].startsWith(\"/>\")?\" \":\"\";l+=c===f?s+n:d>=0?(o.push(a),s.slice(0,d)+e+s.slice(d)+h+x):s+h+(-2===d?i:x)}return[C(t,l+(t[s]||\"<?>\")+(2===i?\"</svg>\":\"\")),o]};class V{constructor({strings:t,_$litType$:s},n){let r;this.parts=[];let c=0,a=0;const u=t.length-1,d=this.parts,[f,v]=P(t,s);if(this.el=V.createElement(f,n),E.currentNode=this.el.content,2===s){const t=this.el.content.firstChild;t.replaceWith(...t.childNodes)}for(;null!==(r=E.nextNode())&&d.length<u;){if(1===r.nodeType){if(r.hasAttributes())for(const t of r.getAttributeNames())if(t.endsWith(e)){const i=v[a++],s=r.getAttribute(t).split(h),e=/([.?@])?(.*)/.exec(i);d.push({type:1,index:c,name:e[2],strings:s,ctor:\".\"===e[1]?k:\"?\"===e[1]?H:\"@\"===e[1]?I:R}),r.removeAttribute(t)}else t.startsWith(h)&&(d.push({type:6,index:c}),r.removeAttribute(t));if($.test(r.tagName)){const t=r.textContent.split(h),s=t.length-1;if(s>0){r.textContent=i?i.emptyScript:\"\";for(let i=0;i<s;i++)r.append(t[i],l()),E.nextNode(),d.push({type:2,index:++c});r.append(t[s],l())}}}else if(8===r.nodeType)if(r.data===o)d.push({type:2,index:c});else{let t=-1;for(;-1!==(t=r.data.indexOf(h,t+1));)d.push({type:7,index:c}),t+=h.length-1}c++}}static createElement(t,i){const s=r.createElement(\"template\");return s.innerHTML=t,s}}function N(t,i,s=t,e){if(i===w)return i;let h=void 0!==e?s._$Co?.[e]:s._$Cl;const o=c(i)?void 0:i._$litDirective$;return h?.constructor!==o&&(h?._$AO?.(!1),void 0===o?h=void 0:(h=new o(t),h._$AT(t,s,e)),void 0!==e?(s._$Co??=[])[e]=h:s._$Cl=h),void 0!==h&&(i=N(t,h._$AS(t,i.values),h,e)),i}class S{constructor(t,i){this._$AV=[],this._$AN=void 0,this._$AD=t,this._$AM=i}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(t){const{el:{content:i},parts:s}=this._$AD,e=(t?.creationScope??r).importNode(i,!0);E.currentNode=e;let h=E.nextNode(),o=0,n=0,l=s[0];for(;void 0!==l;){if(o===l.index){let i;2===l.type?i=new M(h,h.nextSibling,this,t):1===l.type?i=new l.ctor(h,l.name,l.strings,this,t):6===l.type&&(i=new L(h,this,t)),this._$AV.push(i),l=s[++n]}o!==l?.index&&(h=E.nextNode(),o++)}return E.currentNode=r,e}p(t){let i=0;for(const s of this._$AV)void 0!==s&&(void 0!==s.strings?(s._$AI(t,s,i),i+=s.strings.length-2):s._$AI(t[i])),i++}}class M{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(t,i,s,e){this.type=2,this._$AH=T,this._$AN=void 0,this._$AA=t,this._$AB=i,this._$AM=s,this.options=e,this._$Cv=e?.isConnected??!0}get parentNode(){let t=this._$AA.parentNode;const i=this._$AM;return void 0!==i&&11===t?.nodeType&&(t=i.parentNode),t}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(t,i=this){t=N(this,t,i),c(t)?t===T||null==t||\"\"===t?(this._$AH!==T&&this._$AR(),this._$AH=T):t!==this._$AH&&t!==w&&this._(t):void 0!==t._$litType$?this.g(t):void 0!==t.nodeType?this.$(t):u(t)?this.T(t):this._(t)}k(t){return this._$AA.parentNode.insertBefore(t,this._$AB)}$(t){this._$AH!==t&&(this._$AR(),this._$AH=this.k(t))}_(t){this._$AH!==T&&c(this._$AH)?this._$AA.nextSibling.data=t:this.$(r.createTextNode(t)),this._$AH=t}g(t){const{values:i,_$litType$:s}=t,e=\"number\"==typeof s?this._$AC(t):(void 0===s.el&&(s.el=V.createElement(C(s.h,s.h[0]),this.options)),s);if(this._$AH?._$AD===e)this._$AH.p(i);else{const t=new S(e,this),s=t.u(this.options);t.p(i),this.$(s),this._$AH=t}}_$AC(t){let i=A.get(t.strings);return void 0===i&&A.set(t.strings,i=new V(t)),i}T(t){a(this._$AH)||(this._$AH=[],this._$AR());const i=this._$AH;let s,e=0;for(const h of t)e===i.length?i.push(s=new M(this.k(l()),this.k(l()),this,this.options)):s=i[e],s._$AI(h),e++;e<i.length&&(this._$AR(s&&s._$AB.nextSibling,e),i.length=e)}_$AR(t=this._$AA.nextSibling,i){for(this._$AP?.(!1,!0,i);t&&t!==this._$AB;){const i=t.nextSibling;t.remove(),t=i}}setConnected(t){void 0===this._$AM&&(this._$Cv=t,this._$AP?.(t))}}class R{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(t,i,s,e,h){this.type=1,this._$AH=T,this._$AN=void 0,this.element=t,this.name=i,this._$AM=e,this.options=h,s.length>2||\"\"!==s[0]||\"\"!==s[1]?(this._$AH=Array(s.length-1).fill(new String),this.strings=s):this._$AH=T}_$AI(t,i=this,s,e){const h=this.strings;let o=!1;if(void 0===h)t=N(this,t,i,0),o=!c(t)||t!==this._$AH&&t!==w,o&&(this._$AH=t);else{const e=t;let n,r;for(t=h[0],n=0;n<h.length-1;n++)r=N(this,e[s+n],i,n),r===w&&(r=this._$AH[n]),o||=!c(r)||r!==this._$AH[n],r===T?t=T:t!==T&&(t+=(r??\"\")+h[n+1]),this._$AH[n]=r}o&&!e&&this.O(t)}O(t){t===T?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,t??\"\")}}class k extends R{constructor(){super(...arguments),this.type=3}O(t){this.element[this.name]=t===T?void 0:t}}class H extends R{constructor(){super(...arguments),this.type=4}O(t){this.element.toggleAttribute(this.name,!!t&&t!==T)}}class I extends R{constructor(t,i,s,e,h){super(t,i,s,e,h),this.type=5}_$AI(t,i=this){if((t=N(this,t,i,0)??T)===w)return;const s=this._$AH,e=t===T&&s!==T||t.capture!==s.capture||t.once!==s.once||t.passive!==s.passive,h=t!==T&&(s===T||e);e&&this.element.removeEventListener(this.name,this,s),h&&this.element.addEventListener(this.name,this,t),this._$AH=t}handleEvent(t){\"function\"==typeof this._$AH?this._$AH.call(this.options?.host??this.element,t):this._$AH.handleEvent(t)}}class L{constructor(t,i,s){this.element=t,this.type=6,this._$AN=void 0,this._$AM=i,this.options=s}get _$AU(){return this._$AM._$AU}_$AI(t){N(this,t)}}const z={j:e,P:h,A:o,C:1,M:P,L:S,R:u,V:N,D:M,I:R,H,N:I,U:k,B:L},Z=t.litHtmlPolyfillSupport;Z?.(V,M),(t.litHtmlVersions??=[]).push(\"3.1.1\");const j=(t,i,s)=>{const e=s?.renderBefore??i;let h=e._$litPart$;if(void 0===h){const t=s?.renderBefore??null;e._$litPart$=h=new M(i.insertBefore(l(),t),t,void 0,s??{})}return h._$AI(t),h};export{z as _$LH,x as html,w as noChange,T as nothing,j as render,b as svg};\n//# sourceMappingURL=lit-html.js.map\n","import{ReactiveElement as t}from\"@lit/reactive-element\";export*from\"@lit/reactive-element\";import{render as e,noChange as i}from\"lit-html\";export*from\"lit-html\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */class s extends t{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const t=super.createRenderRoot();return this.renderOptions.renderBefore??=t.firstChild,t}update(t){const i=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(t),this._$Do=e(i,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return i}}s._$litElement$=!0,s[(\"finalized\",\"finalized\")]=!0,globalThis.litElementHydrateSupport?.({LitElement:s});const r=globalThis.litElementPolyfillSupport;r?.({LitElement:s});const o={_$AK:(t,e,i)=>{t._$AK(e,i)},_$AL:t=>t._$AL};(globalThis.litElementVersions??=[]).push(\"4.0.3\");export{s as LitElement,o as _$LE};\n//# sourceMappingURL=lit-element.js.map\n","/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */\nconst t=t=>(e,o)=>{void 0!==o?o.addInitializer((()=>{customElements.define(t,e)})):customElements.define(t,e)};export{t as customElement};\n//# sourceMappingURL=custom-element.js.map\n","import{defaultConverter as t,notEqual as e}from\"../reactive-element.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */const o={attribute:!0,type:String,converter:t,reflect:!1,hasChanged:e},r=(t=o,e,r)=>{const{kind:n,metadata:i}=r;let s=globalThis.litPropertyMetadata.get(i);if(void 0===s&&globalThis.litPropertyMetadata.set(i,s=new Map),s.set(r.name,t),\"accessor\"===n){const{name:o}=r;return{set(r){const n=e.get.call(this);e.set.call(this,r),this.requestUpdate(o,n,t)},init(e){return void 0!==e&&this.C(o,void 0,t),e}}}if(\"setter\"===n){const{name:o}=r;return function(r){const n=this[o];e.call(this,r),this.requestUpdate(o,n,t)}}throw Error(\"Unsupported decorator location: \"+n)};function n(t){return(e,o)=>\"object\"==typeof o?r(t,e,o):((t,e,o)=>{const r=e.hasOwnProperty(o);return e.constructor.createProperty(o,r?{...t,wrapped:!0}:t),r?Object.getOwnPropertyDescriptor(e,o):void 0})(t,e,o)}export{n as property,r as standardProperty};\n//# sourceMappingURL=property.js.map\n","import{property as t}from\"./property.js\";\n/**\n * @license\n * Copyright 2017 Google LLC\n * SPDX-License-Identifier: BSD-3-Clause\n */function r(r){return t({...r,state:!0,attribute:!1})}export{r as state};\n//# sourceMappingURL=state.js.map\n","var resizeObservers = [];\nexport { resizeObservers };\n","var ResizeObserverBoxOptions;\n(function (ResizeObserverBoxOptions) {\n    ResizeObserverBoxOptions[\"BORDER_BOX\"] = \"border-box\";\n    ResizeObserverBoxOptions[\"CONTENT_BOX\"] = \"content-box\";\n    ResizeObserverBoxOptions[\"DEVICE_PIXEL_CONTENT_BOX\"] = \"device-pixel-content-box\";\n})(ResizeObserverBoxOptions || (ResizeObserverBoxOptions = {}));\nexport { ResizeObserverBoxOptions };\n","var msg = 'ResizeObserver loop completed with undelivered notifications.';\nvar deliverResizeLoopError = function () {\n    var event;\n    if (typeof ErrorEvent === 'function') {\n        event = new ErrorEvent('error', {\n            message: msg\n        });\n    }\n    else {\n        event = document.createEvent('Event');\n        event.initEvent('error', false, false);\n        event.message = msg;\n    }\n    window.dispatchEvent(event);\n};\nexport { deliverResizeLoopError };\n","export var freeze = function (obj) { return Object.freeze(obj); };\n","var trigger;\nvar callbacks = [];\nvar notify = function () { return callbacks.splice(0).forEach(function (cb) { return cb(); }); };\nvar queueMicroTask = function (callback) {\n    if (!trigger) {\n        var toggle_1 = 0;\n        var el_1 = document.createTextNode('');\n        var config = { characterData: true };\n        new MutationObserver(function () { return notify(); }).observe(el_1, config);\n        trigger = function () { el_1.textContent = \"\".concat(toggle_1 ? toggle_1-- : toggle_1++); };\n    }\n    callbacks.push(callback);\n    trigger();\n};\nexport { queueMicroTask };\n","import { freeze } from './utils/freeze';\nvar ResizeObserverSize = (function () {\n    function ResizeObserverSize(inlineSize, blockSize) {\n        this.inlineSize = inlineSize;\n        this.blockSize = blockSize;\n        freeze(this);\n    }\n    return ResizeObserverSize;\n}());\nexport { ResizeObserverSize };\n","import { freeze } from './utils/freeze';\nvar DOMRectReadOnly = (function () {\n    function DOMRectReadOnly(x, y, width, height) {\n        this.x = x;\n        this.y = y;\n        this.width = width;\n        this.height = height;\n        this.top = this.y;\n        this.left = this.x;\n        this.bottom = this.top + this.height;\n        this.right = this.left + this.width;\n        return freeze(this);\n    }\n    DOMRectReadOnly.prototype.toJSON = function () {\n        var _a = this, x = _a.x, y = _a.y, top = _a.top, right = _a.right, bottom = _a.bottom, left = _a.left, width = _a.width, height = _a.height;\n        return { x: x, y: y, top: top, right: right, bottom: bottom, left: left, width: width, height: height };\n    };\n    DOMRectReadOnly.fromRect = function (rectangle) {\n        return new DOMRectReadOnly(rectangle.x, rectangle.y, rectangle.width, rectangle.height);\n    };\n    return DOMRectReadOnly;\n}());\nexport { DOMRectReadOnly };\n","var isSVG = function (target) { return target instanceof SVGElement && 'getBBox' in target; };\nvar isHidden = function (target) {\n    if (isSVG(target)) {\n        var _a = target.getBBox(), width = _a.width, height = _a.height;\n        return !width && !height;\n    }\n    var _b = target, offsetWidth = _b.offsetWidth, offsetHeight = _b.offsetHeight;\n    return !(offsetWidth || offsetHeight || target.getClientRects().length);\n};\nvar isElement = function (obj) {\n    var _a;\n    if (obj instanceof Element) {\n        return true;\n    }\n    var scope = (_a = obj === null || obj === void 0 ? void 0 : obj.ownerDocument) === null || _a === void 0 ? void 0 : _a.defaultView;\n    return !!(scope && obj instanceof scope.Element);\n};\nvar isReplacedElement = function (target) {\n    switch (target.tagName) {\n        case 'INPUT':\n            if (target.type !== 'image') {\n                break;\n            }\n        case 'VIDEO':\n        case 'AUDIO':\n        case 'EMBED':\n        case 'OBJECT':\n        case 'CANVAS':\n        case 'IFRAME':\n        case 'IMG':\n            return true;\n    }\n    return false;\n};\nexport { isSVG, isHidden, isElement, isReplacedElement };\n","export var global = typeof window !== 'undefined' ? window : {};\n","import { ResizeObserverBoxOptions } from '../ResizeObserverBoxOptions';\nimport { ResizeObserverSize } from '../ResizeObserverSize';\nimport { DOMRectReadOnly } from '../DOMRectReadOnly';\nimport { isSVG, isHidden } from '../utils/element';\nimport { freeze } from '../utils/freeze';\nimport { global } from '../utils/global';\nvar cache = new WeakMap();\nvar scrollRegexp = /auto|scroll/;\nvar verticalRegexp = /^tb|vertical/;\nvar IE = (/msie|trident/i).test(global.navigator && global.navigator.userAgent);\nvar parseDimension = function (pixel) { return parseFloat(pixel || '0'); };\nvar size = function (inlineSize, blockSize, switchSizes) {\n    if (inlineSize === void 0) { inlineSize = 0; }\n    if (blockSize === void 0) { blockSize = 0; }\n    if (switchSizes === void 0) { switchSizes = false; }\n    return new ResizeObserverSize((switchSizes ? blockSize : inlineSize) || 0, (switchSizes ? inlineSize : blockSize) || 0);\n};\nvar zeroBoxes = freeze({\n    devicePixelContentBoxSize: size(),\n    borderBoxSize: size(),\n    contentBoxSize: size(),\n    contentRect: new DOMRectReadOnly(0, 0, 0, 0)\n});\nvar calculateBoxSizes = function (target, forceRecalculation) {\n    if (forceRecalculation === void 0) { forceRecalculation = false; }\n    if (cache.has(target) && !forceRecalculation) {\n        return cache.get(target);\n    }\n    if (isHidden(target)) {\n        cache.set(target, zeroBoxes);\n        return zeroBoxes;\n    }\n    var cs = getComputedStyle(target);\n    var svg = isSVG(target) && target.ownerSVGElement && target.getBBox();\n    var removePadding = !IE && cs.boxSizing === 'border-box';\n    var switchSizes = verticalRegexp.test(cs.writingMode || '');\n    var canScrollVertically = !svg && scrollRegexp.test(cs.overflowY || '');\n    var canScrollHorizontally = !svg && scrollRegexp.test(cs.overflowX || '');\n    var paddingTop = svg ? 0 : parseDimension(cs.paddingTop);\n    var paddingRight = svg ? 0 : parseDimension(cs.paddingRight);\n    var paddingBottom = svg ? 0 : parseDimension(cs.paddingBottom);\n    var paddingLeft = svg ? 0 : parseDimension(cs.paddingLeft);\n    var borderTop = svg ? 0 : parseDimension(cs.borderTopWidth);\n    var borderRight = svg ? 0 : parseDimension(cs.borderRightWidth);\n    var borderBottom = svg ? 0 : parseDimension(cs.borderBottomWidth);\n    var borderLeft = svg ? 0 : parseDimension(cs.borderLeftWidth);\n    var horizontalPadding = paddingLeft + paddingRight;\n    var verticalPadding = paddingTop + paddingBottom;\n    var horizontalBorderArea = borderLeft + borderRight;\n    var verticalBorderArea = borderTop + borderBottom;\n    var horizontalScrollbarThickness = !canScrollHorizontally ? 0 : target.offsetHeight - verticalBorderArea - target.clientHeight;\n    var verticalScrollbarThickness = !canScrollVertically ? 0 : target.offsetWidth - horizontalBorderArea - target.clientWidth;\n    var widthReduction = removePadding ? horizontalPadding + horizontalBorderArea : 0;\n    var heightReduction = removePadding ? verticalPadding + verticalBorderArea : 0;\n    var contentWidth = svg ? svg.width : parseDimension(cs.width) - widthReduction - verticalScrollbarThickness;\n    var contentHeight = svg ? svg.height : parseDimension(cs.height) - heightReduction - horizontalScrollbarThickness;\n    var borderBoxWidth = contentWidth + horizontalPadding + verticalScrollbarThickness + horizontalBorderArea;\n    var borderBoxHeight = contentHeight + verticalPadding + horizontalScrollbarThickness + verticalBorderArea;\n    var boxes = freeze({\n        devicePixelContentBoxSize: size(Math.round(contentWidth * devicePixelRatio), Math.round(contentHeight * devicePixelRatio), switchSizes),\n        borderBoxSize: size(borderBoxWidth, borderBoxHeight, switchSizes),\n        contentBoxSize: size(contentWidth, contentHeight, switchSizes),\n        contentRect: new DOMRectReadOnly(paddingLeft, paddingTop, contentWidth, contentHeight)\n    });\n    cache.set(target, boxes);\n    return boxes;\n};\nvar calculateBoxSize = function (target, observedBox, forceRecalculation) {\n    var _a = calculateBoxSizes(target, forceRecalculation), borderBoxSize = _a.borderBoxSize, contentBoxSize = _a.contentBoxSize, devicePixelContentBoxSize = _a.devicePixelContentBoxSize;\n    switch (observedBox) {\n        case ResizeObserverBoxOptions.DEVICE_PIXEL_CONTENT_BOX:\n            return devicePixelContentBoxSize;\n        case ResizeObserverBoxOptions.BORDER_BOX:\n            return borderBoxSize;\n        default:\n            return contentBoxSize;\n    }\n};\nexport { calculateBoxSize, calculateBoxSizes };\n","import { calculateBoxSizes } from './algorithms/calculateBoxSize';\nimport { freeze } from './utils/freeze';\nvar ResizeObserverEntry = (function () {\n    function ResizeObserverEntry(target) {\n        var boxes = calculateBoxSizes(target);\n        this.target = target;\n        this.contentRect = boxes.contentRect;\n        this.borderBoxSize = freeze([boxes.borderBoxSize]);\n        this.contentBoxSize = freeze([boxes.contentBoxSize]);\n        this.devicePixelContentBoxSize = freeze([boxes.devicePixelContentBoxSize]);\n    }\n    return ResizeObserverEntry;\n}());\nexport { ResizeObserverEntry };\n","import { isHidden } from '../utils/element';\nvar calculateDepthForNode = function (node) {\n    if (isHidden(node)) {\n        return Infinity;\n    }\n    var depth = 0;\n    var parent = node.parentNode;\n    while (parent) {\n        depth += 1;\n        parent = parent.parentNode;\n    }\n    return depth;\n};\nexport { calculateDepthForNode };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { ResizeObserverEntry } from '../ResizeObserverEntry';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nimport { calculateBoxSize } from './calculateBoxSize';\nvar broadcastActiveObservations = function () {\n    var shallowestDepth = Infinity;\n    var callbacks = [];\n    resizeObservers.forEach(function processObserver(ro) {\n        if (ro.activeTargets.length === 0) {\n            return;\n        }\n        var entries = [];\n        ro.activeTargets.forEach(function processTarget(ot) {\n            var entry = new ResizeObserverEntry(ot.target);\n            var targetDepth = calculateDepthForNode(ot.target);\n            entries.push(entry);\n            ot.lastReportedSize = calculateBoxSize(ot.target, ot.observedBox);\n            if (targetDepth < shallowestDepth) {\n                shallowestDepth = targetDepth;\n            }\n        });\n        callbacks.push(function resizeObserverCallback() {\n            ro.callback.call(ro.observer, entries, ro.observer);\n        });\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n    });\n    for (var _i = 0, callbacks_1 = callbacks; _i < callbacks_1.length; _i++) {\n        var callback = callbacks_1[_i];\n        callback();\n    }\n    return shallowestDepth;\n};\nexport { broadcastActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nimport { calculateDepthForNode } from './calculateDepthForNode';\nvar gatherActiveObservationsAtDepth = function (depth) {\n    resizeObservers.forEach(function processObserver(ro) {\n        ro.activeTargets.splice(0, ro.activeTargets.length);\n        ro.skippedTargets.splice(0, ro.skippedTargets.length);\n        ro.observationTargets.forEach(function processTarget(ot) {\n            if (ot.isActive()) {\n                if (calculateDepthForNode(ot.target) > depth) {\n                    ro.activeTargets.push(ot);\n                }\n                else {\n                    ro.skippedTargets.push(ot);\n                }\n            }\n        });\n    });\n};\nexport { gatherActiveObservationsAtDepth };\n","import { hasActiveObservations } from '../algorithms/hasActiveObservations';\nimport { hasSkippedObservations } from '../algorithms/hasSkippedObservations';\nimport { deliverResizeLoopError } from '../algorithms/deliverResizeLoopError';\nimport { broadcastActiveObservations } from '../algorithms/broadcastActiveObservations';\nimport { gatherActiveObservationsAtDepth } from '../algorithms/gatherActiveObservationsAtDepth';\nvar process = function () {\n    var depth = 0;\n    gatherActiveObservationsAtDepth(depth);\n    while (hasActiveObservations()) {\n        depth = broadcastActiveObservations();\n        gatherActiveObservationsAtDepth(depth);\n    }\n    if (hasSkippedObservations()) {\n        deliverResizeLoopError();\n    }\n    return depth > 0;\n};\nexport { process };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasActiveObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.activeTargets.length > 0; });\n};\nexport { hasActiveObservations };\n","import { resizeObservers } from '../utils/resizeObservers';\nvar hasSkippedObservations = function () {\n    return resizeObservers.some(function (ro) { return ro.skippedTargets.length > 0; });\n};\nexport { hasSkippedObservations };\n","import { process } from './process';\nimport { global } from './global';\nimport { queueResizeObserver } from './queueResizeObserver';\nvar watching = 0;\nvar isWatching = function () { return !!watching; };\nvar CATCH_PERIOD = 250;\nvar observerConfig = { attributes: true, characterData: true, childList: true, subtree: true };\nvar events = [\n    'resize',\n    'load',\n    'transitionend',\n    'animationend',\n    'animationstart',\n    'animationiteration',\n    'keyup',\n    'keydown',\n    'mouseup',\n    'mousedown',\n    'mouseover',\n    'mouseout',\n    'blur',\n    'focus'\n];\nvar time = function (timeout) {\n    if (timeout === void 0) { timeout = 0; }\n    return Date.now() + timeout;\n};\nvar scheduled = false;\nvar Scheduler = (function () {\n    function Scheduler() {\n        var _this = this;\n        this.stopped = true;\n        this.listener = function () { return _this.schedule(); };\n    }\n    Scheduler.prototype.run = function (timeout) {\n        var _this = this;\n        if (timeout === void 0) { timeout = CATCH_PERIOD; }\n        if (scheduled) {\n            return;\n        }\n        scheduled = true;\n        var until = time(timeout);\n        queueResizeObserver(function () {\n            var elementsHaveResized = false;\n            try {\n                elementsHaveResized = process();\n            }\n            finally {\n                scheduled = false;\n                timeout = until - time();\n                if (!isWatching()) {\n                    return;\n                }\n                if (elementsHaveResized) {\n                    _this.run(1000);\n                }\n                else if (timeout > 0) {\n                    _this.run(timeout);\n                }\n                else {\n                    _this.start();\n                }\n            }\n        });\n    };\n    Scheduler.prototype.schedule = function () {\n        this.stop();\n        this.run();\n    };\n    Scheduler.prototype.observe = function () {\n        var _this = this;\n        var cb = function () { return _this.observer && _this.observer.observe(document.body, observerConfig); };\n        document.body ? cb() : global.addEventListener('DOMContentLoaded', cb);\n    };\n    Scheduler.prototype.start = function () {\n        var _this = this;\n        if (this.stopped) {\n            this.stopped = false;\n            this.observer = new MutationObserver(this.listener);\n            this.observe();\n            events.forEach(function (name) { return global.addEventListener(name, _this.listener, true); });\n        }\n    };\n    Scheduler.prototype.stop = function () {\n        var _this = this;\n        if (!this.stopped) {\n            this.observer && this.observer.disconnect();\n            events.forEach(function (name) { return global.removeEventListener(name, _this.listener, true); });\n            this.stopped = true;\n        }\n    };\n    return Scheduler;\n}());\nvar scheduler = new Scheduler();\nvar updateCount = function (n) {\n    !watching && n > 0 && scheduler.start();\n    watching += n;\n    !watching && scheduler.stop();\n};\nexport { scheduler, updateCount };\n","import { queueMicroTask } from './queueMicroTask';\nvar queueResizeObserver = function (cb) {\n    queueMicroTask(function ResizeObserver() {\n        requestAnimationFrame(cb);\n    });\n};\nexport { queueResizeObserver };\n","import { ResizeObserverBoxOptions } from './ResizeObserverBoxOptions';\nimport { calculateBoxSize } from './algorithms/calculateBoxSize';\nimport { isSVG, isReplacedElement } from './utils/element';\nvar skipNotifyOnElement = function (target) {\n    return !isSVG(target)\n        && !isReplacedElement(target)\n        && getComputedStyle(target).display === 'inline';\n};\nvar ResizeObservation = (function () {\n    function ResizeObservation(target, observedBox) {\n        this.target = target;\n        this.observedBox = observedBox || ResizeObserverBoxOptions.CONTENT_BOX;\n        this.lastReportedSize = {\n            inlineSize: 0,\n            blockSize: 0\n        };\n    }\n    ResizeObservation.prototype.isActive = function () {\n        var size = calculateBoxSize(this.target, this.observedBox, true);\n        if (skipNotifyOnElement(this.target)) {\n            this.lastReportedSize = size;\n        }\n        if (this.lastReportedSize.inlineSize !== size.inlineSize\n            || this.lastReportedSize.blockSize !== size.blockSize) {\n            return true;\n        }\n        return false;\n    };\n    return ResizeObservation;\n}());\nexport { ResizeObservation };\n","var ResizeObserverDetail = (function () {\n    function ResizeObserverDetail(resizeObserver, callback) {\n        this.activeTargets = [];\n        this.skippedTargets = [];\n        this.observationTargets = [];\n        this.observer = resizeObserver;\n        this.callback = callback;\n    }\n    return ResizeObserverDetail;\n}());\nexport { ResizeObserverDetail };\n","import { scheduler, updateCount } from './utils/scheduler';\nimport { ResizeObservation } from './ResizeObservation';\nimport { ResizeObserverDetail } from './ResizeObserverDetail';\nimport { resizeObservers } from './utils/resizeObservers';\nvar observerMap = new WeakMap();\nvar getObservationIndex = function (observationTargets, target) {\n    for (var i = 0; i < observationTargets.length; i += 1) {\n        if (observationTargets[i].target === target) {\n            return i;\n        }\n    }\n    return -1;\n};\nvar ResizeObserverController = (function () {\n    function ResizeObserverController() {\n    }\n    ResizeObserverController.connect = function (resizeObserver, callback) {\n        var detail = new ResizeObserverDetail(resizeObserver, callback);\n        observerMap.set(resizeObserver, detail);\n    };\n    ResizeObserverController.observe = function (resizeObserver, target, options) {\n        var detail = observerMap.get(resizeObserver);\n        var firstObservation = detail.observationTargets.length === 0;\n        if (getObservationIndex(detail.observationTargets, target) < 0) {\n            firstObservation && resizeObservers.push(detail);\n            detail.observationTargets.push(new ResizeObservation(target, options && options.box));\n            updateCount(1);\n            scheduler.schedule();\n        }\n    };\n    ResizeObserverController.unobserve = function (resizeObserver, target) {\n        var detail = observerMap.get(resizeObserver);\n        var index = getObservationIndex(detail.observationTargets, target);\n        var lastObservation = detail.observationTargets.length === 1;\n        if (index >= 0) {\n            lastObservation && resizeObservers.splice(resizeObservers.indexOf(detail), 1);\n            detail.observationTargets.splice(index, 1);\n            updateCount(-1);\n        }\n    };\n    ResizeObserverController.disconnect = function (resizeObserver) {\n        var _this = this;\n        var detail = observerMap.get(resizeObserver);\n        detail.observationTargets.slice().forEach(function (ot) { return _this.unobserve(resizeObserver, ot.target); });\n        detail.activeTargets.splice(0, detail.activeTargets.length);\n    };\n    return ResizeObserverController;\n}());\nexport { ResizeObserverController };\n","import { ResizeObserverController } from './ResizeObserverController';\nimport { isElement } from './utils/element';\nvar ResizeObserver = (function () {\n    function ResizeObserver(callback) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (typeof callback !== 'function') {\n            throw new TypeError(\"Failed to construct 'ResizeObserver': The callback provided as parameter 1 is not a function.\");\n        }\n        ResizeObserverController.connect(this, callback);\n    }\n    ResizeObserver.prototype.observe = function (target, options) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'observe' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.observe(this, target, options);\n    };\n    ResizeObserver.prototype.unobserve = function (target) {\n        if (arguments.length === 0) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': 1 argument required, but only 0 present.\");\n        }\n        if (!isElement(target)) {\n            throw new TypeError(\"Failed to execute 'unobserve' on 'ResizeObserver': parameter 1 is not of type 'Element\");\n        }\n        ResizeObserverController.unobserve(this, target);\n    };\n    ResizeObserver.prototype.disconnect = function () {\n        ResizeObserverController.disconnect(this);\n    };\n    ResizeObserver.toString = function () {\n        return 'function ResizeObserver () { [polyfill code] }';\n    };\n    return ResizeObserver;\n}());\nexport { ResizeObserver };\n","export default function isEmptyObjectOrUndefined(object: Object | undefined) {\n  if (!object) {\n    return true;\n  }\n  return Object.keys(object).length === 0;\n}\n","/** It doesn't make any sense to use lit's translation solution for currently 10 strings\n *  which also creates the necessity of async loading an external translation file.\n *  We just import the strings directly as a JS object.\n */\n\ninterface Locale {\n  [key: string]: string;\n}\n\nexport default class Translations {\n  private _lang: string;\n  private _locales: {[key: string]: Locale};\n\n  constructor() {\n    this._lang = document.documentElement.lang.slice(0, 2);\n    this._locales = {\n      de: {\n        /** Weekdays */\n        Mon: 'Mo',\n        Tues: 'Di',\n        Wed: 'Mi',\n        Thurs: 'Do',\n        Fri: 'Fr',\n        Sat: 'Sa',\n        Sun: 'So',\n        /** Months */\n        1: 'Jan',\n        2: 'Feb',\n        3: 'Mr',\n        4: 'Apr',\n        5: 'Mai',\n        6: 'Jun',\n        7: 'Jul',\n        8: 'Aug',\n        9: 'Sep',\n        10: 'Okt',\n        11: 'Nov',\n        12: 'Dez',\n        /** Misc */\n        Day: 'Tag',\n        Month: 'Monat',\n        'Current Month': 'Aktueller Monat',\n      },\n    };\n  }\n\n  get lang() {\n    return this._lang;\n  }\n\n  set lang(lang: string) {\n    this._lang = lang;\n  }\n\n  getTranslation(key: string | number | undefined) {\n    if (!key) {\n      return key;\n    }\n    const locale = this._locales[this.lang];\n    if (locale) {\n      return locale[key] || key;\n    }\n    return key;\n  }\n}\n","import {LitElement, css, html} from 'lit';\nimport {customElement, property} from 'lit/decorators.js';\nimport isEmptyObjectOrUndefined from '../utils/isEmptyObjectOrUndefined.js';\nimport Translations from '../locales/Translations';\n\n@customElement('lms-calendar-header')\nexport default class Header extends LitElement {\n  private translations = new Translations();\n\n  @property({type: String})\n  heading?: string;\n\n  @property({type: Object})\n  activeDate?: CalendarDate;\n\n  @property({type: Object})\n  expandedDate?: CalendarDate;\n\n  static override styles = css`\n    .controls {\n      height: 3.5em;\n      width: 100%;\n      /* padding: 0.75em 0; */\n      display: flex;\n      flex-direction: row;\n      flex-wrap: nowrap;\n      align-content: center;\n      justify-content: space-between;\n      align-items: center;\n      border-bottom: 1px solid var(--separator-light);\n    }\n\n    @media (max-width: 375px) {\n      .controls {\n        font-size: small;\n        height: 4.5em;\n      }\n    }\n    .info {\n      padding-left: 1em;\n      text-align: right;\n    }\n    .day,\n    .month,\n    .year {\n      color: rgba(0, 0, 0, 0.6);\n    }\n    .context {\n      display: flex;\n    }\n    .context > * {\n      padding: 0.25em 0.5em;\n      border: 1px solid var(--separator-light);\n    }\n    .context > *:first-child {\n      border-radius: var(--border-radius-sm) 0 0 var(--border-radius-sm);\n      border-right: none;\n    }\n    .context > *:last-child {\n      border-radius: 0 var(--border-radius-sm) var(--border-radius-sm) 0;\n      border-left: none;\n    }\n\n    .buttons {\n      padding-right: 1em;\n    }\n    button {\n      padding: 0.75em;\n      margin: 0;\n      border-radius: 50%;\n      line-height: 0.5em;\n      border: 1px solid transparent;\n    }\n    span[data-active] {\n      background-color: var(--separator-light);\n    }\n  `;\n\n  override render() {\n    return html`<div class=\"controls\">\n      <div class=\"info\">\n        <span>\n          <strong\n            >${this.heading ||\n            this.translations.getTranslation('Current Month')}</strong\n          >\n        </span>\n        <div ?hidden=${isEmptyObjectOrUndefined(this.expandedDate)}>\n          <span class=\"day\">${this.expandedDate?.day}</span>\n          <span class=\"month\"\n            >${this.translations.getTranslation(this.expandedDate?.month)}</span\n          >\n          <span class=\"year\">${this.expandedDate?.year}</span>\n        </div>\n        <div ?hidden=${!isEmptyObjectOrUndefined(this.expandedDate)}>\n          <span class=\"month\"\n            >${this.translations.getTranslation(this.activeDate?.month)}</span\n          >\n          <span class=\"year\">${this.activeDate?.year}</span>\n        </div>\n      </div>\n      <div class=\"context\" @click=${this._dispatchSwitchView}>\n        <span\n          ?data-active=${!isEmptyObjectOrUndefined(this.expandedDate)}\n          data-context=\"day\"\n          >${this.translations.getTranslation('Day')}</span\n        >\n        <span\n          ?data-active=${isEmptyObjectOrUndefined(this.expandedDate)}\n          data-context=\"month\"\n          >${this.translations.getTranslation('Month')}</span\n        >\n      </div>\n      <div class=\"buttons\" @click=${this._dispatchSwitchDate}>\n        <button name=\"previous\"></button>\n        <button name=\"next\"></button>\n      </div>\n    </div>`;\n  }\n\n  _dispatchSwitchDate(e: Event) {\n    const target = e.target as HTMLButtonElement;\n    const direction = e.target === e.currentTarget ? 'container' : target.name;\n    const event = new CustomEvent('switchdate', {\n      detail: {direction},\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(event);\n  }\n\n  _dispatchSwitchView(e: Event) {\n    const target = e.target as HTMLElement;\n    const view =\n      e.target === e.currentTarget ? 'container' : target.dataset.context;\n    const event = new CustomEvent('switchview', {\n      detail: {view},\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(event);\n  }\n}\n","export default class DateTransformer {\n  date: CalendarDate | undefined;\n  direction: string | undefined;\n  constructor({\n    date,\n    direction = undefined,\n  }: {\n    date?: CalendarDate;\n    direction?: string;\n  }) {\n    this.date = date;\n    this.direction = direction;\n  }\n\n  set _date(date: CalendarDate) {\n    this.date = date;\n  }\n\n  set _direction(direction: string) {\n    this.direction = direction;\n  }\n\n  getDateByDayInDirection() {\n    if (!this.date) {\n      throw Error('Date is not defined.');\n    }\n    if (!this.direction) {\n      throw Error('Direction is not defined.');\n    }\n\n    if (this.direction === 'previous') {\n      const newDate = new Date(\n        this.date.year,\n        this.date.month - 1,\n        this.date.day - 1\n      );\n      return {\n        day: newDate.getDate(),\n        month: newDate.getMonth() + 1,\n        year: newDate.getFullYear(),\n      };\n    }\n\n    if (this.direction === 'next') {\n      const newDate = new Date(\n        this.date.year,\n        this.date.month - 1,\n        this.date.day + 1\n      );\n      return {\n        day: newDate.getDate(),\n        month: newDate.getMonth() + 1,\n        year: newDate.getFullYear(),\n      };\n    }\n\n    return this.date;\n  }\n\n  getDateByMonthInDirection() {\n    if (!this.date) {\n      throw Error('Date is not defined.');\n    }\n    if (!this.direction) {\n      throw Error('Direction is not defined.');\n    }\n\n    if (this.direction === 'previous') {\n      return this.date.month - 1 === 0\n        ? {...this.date, year: this.date.year - 1, month: 12}\n        : {...this.date, month: this.date.month - 1};\n    }\n\n    if (this.direction === 'next') {\n      return this.date.month + 1 === 13\n        ? {...this.date, year: this.date.year + 1, month: 1}\n        : {...this.date, month: this.date.month + 1};\n    }\n\n    return this.date;\n  }\n}\n","import {LitElement, css, html} from 'lit';\nimport {customElement, property} from 'lit/decorators.js';\nimport DateTransformer from '../lib/DateTransformer';\nimport Translations from '../locales/Translations';\n\n@customElement('lms-calendar-month')\nexport default class Month extends LitElement {\n  private translations = new Translations();\n  @property({attribute: false})\n  activeDate?: CalendarDate;\n\n  static override styles = css`\n    .month {\n      /* Header: 3.5em, Context: 2em, Border: 2px */\n      height: calc(100% - 5.5em + 2px);\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n      border-top: 1px solid var(--separator-light);\n    }\n\n    .month > div {\n      border-bottom: 1px solid var(--separator-light);\n      border-right: 1px solid var(--separator-light);\n    }\n\n    .month > div:nth-child(7n + 7) {\n      border-right: none;\n    }\n\n    .month > div:nth-last-child(-n + 7) {\n      border-bottom: none;\n    }\n\n    .day {\n      width: 100%;\n      position: relative;\n      display: flex;\n      flex-direction: column;\n      overflow-x: hidden;\n      gap: 1px;\n    }\n\n    .indicator {\n      position: sticky;\n      top: 0.25em;\n      text-align: right;\n      padding: 0 0.25em;\n      margin-bottom: 0.25em;\n      text-align: left;\n    }\n  `;\n\n  override render() {\n    return Object.keys(this.activeDate || {day: 1, month: 1, year: 2022})\n      .length !== 0\n      ? html`\n          <div class=\"month\">\n            ${this._getCalendarArray()?.map(\n              ({year, month, day}) =>\n                html`<div\n                  class=\"day\"\n                  data-date=\"${year}-${month}-${day}\"\n                  @click=${this._handleExpand}\n                >\n                  <div class=\"indicator\">\n                    ${day === 1\n                      ? `${day}. ${this.translations.getTranslation(month)}`\n                      : day}\n                  </div>\n                  <slot name=\"${year}-${month}-${day}\"></slot>\n                </div>`\n            )}\n          </div>\n        `\n      : html``;\n  }\n\n  _handleExpand(e: Event) {\n    if (e.target === null) {\n      return;\n    }\n\n    const target = e.target as HTMLElement;\n    const {date} = target.dataset;\n\n    if (!date) {\n      return;\n    }\n\n    const [year, month, day] = date\n      .split('-')\n      .map((field: string) => parseInt(field, 10));\n    const event = new CustomEvent('expand', {\n      detail: {date: {day, month, year}},\n      bubbles: true,\n      composed: true,\n    });\n    this.dispatchEvent(event);\n  }\n\n  _getDaysInMonth(date: CalendarDate) {\n    /** Important note: Passing 0 as the date shifts the\n     *  months indices by positive 1, so 1-12 */\n    return new Date(date.year, date.month, 0).getDate();\n  }\n\n  _getOffsetOfFirstDayInMonth(date: CalendarDate) {\n    const offset = new Date(`${date.year}/${date.month}/01`).getDay();\n    return offset === 0 ? 6 : offset - 1;\n  }\n\n  _getDatesInMonthAsArray(date: CalendarDate, sliceArgs: number[]) {\n    return [\n      ...Array.from(Array(this._getDaysInMonth(date)).keys(), (_, n) => ({\n        year: date.year,\n        month: date.month,\n        day: n + 1,\n      })).slice(...sliceArgs),\n    ];\n  }\n\n  _getCalendarArray() {\n    if (!this.activeDate) {\n      return;\n    }\n    const dateTransformer = new DateTransformer({\n      date: this.activeDate || {day: 1, month: 1, year: 2022},\n    });\n\n    dateTransformer._direction = 'previous';\n    const previousMonth = this._getDatesInMonthAsArray(\n      dateTransformer.getDateByMonthInDirection(),\n      this._getOffsetOfFirstDayInMonth(this.activeDate)\n        ? [this._getOffsetOfFirstDayInMonth(this.activeDate) * -1]\n        : [-0, -0]\n    );\n    const activeMonth = this._getDatesInMonthAsArray(this.activeDate, []);\n    dateTransformer._direction = 'next';\n    const nextMonth = this._getDatesInMonthAsArray(\n      dateTransformer.getDateByMonthInDirection(),\n      [0, 42 - (previousMonth.length + activeMonth.length)]\n    );\n\n    return previousMonth.concat(activeMonth, nextMonth);\n  }\n}\n","import {LitElement, css, html} from 'lit';\nimport {customElement, state} from 'lit/decorators.js';\n\n@customElement('lms-calendar-day')\nexport default class Day extends LitElement {\n  @state()\n  _hours = [...Array(25).keys()];\n\n  @state()\n  _hasActiveSidebar = false;\n\n  static override styles = css`\n    .container {\n      display: flex;\n      /* Header: 3.5em */\n      height: calc(100% - 3.5em);\n      width: 100%;\n    }\n\n    .main {\n      display: grid;\n      grid-template-columns: 4em 1fr;\n      grid-template-rows: repeat(1440, 1fr);\n      height: calc(100% - 1em);\n      gap: 1px;\n      overflow-y: scroll;\n      text-align: center;\n      padding: 0.5em;\n      position: relative;\n    }\n\n    .hour {\n      text-align: center;\n    }\n\n    .indicator {\n      position: relative;\n      top: -0.6em;\n    }\n\n    .separator {\n      grid-column: 2 / 3;\n      border-top: 1px solid var(--separator-light);\n      position: absolute;\n      width: 100%;\n      z-index: 0;\n    }\n\n    .sidebar {\n      height: 100%;\n      border-left: 1px solid var(--separator-light);\n    }\n\n    .w-100 {\n      width: 100%;\n    }\n\n    .w-70 {\n      width: 70%;\n    }\n\n    .w-30 {\n      width: 30%;\n    }\n\n    .w-0 {\n      width: 0;\n    }\n  `;\n\n  override render() {\n    return html`<div class=\"container\">\n      <div class=\"main w-${!this._hasActiveSidebar ? '100' : '70' ?? '100'}\">\n        ${this._hours.map(\n          (hour, index) => html`\n            <div class=\"hour\" style=${this._getHourIndicator(hour)}>\n              <span class=\"indicator\">\n                ${hour < 10 ? `0${hour}:00` : `${hour}:00`}\n              </span>\n            </div>\n            ${index\n              ? html`<div\n                  class=\"separator\"\n                  style=\"grid-row: ${hour * 60}\"\n                ></div>`\n              : html``}\n            <slot name=\"${hour}\" class=\"entry\"></slot>\n          `\n        )}\n      </div>\n      <div\n        class=\"sidebar w-${!this._hasActiveSidebar ? '0' : '30' ?? '0'}\"\n        ?hidden=${!this._hasActiveSidebar}\n      ></div>\n    </div>`;\n  }\n\n  _getHourIndicator(hour: number) {\n    return hour !== 24\n      ? `grid-row: ${(hour + 1) * 60 - 59}/${(hour + 1) * 60}`\n      : 'grid-row: 1440';\n  }\n}\n","import {LitElement, css, html} from 'lit';\nimport {customElement} from 'lit/decorators.js';\nimport Translations from '../locales/Translations';\n\n@customElement('lms-calendar-context')\nexport default class Context extends LitElement {\n  private translations = new Translations();\n\n  static override styles = css`\n    div {\n      height: 1.75em;\n      display: grid;\n      grid-template-columns: repeat(7, 1fr);\n    }\n    span {\n      padding: 0.25em;\n      text-align: left;\n    }\n  `;\n\n  override render() {\n    return html` <div>\n      <span>${this.translations.getTranslation('Mon')}</span>\n      <span>${this.translations.getTranslation('Tues')}</span>\n      <span>${this.translations.getTranslation('Wed')}</span>\n      <span>${this.translations.getTranslation('Thurs')}</span>\n      <span>${this.translations.getTranslation('Fri')}</span>\n      <span>${this.translations.getTranslation('Sat')}</span>\n      <span>${this.translations.getTranslation('Sun')}</span>\n    </div>`;\n  }\n}\n","import {LitElement, css, html, nothing} from 'lit';\nimport {customElement, property, state} from 'lit/decorators.js';\nimport isEmptyObjectOrUndefined from '../utils/isEmptyObjectOrUndefined.js';\n\n@customElement('lms-calendar-entry')\nexport default class Entry extends LitElement {\n  @property({attribute: false})\n  time?: CalendarTimeInterval;\n\n  @property()\n  heading = '';\n\n  @property()\n  content?: string;\n\n  @property()\n  isContinuation: Boolean = false;\n\n  @state()\n  _highlighted?: Boolean;\n\n  @state()\n  _extended?: Boolean;\n\n  static override styles = css`\n    :host {\n      font-size: small;\n      grid-column: 2;\n\n      border-radius: var(--entry-br);\n      grid-row: var(--start-slot);\n      width: var(--entry-w);\n      margin: var(--entry-m);\n      background-color: var(--entry-bc);\n      color: var(--entry-c);\n      /* z-index of separators in day view is 0 */\n      z-index: 1;\n    }\n\n    .main {\n      display: flex;\n      justify-content: space-between;\n      padding: 0.25em;\n      border-radius: var(--border-radius-sm);\n      background-color: inherit;\n    }\n\n    .main > span:first-child {\n      white-space: nowrap;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n\n    div[data-highlighted] {\n      background: var(--separator-light);\n    }\n  `;\n\n  override render() {\n    return html`\n      <div\n        class=\"main\"\n        ?data-highlighted=${this._highlighted}\n        ?data-extended=${this._extended}\n      >\n        <span @click=${this._handleClick}>\n          <span> ${this.heading} </span>\n          <span ?hidden=${isEmptyObjectOrUndefined(this.content)}\n            > ${this.content}</span\n          >\n        </span>\n        ${this.isContinuation\n          ? '...'\n          : html`<span>${this._displayStartTime(this.time)}</span> `}\n      </div>\n    `;\n  }\n\n  _displayStartTime(time?: CalendarTimeInterval) {\n    if (!time) {\n      return nothing;\n    }\n\n    const hours = time.start.hours;\n    let minutes: number | string = time.start.minutes;\n\n    if (minutes < 10) {\n      minutes = `0${minutes}`;\n    }\n\n    return `${hours}:${minutes}`;\n  }\n\n  _handleClick() {\n    this._highlighted = !this._highlighted;\n    this._extended = !this._extended;\n  }\n}\n","export default function getColorTextWithContrast(color: string) {\n  let red = 0;\n  let green = 0;\n  let blue = 0;\n\n  if (color) {\n    const matches: RegExpMatchArray | null = color\n      .replace(\n        /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i,\n        (_m, r, g, b) => `#${r}${r}${g}${g}${b}${b}`\n      )\n      .substring(1)\n      .match(/.{2}/g);\n\n    if (!matches) {\n      // Return default background and text colors\n      return ['rgb(255,255,255)', 'rgb(0,0,0)'];\n    }\n\n    [red, green, blue] = matches.map((x) => parseInt(x, 16));\n  }\n\n  // Calculate brightness of randomized colour\n  const brightness = (red * 299 + green * 587 + blue * 114) / 1000;\n\n  // Calculate brightness of white and black text\n  const lightText = (255 * 299 + 255 * 587 + 255 * 114) / 1000;\n  const darkText = (0 * 299 + 0 * 587 + 0 * 114) / 1000;\n\n  const backgroundColor = `rgb(${red},${green},${blue})`;\n  const textColor =\n    Math.abs(brightness - lightText) > Math.abs(brightness - darkText)\n      ? 'rgb(255, 255, 255)'\n      : 'rgb(0, 0, 0)';\n\n  return [backgroundColor, textColor];\n}\n","/** This is an implementation of the sweep-line algorithm\n *  Ref: https://www.baeldung.com/cs/finding-all-overlapping-intervals \\\n *  Example: https://stackoverflow.com/questions/30472556/how-to-find-all-overlapping-ranges-and-partition-them-into-chunks\n */\n\nexport default function partitionOverlappingIntervals(intervals: Interval[]) {\n  const rightEndValues = intervals.map((r) => r.end).sort((a, b) => a - b);\n  intervals.sort((a, b) => a.start - b.start);\n\n  let i = 0;\n  let j = 0;\n  let active = 0;\n\n  const groups = [];\n  let cur = [];\n\n  while (i < intervals.length && j < rightEndValues.length) {\n    if (intervals[i].start < rightEndValues[j]) {\n      cur.push(intervals[i++]);\n      ++active;\n    } else {\n      ++j;\n      if (--active === 0) {\n        groups.push(cur);\n        cur = [];\n      }\n    }\n  }\n\n  if (cur.length > 0) {\n    groups.push(cur);\n  }\n\n  return groups;\n}\n","export default class EntryTransformer {\n  currentStartDate: Date;\n  currentEndDate: Date;\n  constructor(\n    private readonly entry: CalendarEntry,\n    private readonly startDate: Date,\n    private readonly index: number\n  ) {\n    this.entry = entry;\n    this.startDate = startDate;\n    this.currentStartDate = new Date(\n      this.startDate.getTime() + this.index * (1000 * 3600 * 24)\n    );\n    this.currentEndDate = new Date(\n      this.currentStartDate.getTime() + 1000 * 3600 * 24 - 1\n    );\n  }\n\n  getEntry() {\n    return {\n      ...this.entry,\n      date: {\n        start: {\n          day: this.currentStartDate.getDate(),\n          month: this.currentStartDate.getMonth() + 1,\n          year: this.currentStartDate.getFullYear(),\n        },\n        end: {\n          day: this.currentEndDate.getDate(),\n          month: this.currentEndDate.getMonth() + 1,\n          year: this.currentEndDate.getFullYear(),\n        },\n      },\n    };\n  }\n}\n","import {LitElement, css, html, nothing} from 'lit';\nimport {customElement, property, state} from 'lit/decorators.js';\nimport {ResizeObserver} from '@juggle/resize-observer';\n\nimport './components/Header.js';\nimport LMSCalendarHeader from './components/Header';\nimport './components/Month.js';\nimport LMSCalendarMonth from './components/Month';\nimport './components/Day.js';\nimport LMSCalendarDay from './components/Day';\nimport './components/Context.js';\nimport LMSCalendarContext from './components/Context';\nimport './components/Entry.js';\nimport LMSCalendarEntry from './components/Entry';\nimport isEmptyObjectOrUndefined from './utils/isEmptyObjectOrUndefined.js';\nimport getColorTextWithContrast from './utils/getColorTextWithContrast.js';\nimport partitionOverlappingIntervals from './utils/partitionOverlappingIntervals.js';\nimport getOverlappingEntitiesIndices from './utils/getOverlappingEntitiesIndices.js';\nimport haveSameValues from './utils/haveSameValues.js';\nimport getSortedGradingsByIndex from './utils/getSortedGradingsByIndex.js';\nimport EntryTransformer from './lib/EntryTransformer.js';\nimport DateTransformer from './lib/DateTransformer.js';\n\n@customElement('lms-calendar')\nexport default class LMSCalendar extends LitElement {\n  @property({type: String})\n  heading = '';\n\n  @property({type: Object})\n  activeDate: CalendarDate = {\n    day: 1,\n    month: 1,\n    year: 2022,\n  };\n\n  @property({type: Array})\n  entries: CalendarEntry[] = [];\n\n  @property({type: String})\n  color = '#000000';\n\n  @state()\n  _expandedDate?: CalendarDate;\n\n  @state() _viewportWidth: number = window.innerWidth;\n\n  @state() resizeObserver: ResizeObserver = new ResizeObserver((entries) => {\n    this._viewportWidth = entries[0].contentRect.width;\n  });\n\n  static override styles = css`\n    :host {\n      --shadow-sm: rgba(0, 0, 0, 0.18) 0px 2px 4px;\n      --shadow-md: rgba(0, 0, 0, 0.15) 0px 3px 3px 0px;\n      --shadow-lg: rgba(0, 0, 0, 0.15) 0px 2px 8px;\n      --shadow-hv: rgba(0, 0, 0, 0.08) 0px 4px 12px;\n\n      --breakpoint-xs: 425px;\n      --breakpoint-sm: 768px;\n      --breakpoint-md: 1024px;\n\n      --separator-light: rgba(0, 0, 0, 0.1);\n      --separator-mid: rgba(0, 0, 0, 0.4);\n      --separator-dark: rgba(0, 0, 0, 0.7);\n\n      --system-ui: system, -apple-system, '.SFNSText-Regular', 'San Francisco',\n        'Roboto', 'Segoe UI', 'Helvetica Neue', 'Lucida Grande', sans-serif;\n\n      --border-radius-sm: 5px;\n      --border-radius-md: 7px;\n      --border-radius-lg: 12px;\n    }\n    div {\n      height: 100%;\n      width: 100%;\n      background-color: #fff;\n      border-radius: var(--border-radius-lg);\n      border: 1px solid var(--separator-light);\n      font-family: var(--system-ui);\n      color: var(--separator-dark);\n      box-shadow: var(--shadow-md);\n    }\n  `;\n\n  override render() {\n    return html`\n      <div>\n        <lms-calendar-header\n          @switchdate=${this._handleSwitchDate}\n          @switchview=${this._handleSwitchView}\n          .heading=${this.heading}\n          .activeDate=${this.activeDate}\n          .expandedDate=${this._expandedDate}\n        >\n        </lms-calendar-header>\n\n        <lms-calendar-context\n          ?hidden=${!isEmptyObjectOrUndefined(this._expandedDate)}\n        >\n        </lms-calendar-context>\n\n        <lms-calendar-month\n          @expand=${this._handleExpand}\n          .activeDate=${this.activeDate}\n          ?hidden=${!isEmptyObjectOrUndefined(this._expandedDate)}\n        >\n          ${this._viewportWidth < 768\n            ? this._getEntriesSumByDay()\n            : this._getEntries()}\n        </lms-calendar-month>\n\n        <lms-calendar-day\n          ?hidden=${isEmptyObjectOrUndefined(this._expandedDate)}\n        >\n          ${this._getEntriesByDate()}\n        </lms-calendar-day>\n      </div>\n    `;\n  }\n\n  override connectedCallback() {\n    super.connectedCallback();\n    this.resizeObserver.observe(this);\n  }\n\n  resizedCallback(rect: DOMRect) {\n    if (rect.width !== this._viewportWidth) {\n      this._viewportWidth = rect.width;\n    }\n  }\n\n  override disconnectedCallback() {\n    super.disconnectedCallback();\n  }\n\n  _handleSwitchDate(e: CustomEvent) {\n    const dateTransformer = new DateTransformer({});\n    dateTransformer._direction = e.detail.direction;\n\n    if (this._expandedDate) {\n      dateTransformer._date = this._expandedDate;\n      const dateInDirection = dateTransformer.getDateByDayInDirection();\n      this._expandedDate = dateInDirection;\n      this.activeDate = dateInDirection;\n      return;\n    }\n\n    dateTransformer._date = this.activeDate;\n    this.activeDate = dateTransformer.getDateByMonthInDirection();\n  }\n\n  _handleSwitchView(e: CustomEvent) {\n    if (e.detail.view === 'day') {\n      this._expandedDate = !isEmptyObjectOrUndefined(this._expandedDate)\n        ? this._expandedDate\n        : this.activeDate;\n    }\n\n    if (e.detail.view === 'month') {\n      this.activeDate = this._expandedDate ?? this.activeDate;\n      this._expandedDate = undefined;\n    }\n  }\n\n  _handleExpand(e: CustomEvent) {\n    this._expandedDate = e.detail.date;\n  }\n\n  _getEntries() {\n    if (this.entries.length) {\n      /** If the viewportWidth is under 768px we just sum the number of entries\n       *  for a given day and add a single entry containing the sum. */\n\n      const chronologicalEntries = this.entries.sort(\n        (a, b) =>\n          a.time.start.hours - b.time.start.hours ||\n          a.time.start.minutes - b.time.start.minutes\n      );\n\n      const entriesTemplateResults = chronologicalEntries.map(\n        ({date, time, heading, color}, index) => {\n          const [background, text] = getColorTextWithContrast(color);\n          const [startDate, , rangeDays] = this._getDaysRange(date);\n\n          /** Create an array of <lms-calendar-entry> elements for each day the entry spans\n           *  and add them to the entries array. */\n          const entries = [];\n          for (let i = 0; i < rangeDays; i++) {\n            const currentEntry = new EntryTransformer(\n              {date, time, heading, color, content: ''},\n              startDate,\n              i\n            ).getEntry();\n\n            const isContinuation = i > 0 && rangeDays > 1;\n            const lmsCalendarEntry = html`\n              <style>\n                lms-calendar-entry.${`_${index}`} {\n                  --entry-br: ${rangeDays > 1 ? 0 : `var(--border-radius-sm)`};\n                  --entry-m: 0 ${i !== 0 ? 0 : `0.25em`} 0\n                    ${i !== 0 ? 0 : `1.5em`};\n                  --entry-bc: ${background};\n                  --entry-c: ${text};\n                }\n              </style>\n              <lms-calendar-entry\n                class=${`_${index}`}\n                slot=\"${currentEntry.date.start.year}-${currentEntry.date.start\n                  .month}-${currentEntry.date.start.day}\"\n                .time=${currentEntry.time}\n                .heading=${isContinuation ? '' : currentEntry.heading}\n                .isContinuation=${isContinuation}\n              >\n              </lms-calendar-entry>\n            `;\n            entries.push(lmsCalendarEntry);\n          }\n\n          return entries;\n        }\n      );\n\n      return entriesTemplateResults.flat();\n    }\n\n    return nothing;\n  }\n\n  _getEntriesByDate() {\n    if (isEmptyObjectOrUndefined(this._expandedDate)) {\n      return;\n    }\n    const entriesByDate = this.entries.filter((entry) => {\n      const start = entry.time.start;\n      const end = entry.time.end;\n      const sameDay = haveSameValues(\n        entry.date.start,\n        this._expandedDate || {}\n      );\n\n      return (\n        sameDay &&\n        (start.hours < end.hours ||\n          (start.hours === end.hours && start.minutes < end.minutes))\n      );\n    });\n\n    const grading = getSortedGradingsByIndex(\n      !isEmptyObjectOrUndefined(entriesByDate)\n        ? getOverlappingEntitiesIndices(\n            this._getPartitionedSlottedItems(entriesByDate)\n          )\n        : []\n    );\n\n    return entriesByDate.map(({time, heading, content, color}, index) => {\n      const [background, text] = getColorTextWithContrast(color);\n      return html`\n        <style>\n          lms-calendar-entry.${`_${index}`} {\n            --start-slot: ${this._getGridSlotByTime(time)};\n            --entry-w: ${this._getWidthByGroupSize({grading, index})}%;\n            --entry-m: 0 1.5em 0 ${this._getOffsetByDepth({grading, index})}%;\n            --entry-bc: ${background};\n            --entry-c: ${text};\n          }\n        </style>\n        <lms-calendar-entry\n          class=${`_${index}`}\n          slot=${time.start.hours}\n          .time=${time}\n          .heading=${heading}\n          .content=${content}\n        >\n        </lms-calendar-entry>\n      `;\n    });\n  }\n\n  _getEntriesSumByDay() {\n    const entriesByDay = this.entries.reduce(\n      (acc, entry) => {\n        const {day, month, year} = entry.date.start;\n        const key = `${day}-${month}-${year}`;\n        acc[key] = acc[key] ? acc[key] + 1 : 1;\n        return acc;\n      },\n      {} as {[key: string]: number}\n    );\n\n    return Object.keys(entriesByDay).map((key, index) => {\n      const [day, month, year] = key.split('-');\n      return html`\n        <style>\n          lms-calendar-entry.${`_${index}`} {\n            --entry-br: var(--border-radius-sm);\n            --entry-m: 0 auto;\n            --entry-bc: whitesmoke;\n            --entry-c: black;\n          }\n        </style>\n        <lms-calendar-entry\n          class=${`_${index}`}\n          slot=\"${+year}-${+month}-${+day}\"\n          .time=${undefined}\n          .heading=\"[ ${entriesByDay[key].toString()} ]\"\n        ></lms-calendar-entry>\n      `;\n    });\n  }\n\n  _getGridSlotByTime({start, end}: CalendarTimeInterval) {\n    const startRow = start.hours * 60 + (start.minutes + 1);\n    return `${startRow}/${\n      startRow + (end.hours * 60 + end.minutes - startRow)\n    }`;\n  }\n\n  _getWidthByGroupSize({grading, index}: {grading: Grading[]; index: number}) {\n    return (\n      100 / grading.filter((item) => item.group === grading[index].group).length\n    );\n  }\n\n  _getOffsetByDepth({grading, index}: {grading: Grading[]; index: number}) {\n    return grading[index].depth === 0\n      ? 0\n      : grading[index].depth *\n          (100 /\n            grading.filter((item) => item.group === grading[index].group)\n              .length);\n  }\n\n  _getPartitionedSlottedItems(items: CalendarEntry[]) {\n    return partitionOverlappingIntervals(\n      items\n        .map((entry: CalendarEntry) =>\n          this._getGridSlotByTime(entry.time)\n            .replace(/[^0-9/]+/g, '')\n            .split('/')\n        )\n        .map(([start, end]) => [parseInt(start, 10), parseInt(end, 10)])\n        .map(([start, end]) => ({start, end}))\n    );\n  }\n\n  _getDaysRange(date: CalendarDateInterval): [Date, Date, number] {\n    const {start, end} = date;\n    const startDate = new Date(start.year, start.month - 1, start.day);\n    const endDate = new Date(end.year, end.month - 1, end.day);\n\n    return [\n      startDate,\n      endDate,\n      (endDate.getTime() - startDate.getTime()) / (1000 * 3600 * 24) + 1,\n    ];\n  }\n}\n\ndeclare global {\n  interface HTMLElementTagNameMap {\n    'lms-calendar': LMSCalendar;\n    'lms-calendar-header': LMSCalendarHeader;\n    'lms-calendar-month': LMSCalendarMonth;\n    'lms-calendar-day': LMSCalendarDay;\n    'lms-calendar-context': LMSCalendarContext;\n    'lms-calendar-entry': LMSCalendarEntry;\n  }\n\n  interface CalendarDate {\n    day: number;\n    month: number;\n    year: number;\n  }\n\n  interface CalendarDateInterval {\n    start: CalendarDate;\n    end: CalendarDate;\n  }\n\n  interface CalendarTime {\n    hours: number;\n    minutes: number;\n  }\n\n  interface CalendarTimeInterval {\n    start: CalendarTime;\n    end: CalendarTime;\n  }\n\n  interface CalendarEntry {\n    date: CalendarDateInterval;\n    time: CalendarTimeInterval;\n    heading: string;\n    content: string;\n    color: string;\n  }\n\n  interface Interval {\n    start: number;\n    end: number;\n  }\n\n  interface Grading {\n    index: number;\n    depth: number;\n    group: number;\n  }\n\n  interface Partition {\n    index: number | undefined;\n    depth: number | undefined;\n    group: number | undefined;\n    start: number;\n    end: number;\n  }\n}\n","export default function haveSameValues<T1 extends object, T2 extends object>(\n  a: T1,\n  b: T2\n): boolean {\n  if (Object.keys(a).length !== Object.keys(b).length) {\n    return false;\n  }\n\n  return Object.entries(a).every(([key, value]) => {\n    // Check if the key exists in both objects and if the type of the value for the key is the same\n    if (\n      key in a &&\n      key in b &&\n      typeof a[key as keyof T1] === typeof b[key as keyof T2]\n    ) {\n      // Compare the values of the key in both objects\n      return value === b[key as keyof T2];\n    }\n\n    return false;\n  });\n}\n","export default function rearrangeDepths(gradings: Grading[]) {\n  const groups = new Map<number, Grading[]>();\n\n  gradings.forEach((item) => {\n    if (!groups.has(item.group)) {\n      groups.set(item.group, []);\n    }\n    groups\n      .get(item.group)!\n      .push({index: item.index, depth: item.depth, group: item.group});\n  });\n\n  const result: Grading[] = [];\n  groups.forEach((groupGradings) => {\n    groupGradings.sort((a, b) => a.index - b.index);\n    groupGradings.forEach((item, i) => {\n      result.push({index: item.index, depth: i, group: item.group});\n    });\n  });\n\n  result.sort((a, b) => a.index - b.index);\n  return result;\n}\n","import partitionOverlappingIntervals from './partitionOverlappingIntervals.js';\n\nexport default function getOverlappingEntitiesIndices(\n  partitions: Interval[][]\n): Grading[] {\n  /** First we determine all non-overlapping partitions and save their indices.\n   *  Indices go into the index portion of the resolving objects and we add\n   *  a depth of 0 to indicate, that this is a full-width element.\n   */\n\n  const result = partitions.reduce(\n    (accumulator: Grading[], partition, index: number) =>\n      partition.length === 1\n        ? [\n            ...accumulator,\n            {\n              index: [partitions.slice(0, index)].flatMap(\n                (item) => item.flat().length\n              )[0],\n              depth: 0,\n              group: index,\n            },\n          ]\n        : [...accumulator],\n    []\n  );\n\n  /** Then we filter the non-overlapping partitions out */\n  const _partitions = partitions\n    .map((partition, index) =>\n      partition.map((item, _index) => ({\n        ...item,\n        index:\n          [partitions.slice(0, index)].flatMap(\n            (item) => item.flat().length\n          )[0] + _index,\n        group: index,\n      }))\n    )\n    .filter((partition) => partition.length > 1);\n\n  /** For each of the remaining partitions we have to check how deeply they overlap.\n   *  TODO: Add indictor for partition group; document...\n   */\n  let depth = 0;\n  let openGroup: number | undefined = Math.min(\n    ...[..._partitions.map((partition) => partition[0].group)]\n  );\n  function recursiveBubbleSort({\n    partitions,\n    isNested = false,\n  }: {\n    partitions: Partition[][];\n    isNested?: Boolean;\n  }) {\n    depth = isNested ? (depth += 1) : 0;\n    partitions.forEach((partition: Partition[]) => {\n      const {group} = partition[0];\n      if (openGroup !== group) {\n        depth = 0;\n      }\n      openGroup = group;\n\n      const delta = [\n        ...partition.map(({start, end}: Partition) => end - start),\n      ];\n      const maxDelta = Math.max(...delta);\n      const indexMaxDelta: number = delta.indexOf(maxDelta);\n\n      result.push({\n        index: partition[indexMaxDelta].index as number,\n        depth,\n        group: partition[indexMaxDelta].group as number,\n      });\n\n      partition.splice(delta.indexOf(maxDelta), 1);\n\n      recursiveBubbleSort({\n        partitions: partitionOverlappingIntervals(\n          partition as Interval[]\n        ) as Partition[][],\n        isNested: true,\n      });\n    });\n  }\n\n  recursiveBubbleSort({partitions: _partitions as Partition[][]});\n\n  return result.sort((a, b) => a.index - b.index);\n}\n"],"names":["__decorate","decorators","target","key","desc","d","c","arguments","length","r","Object","getOwnPropertyDescriptor","Reflect","decorate","i","defineProperty","SuppressedError","t","globalThis","e","ShadowRoot","ShadyCSS","nativeShadow","Document","prototype","CSSStyleSheet","s","Symbol","o","WeakMap","n$3","constructor","this","_$cssResult$","Error","cssText","styleSheet","get","replaceSync","set","toString","reduce","n","cssRules","is","getOwnPropertyNames","h","getOwnPropertySymbols","getPrototypeOf","a","trustedTypes","l","emptyScript","p","reactiveElementPolyfillSupport","u","toAttribute","Boolean","Array","JSON","stringify","fromAttribute","Number","parse","f","y","attribute","type","String","converter","reflect","hasChanged","metadata","litPropertyMetadata","b","HTMLElement","addInitializer","_$Ei","push","observedAttributes","finalize","_$Eh","keys","createProperty","state","elementProperties","noAccessor","getPropertyDescriptor","call","requestUpdate","configurable","enumerable","getPropertyOptions","hasOwnProperty","Map","finalized","properties","_$Eu","elementStyles","finalizeStyles","styles","isArray","Set","flat","reverse","unshift","toLowerCase","super","_$Ep","isUpdatePending","hasUpdated","_$Em","_$Ev","_$Eg","Promise","enableUpdating","_$AL","_$ES","forEach","addController","_$E_","add","renderRoot","isConnected","hostConnected","removeController","delete","size","createRenderRoot","shadowRoot","attachShadow","shadowRootOptions","adoptedStyleSheets","map","document","createElement","litNonce","setAttribute","textContent","appendChild","connectedCallback","disconnectedCallback","hostDisconnected","attributeChangedCallback","_$AK","_$EO","removeAttribute","C","_$EP","has","_$ET","reject","scheduleUpdate","performUpdate","wrapped","shouldUpdate","willUpdate","hostUpdate","update","_$Ej","_$AE","hostUpdated","firstUpdated","updated","updateComplete","getUpdateComplete","mode","ReactiveElement","reactiveElementVersions","createPolicy","createHTML","Math","random","slice","createComment","v","_","m","RegExp","g","$","x","_$litType$","strings","values","w","for","T","A","E","createTreeWalker","P","lastIndex","exec","test","startsWith","V","parts","el","currentNode","content","firstChild","replaceWith","childNodes","nextNode","nodeType","hasAttributes","getAttributeNames","endsWith","getAttribute","split","index","name","ctor","k","H","I","R","tagName","append","data","indexOf","innerHTML","N","_$Co","_$Cl","_$litDirective$","_$AO","_$AT","_$AS","S","_$AV","_$AN","_$AD","_$AM","parentNode","_$AU","creationScope","importNode","M","nextSibling","L","_$AI","_$Cv","_$AH","_$AA","_$AB","options","startNode","endNode","_$AR","iterator","insertBefore","createTextNode","_$AC","_$AP","remove","setConnected","element","fill","O","toggleAttribute","capture","once","passive","removeEventListener","addEventListener","handleEvent","host","Z","litHtmlPolyfillSupport","litHtmlVersions","renderOptions","_$Do","renderBefore","render","_$litPart$","_$litElement$","litElementHydrateSupport","LitElement","litElementPolyfillSupport","litElementVersions","customElements","define","kind","init","ResizeObserverBoxOptions","resizeObservers","msg","trigger","freeze","obj","ResizeObserverSize","inlineSize","blockSize","DOMRectReadOnly","width","height","top","left","bottom","right","toJSON","_a","fromRect","rectangle","isSVG","SVGElement","isHidden","getBBox","_b","offsetWidth","offsetHeight","getClientRects","isElement","Element","scope","ownerDocument","defaultView","global","window","cache","scrollRegexp","verticalRegexp","IE","navigator","userAgent","parseDimension","pixel","parseFloat","switchSizes","zeroBoxes","devicePixelContentBoxSize","borderBoxSize","contentBoxSize","contentRect","calculateBoxSizes","forceRecalculation","cs","getComputedStyle","svg","ownerSVGElement","removePadding","boxSizing","writingMode","canScrollVertically","overflowY","canScrollHorizontally","overflowX","paddingTop","paddingRight","paddingBottom","paddingLeft","borderTop","borderTopWidth","borderRight","borderRightWidth","borderBottom","borderBottomWidth","horizontalPadding","verticalPadding","horizontalBorderArea","borderLeftWidth","verticalBorderArea","horizontalScrollbarThickness","clientHeight","verticalScrollbarThickness","clientWidth","widthReduction","heightReduction","contentWidth","contentHeight","borderBoxWidth","borderBoxHeight","boxes","round","devicePixelRatio","calculateBoxSize","observedBox","DEVICE_PIXEL_CONTENT_BOX","BORDER_BOX","ResizeObserverEntry","calculateDepthForNode","node","Infinity","depth","parent","broadcastActiveObservations","shallowestDepth","callbacks","ro","activeTargets","entries","ot","entry","targetDepth","lastReportedSize","callback","observer","splice","_i","callbacks_1","gatherActiveObservationsAtDepth","skippedTargets","observationTargets","isActive","process","event","some","ErrorEvent","message","createEvent","initEvent","dispatchEvent","queueMicroTask","toggle_1","el_1","MutationObserver","cb","observe","characterData","concat","watching","observerConfig","attributes","childList","subtree","events","time","timeout","Date","now","scheduled","scheduler","Scheduler","_this","stopped","listener","schedule","run","until","elementsHaveResized","start","requestAnimationFrame","stop","body","disconnect","updateCount","ResizeObservation","CONTENT_BOX","isReplacedElement","display","ResizeObserverDetail","resizeObserver","observerMap","getObservationIndex","ResizeObserverController","connect","detail","firstObservation","box","unobserve","lastObservation","ResizeObserver","TypeError","isEmptyObjectOrUndefined","object","Translations","_lang","documentElement","lang","_locales","de","Mon","Tues","Wed","Thurs","Fri","Sat","Sun","Day","Month","getTranslation","locale","Header","translations","html","heading","expandedDate","day","month","_c","year","_d","activeDate","_e","_dispatchSwitchView","_dispatchSwitchDate","direction","currentTarget","CustomEvent","bubbles","composed","view","dataset","context","css","property","customElement","DateTransformer","date","_date","_direction","getDateByDayInDirection","newDate","getDate","getMonth","getFullYear","getDateByMonthInDirection","_getCalendarArray","_handleExpand","field","parseInt","_getDaysInMonth","_getOffsetOfFirstDayInMonth","offset","getDay","_getDatesInMonthAsArray","sliceArgs","from","dateTransformer","previousMonth","activeMonth","nextMonth","_hours","_hasActiveSidebar","hour","_getHourIndicator","Context","Entry","isContinuation","_highlighted","_extended","_handleClick","_displayStartTime","nothing","hours","minutes","getColorTextWithContrast","color","red","green","blue","matches","replace","_m","substring","match","brightness","abs","partitionOverlappingIntervals","intervals","rightEndValues","end","sort","j","active","groups","cur","EntryTransformer","startDate","currentStartDate","getTime","currentEndDate","getEntry","LMSCalendar","_viewportWidth","innerWidth","_handleSwitchDate","_handleSwitchView","_expandedDate","_getEntriesSumByDay","_getEntries","_getEntriesByDate","resizedCallback","rect","dateInDirection","undefined","chronologicalEntries","entriesTemplateResults","background","text","rangeDays","_getDaysRange","currentEntry","lmsCalendarEntry","entriesByDate","filter","sameDay","every","value","haveSameValues","grading","gradings","item","group","result","groupGradings","getSortedGradingsByIndex","partitions","accumulator","partition","flatMap","_partitions","_index","openGroup","min","recursiveBubbleSort","isNested","delta","maxDelta","max","indexMaxDelta","getOverlappingEntitiesIndices","_getPartitionedSlottedItems","_getGridSlotByTime","_getWidthByGroupSize","_getOffsetByDepth","entriesByDay","acc","startRow","items","endDate"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30]}